"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6933],{82270:function(e,t,s){var i,n,r,o,a,l,u;s.d(t,{E0:function(){return n},Eg:function(){return i},nL:function(){return d}}),(a=i||(i={})).questionNotFound="QUESTION_NOT_FOUND",a.unknownServerError="UNKNOWN_OPENAI_ERROR",a.quotaExceeded="QUOTA_EXCEEDED",a.webSearchExceeded="WEB_SEARCH_QUOTA_EXCEEDED",a.readingQuotaExceeded="READING_QUOTA_EXCEEDED",a.duplicatedUid="DUPLICATED_UID",a.intentActionNotFound="INTENT_ACTION_NOT_FOUND",a.intentActionRequired="INTENT_ACTION_REQUIRED",a.conversationNotFound="CONVERSATION_NOT_FOUND",a.conversationNotActive="CONVERSATION_NOT_ACTIVE",a.messageIsEmpty="MESSAGE_IS_EMPTY",a.invalidMessageContent="INVALID_MESSAGE_CONTENT",a.highTraffic="HIGH_TRAFFIC_LIMIT",a.loginDeviceExceeded="LOGIN_DEVICE_EXCEEDED",a.creditsQuotaExceed="CREDITS_QUOTA_EXCEED",a.teamLocked="TEAM_LOCKED",(l=n||(n={}))[l.creditsQuotaExceed=10018]="creditsQuotaExceed",l[l.quotaExceeded=10002]="quotaExceeded",l[l.seatLimitExceeded=13002]="seatLimitExceeded",(r||(r={})).windowNotExists="WINDOW_NOT_EXISTS",(u=o||(o={})).unknown="UNKNOWN",u.noAuth="NO_AUTH",u.notFound="NOT_FOUND",u.forbidden="FORBIDDEN";let d={paymentPlatformError:"unknown subscription status, please contact us at contact@monica.im",transactionIdNotFound:"transaction id not found, please contact us at at contact@monica.im",fsNotLoaded:"FastSpring not loaded"}},88575:function(e,t,s){s.d(t,{c:function(){return d}});var i=s(66084),n=s(56607);let r=["DesktopService","Agent","ChatBox","MindMap","Audio","Spreadsheet"],o=["DesktopService"];class a{getLogger(e){let t=new l(this.enabledModules,e);return this.loggers.push(t),t}enableAllLoggers(){this.enabledModules=new Set(r),this.loggers.forEach(e=>{e._enabledModules=this.enabledModules})}constructor(){(0,i._)(this,"console",console),(0,i._)(this,"loggers",[]),(0,i._)(this,"enabledModules",new Set(n.o.isProd?o:r))}}class l{get log(){return this._enabledModules.has(this._module)?console.log:u}get debug(){return this._enabledModules.has(this._module)?console.debug:u}get warn(){return console.warn}get error(){return console.error}constructor(e,t){(0,i._)(this,"_enabledModules",void 0),(0,i._)(this,"_module",void 0),this._enabledModules=e,this._module=t}}function u(){}let d=new a},861:function(e,t,s){s.d(t,{n:function(){return l}});var i=s(66084),n=s(52921),r=s(73047),o=s(92235);class a{get isApp(){return l.getIsMonicaApp()}get isH5(){return!this.isApp&&o.m.getIsMobile()}get isMobile(){return this.isApp||this.isH5}get isPc(){return!this.isMobile}get isWindows(){return this.isPc&&"Windows"===o.m.getOsType()}get systemPlatform(){return o.m.getOsType()}get isAndroidApp(){return this.isApp&&"Android"===this.systemPlatform}get isIosApp(){return this.isApp&&("IOS"===this.systemPlatform||"OSX"===this.systemPlatform)}getIsMonicaApp(){var e,t,s;return null!==(s=null===(t=globalThis)||void 0===t?void 0:null===(e=t.monicaAppEnv)||void 0===e?void 0:e.monicaApp)&&void 0!==s&&s}getIosInvitationUrl(e){return o.m.genUrl(this.iosBaseUrl,{clientExtra:"".concat(this.protocol,"invite/").concat(e)})}getAndroidInvitationUrl(e){return o.m.genUrl(this.androidBaseUrl,{clientExtra:"".concat(this.protocol,"invite/").concat(e)})}compareVersion(){var e,t,s;let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0.0.0",n=(null!==(s=null===(t=globalThis)||void 0===t?void 0:null===(e=t.monicaAppEnv)||void 0===e?void 0:e.version)&&void 0!==s?s:"0.0.0").split(".").map(Number),r=i.split(".").map(Number),o=Math.max(n.length,r.length);for(let e=0;e<o;e++){let t=n[e]||0,s=r[e]||0;if(t<s)return -1;if(t>s)return 1}return 0}getIosBotDetailUrl(e){return o.m.genUrl(this.iosBaseUrl,{clientExtra:"".concat(this.protocol,"detail/").concat(e)})}getAndroidBotDetailUrl(e){return o.m.genUrl(this.androidBaseUrl,{clientExtra:"".concat(this.protocol,"detail/").concat(e)})}getMemoDetailUrl(e){return o.m.genUrl(this.isAndroidApp?this.androidBaseUrl:this.iosBaseUrl,{memoId:e})}constructor(){(0,i._)(this,"protocol","monica://"),(0,i._)(this,"androidBaseUrl","https://universallink.monica.im/share-app-android"),(0,i._)(this,"iosBaseUrl","https://universallink.monica.im/share-app"),(0,i._)(this,"storeUrl",{mindMap:"https://app.adjust.com/1h15ax7j",chatPDF:"https://app.adjust.com/1hs57qyx",navGuide:"https://app.adjust.com/1len492k",featGuide:"https://app.adjust.com/1hmg4ojs",addToBrowser:"https://app.adjust.com/1ho9uu18",messagingIntegration:"https://app.adjust.com/1i533bct",invitationAffiliate:"https://app.adjust.com/1kl638ge",podcast:"https://app.adjust.com/1ixu5rhf"}),(0,i._)(this,"seoMobileGuideUrl",{youtubeSummary:"https://app.adjust.com/1h2awwp3",mindmap:"https://app.adjust.com/1h15ax7j",bypass:"https://app.adjust.com/1iumxhl1",text2pic:"https://app.adjust.com/1iow2fi1",pic2video:"https://app.adjust.com/1ic7ym34",chatpdf:"https://app.adjust.com/1hs57qyx",podcast:"https://app.adjust.com/1ixu5rhf",chatCompare:"https://app.adjust.com/1k3x98yd",aiMathResolver:"https://app.adjust.com/1lb1omte",default:"https://app.adjust.com/18q4vj1o"}),(0,r.rC)(this)}}(0,n.gn)([r.Fl],a.prototype,"isApp",null),(0,n.gn)([r.Fl],a.prototype,"isH5",null),(0,n.gn)([r.Fl],a.prototype,"isMobile",null),(0,n.gn)([r.Fl],a.prototype,"isPc",null),(0,n.gn)([r.Fl],a.prototype,"isWindows",null),(0,n.gn)([r.Fl],a.prototype,"systemPlatform",null),(0,n.gn)([r.Fl],a.prototype,"isAndroidApp",null),(0,n.gn)([r.Fl],a.prototype,"isIosApp",null);let l=new a},31284:function(e,t,s){s.d(t,{B:function(){return n}});var i=s(66084);class n{constructor(){(0,i._)(this,"resolve",void 0),(0,i._)(this,"reject",void 0),(0,i._)(this,"promise",new Promise((e,t)=>{this.resolve=e,this.reject=t}))}}},32004:function(e,t,s){s.d(t,{f:function(){return n}});class i{getProxy(e){let t=this.getStore(e),s={add:e=>(t.disposers.push(e),s),disposeAll(){t.disposers.forEach(e=>e()),t.disposers=[]}};return s}getStore(e){let t="__reactionHelperStore";if(e[t])return e[t];let s={disposers:[]};return e[t]=s,s}}let n=new i},16042:function(e,t,s){s.d(t,{w:function(){return i}});class i extends Error{constructor(){super("Feature not supported on this platform"),this.name="CrossPlatformError"}}class n{createPolyfill(){return new Proxy({},{get(){throw new i}})}}new n},77099:function(e,t,s){s.d(t,{l:function(){return a}});var i=s(22046),n=s(56607),r=s(31640);class o{getPageType(){if(i.S.isRunInServerSide)return null;if("web-home"===n.o.entryType)return"home";let e=i.S.location.href.includes("chrome-extension")&&i.S.location.href.includes("chatTab.html");return n.o.isExtension&&e?"chatTab":null}getPageParams(){let e=this.getPageType(),t=["chat","bots","search","write","artist","translate","memo","reading","toolkit","discover","image","video","audio"];if("home"===e){let[e,s,n,...o]=r.q.getPathWithoutLocale(i.S.location.pathname).split("/"),a=new URL(i.S.location.href).searchParams,l={from:a.get("from")||void 0,action:a.get("action")||void 0,source:a.get("source")||void 0,channel:a.get("channel")||void 0};if("chat"===n&&o){let[e,t]=o,s=a.get("bot"),i=a.get("convId")||void 0,n=a.get("q")||void 0,r=a.get("artifactId")||void 0,u=a.get("itemId")||void 0,d=a.get("isIncognitoMode")||void 0,c="1"===a.get("autoSend"),h=a.get("continueInChatId")||void 0,p="1"===a.get("realtime"),m=a.get("starBotId")||void 0;return{...l,tab:"chat",botName:e,botUid:s||t,convId:i,q:n,artifactId:r,itemId:u,isIncognitoMode:d,autoSend:c,continueInChatId:h,realtime:p,starBotId:m}}if("artist"===n&&o){let[e,t,s]=o,n=new URL(i.S.location.href).searchParams.get("bot"),r=new URL(i.S.location.href).searchParams.get("tab")||void 0,a=new URL(i.S.location.href).searchParams.get("payload")||"{}";return"old"!==e&&"detail"!==e?{...l,tab:"artist",type:"list"}:{...l,tab:"artist",type:e,botName:t,botUid:n||s,detailTab:r,detailPayload:JSON.parse(a)}}if("memo"===n&&o){let[e]=o;return{...l,tab:"memo",memoId:e}}if(n&&t.includes(n))return{...l,tab:n}}if("chatTab"===e){let e=new URL(i.S.location.href).searchParams,s=e.get("tab"),n={from:e.get("from")||void 0,action:e.get("action")||void 0};if("chat"===s){let t=e.get("botName")||void 0,s=e.get("botUid")||void 0,i=e.get("convId")||void 0,r=e.get("q")||void 0,o=e.get("artifactId")||void 0,a=e.get("itemId")||void 0,l=e.get("id")||void 0;return{...n,tab:"chat",botName:t,botUid:s,convId:i,q:r,artifactId:o,itemId:a,id:l}}if("artist"===s){let t=e.get("botName")||void 0,s=e.get("botUid")||void 0;return{...n,tab:"artist",botName:t,botUid:s}}if("memo"===s){let t=e.get("memoId")||void 0;return{...n,tab:"memo",memoId:t}}if(s&&t.includes(s))return{...n,tab:s}}return null}createPageParamsUrl(e,t){let s=new URLSearchParams;e.source&&s.set("source",e.source),e.action&&s.set("action",e.action),e.from&&s.set("from",e.from),e.channel&&s.set("channel",e.channel);let i=()=>{let e=s.toString();return e?"?".concat(e):""};if("home"===t){if("chat"===e.tab){let t=[e.tab,e.botName,e.botUid].filter(Boolean).join("/");return e.q&&s.set("q",e.q),e.artifactId&&s.set("artifactId",e.artifactId),e.itemId&&s.set("itemId",e.itemId),e.convId&&s.set("convId",e.convId),"1"===e.isIncognitoMode&&s.set("isIncognitoMode",e.isIncognitoMode),"/home/".concat(t).concat(i())}if("artist"===e.tab){let t=[e.tab,e.botName,e.botUid].filter(Boolean).join("/");return"/home/".concat(t).concat(i())}if("memo"===e.tab){let t=[e.tab,e.memoId].filter(Boolean).join("/");return"/home/".concat(t).concat(i())}return"/home/".concat(e.tab).concat(i())}return"chatTab"===t?(s.set("tab",e.tab),"chat"===e.tab?(e.botName&&s.set("botName",e.botName),e.botUid&&s.set("botUid",e.botUid),e.convId&&s.set("convId",e.convId),e.q&&s.set("q",e.q),e.artifactId&&s.set("artifactId",e.artifactId),e.itemId&&s.set("itemId",e.itemId),e.id&&s.set("id",e.id)):"artist"===e.tab?(e.botName&&s.set("botName",e.botName),e.botUid&&s.set("botUid",e.botUid)):"memo"===e.tab&&e.memoId&&s.set("memoId",e.memoId),"/chatTab.html".concat(i())):""}}let a=new o},11989:function(e,t,s){s.d(t,{t:function(){return a}});var i=s(92660),n=s(70151),r=s(92235);class o{isHotkey(e,t){return(0,n.P6)(t)(e)}codeToKey(e){return d[e]}isModifierKey(e){return e.key===i.yX.Control||e.key===i.yX.Alt||e.key===i.yX.Shift||e.key===i.yX.Meta}prettifyHotkey(e,t){let s="OSX"===r.m.getOsType();return e.split("+").filter(e=>e).map(e=>{let t;let i=e.trim();return(" "===(t="commandorcontrol"===i.toLowerCase()?(0,n.rs)("mod"):(0,n.rs)(i))&&(t="Space"),t=r.m.capitalize(t),s)?l[t]||t:u[t]||t}).join(t||(s?"":"+"))}toHotkey(e){let t=[];return e.ctrlKey&&t.push("ctrl"),e.altKey&&t.push("alt"),e.metaKey&&t.push("meta"),e.shiftKey&&t.push("shift"),this.isModifierKey(e)||t.push(this.codeToKey(e.which)),t.join("+")}}let a=new o,l={Control:"⌃",Alt:"⌥",Shift:"⇧",Meta:"⌘",Backspace:"⌫",Tab:"⇥",Enter:"⏎",Esc:"Esc",Escape:"Esc",Space:"Space",PageUp:"⇞",PageDown:"⇟",End:"↘",Home:"↖",Arrowleft:"←",Arrowup:"↑",Arrowright:"→",Arrowdown:"↓",Insert:"⎀",Delete:"⌦"},u={Control:"Ctrl",Alt:"Alt",Meta:"Win",Arrowleft:"←",Arrowup:"↑",Arrowright:"→",Arrowdown:"↓"},d={8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause/Break",20:"Caps Lock",27:"Esc",32:"Space",33:"Page Up",34:"Page Down",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",45:"Insert",46:"Delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",91:"Windows",93:"Right Click",96:"Numpad 0",97:"Numpad 1",98:"Numpad 2",99:"Numpad 3",100:"Numpad 4",101:"Numpad 5",102:"Numpad 6",103:"Numpad 7",104:"Numpad 8",105:"Numpad 9",106:"Numpad *",107:"Numpad +",109:"Numpad -",110:"Numpad .",111:"Numpad /",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Num Lock",145:"Scroll Lock",182:"My Computer",183:"My Calculator",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"}},82125:function(e,t,s){s.d(t,{CrepeSdk:function(){return r}});var i,n,r,o=s(66084);(i=n||(n={})).RESP_FIELD_STATUS="code",i.RESP_FIELD_MESSAGE="msg",i.RESP_FIELD_ERROR_NAME="error",i.RESP_SUCCESS_STATUS=0;var a=s(75153);!function(e){let t="[CrepeSdk] ";class s{}e.ExceptionHandler=s,e.NameTransformers={snakeToCamel:e=>e.replace(/(_[a-z])/g,e=>e.toUpperCase().replace("_","")),camelToSnake:e=>e.replace(/([A-Z])/g,e=>"_".concat(e.toLowerCase())).replace(/^_/,"")};class i{constructor(e,t,s,i,n,r,a,l){(0,o._)(this,"reqInfo",void 0),(0,o._)(this,"name",void 0),(0,o._)(this,"httpError",void 0),(0,o._)(this,"httpStatus",void 0),(0,o._)(this,"httpStatusText",void 0),(0,o._)(this,"code",void 0),(0,o._)(this,"message",void 0),(0,o._)(this,"data",void 0),(0,o._)(this,"originalError",void 0),(0,o._)(this,"handled",void 0),this.reqInfo=e,this.handled=!1,this.httpError=t,this.httpStatus=s,this.httpStatusText=i,this.name=this.constructor.name,this.code=n,this.message=r,this.data=a,this.originalError={name:l.name,message:l.message,code:l.code,stack:l.stack}}}e.ApiRequestError=i;class r{constructor(e,t,s,i){(0,o._)(this,"reqInfo",void 0),(0,o._)(this,"name",void 0),(0,o._)(this,"cause",void 0),(0,o._)(this,"originalError",void 0),(0,o._)(this,"reason",void 0),this.reqInfo=e,this.name=this.constructor.name,this.originalError=s,this.cause=t,this.reason=i}}e.ApiRequestAborted=r;class l{nextId(){return++this.idCounter}expireSession(e,t){let s=this.sessionMap.get(e);return!!s&&(t&&s.has(t)?(s.get(t)._expire(),s.delete(t)):(s.forEach(e=>{e._expire()}),s.clear()),!0)}convertObjectNames(e,t){return t?Array.isArray(t)?t.map(t=>this.convertObjectNames(e,t)):"object"==typeof t?Object.keys(t).reduce((s,i)=>{let n=t[i];return s[this.convertNameKey(e,i)]=this.convertObjectNames(e,n),s},{}):t:t}convertNameKey(e,t){return"client"===e?this.config.nameTransformers.toClientName(t):this.config.nameTransformers.toServerName(t)}getSession(e,t,s,i){let n=this.sessionMap.get(e);n||(n=new Map,this.sessionMap.set(e,n));let r=n.get(t);if(r)return r._checkConfigs(s),r;let o=new i(e,t,s);return o._initApis(this),n.set(t,o),o}constructor(t){(0,o._)(this,"config",void 0),(0,o._)(this,"sessionMap",new WeakMap),(0,o._)(this,"idCounter",0),this.config=t,this.config.nameTransformers||(this.config.nameTransformers={toClientName:e.NameTransformers.snakeToCamel,toServerName:e.NameTransformers.camelToSnake})}}e.BaseSdk=l;class u{async sendRequest(e,s,i,n,r,o){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};if("localStorage"===a.cacheMode)throw Error("".concat(t,"localStorage cache not supported yet"));let l={id:this.sdk.nextId(),pathPrefix:this.pathPrefix,method:e,path:s,cmd:i,query:n,otherParams:r,isLowLevelResp:o,config:a,cacheKey:null};if(a.onResolve&&!a.cacheMode&&console.warn("".concat(t,"onResolve is usually combined with cacheMode")),a.useCache){a.cacheMode||console.error("".concat(t,"useCache must combined with cacheMode"));let n=this.getSignature(e,s,i,r);if(l.cacheKey=n,this.cachedData.has(n)){var u;this.handleSendRequest(l,!0);let e=this.cachedData.get(n);return null===(u=a.onResolve)||void 0===u||u.call(a,null,e,!0),e}}return this.handleSendRequest(l,!1)}handleSendRequest(e,t){var s;let{sdk:i}=this,{method:n,config:r}=e,{body:o,query:l}=this.getParams(n,e.cmd,e.query,e.otherParams),u=i.config.baseUrl+this.pathPrefix+e.path;l&&(u+="?".concat(l));let d=r.headers||{};i.config.globalSetHeader&&(d=i.config.globalSetHeader(d)),d["Content-Type"]||(d["Content-Type"]="application/json");let c=r.abortSignal||(null===(s=this.session)||void 0===s?void 0:s.abortSignal);this.onBeforeRequest(r,t);let h=a.L.request({url:u,method:n,headers:d,signal:c,data:"GET"===n?null:JSON.stringify(o)});return this.handleRes(e,h,t)}async handleRes(e,s,r){let{config:o}=e;try{let t=await s;if(200!==t.status&&400!==t.status)throw new i(e,!0,t.status,t.statusText,0,"request fail(".concat(t.status,")"),null,Error(t.statusText));if(e.isLowLevelResp)throw Error("TODO: handle low level resp");{var a,l;let s=t.data;if("audio/mpeg"===t.headers.get("content-type"))return null===(a=o.onResolve)||void 0===a||a.call(o,null,s,!1),s;let r=s[n.RESP_FIELD_STATUS],u=s[n.RESP_FIELD_MESSAGE],d=s[n.RESP_FIELD_ERROR_NAME],c=this.sdk.convertObjectNames("client",s);if(r===n.RESP_SUCCESS_STATUS)return e.cacheKey&&this.cachedData.set(e.cacheKey,c),null===(l=o.onResolve)||void 0===l||l.call(o,null,c,!1),c;let h=i;throw d&&this.sdk.allExceptions[d]&&(h=this.sdk.allExceptions[d]),new h(e,!1,t.status,t.statusText,r,u,c,Error(u))}}catch(s){if(r)return console.error("".concat(t," cache update fail"),s),null;return this.handleError(e,s)}finally{this.onAfterRequest(o,r)}}handleError(e,s){var n,o;let{config:a}=e;if(s instanceof DOMException&&s.code===s.ABORT_ERR){if(null===(o=a.abortSignal)||void 0===o?void 0:o.aborted)throw new r(e,"manualCanceled",s,a.abortSignal.reason);throw new r(e,"autoCanceled",s)}if(s instanceof TypeError&&"Failed to fetch"===s.message){let t=new i(e,!0,0,s.message,0,"network error(0)",null,s);if(this.triggerErrorHandlers(t,a),t.handled)throw new r(e,"handled",s)}if(s instanceof i&&(this.triggerErrorHandlers(s,a),s.handled))throw new r(e,"handled",s);e.cacheKey&&this.cachedData.delete(e.cacheKey);let l=s instanceof i?s:new i(e,!1,0,"".concat(s.name,": ").concat(s.message),0,"network error(".concat(s.message,")"),null,s);throw null===(n=a.onResolve)||void 0===n||n.call(a,l,null,!1),console.error("".concat(t," Unhandled api request error:"),l.reqInfo.pathPrefix+l.reqInfo.path,l.name,l.code,l.message),l}triggerErrorHandlers(e,t){var s;let i=!0;t.catch&&(i=!1===t.catch(e)),i&&(null===(s=this.session)||void 0===s?void 0:s.config.catch)&&(i=!1===this.session.config.catch(e)),this.sdk.config.globalErrorHandler&&!t.ignoreGlobalErrorHandler&&i&&(i=!1===this.sdk.config.globalErrorHandler(e)),e.handled=!i}onBeforeRequest(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t&&e.loadingProperties){let[t,...s]=e.loadingProperties;h(t,s,!0)}}onAfterRequest(e,t){if(!t&&e.loadingProperties){let[t,...s]=e.loadingProperties;h(t,s,!1)}}getParams(e,t,s,i){let n;if(n="GET"===e&&t?Object.keys(t).map(e=>[e,t[e]]):i,s)for(let e in s)n.push([e,s[e]]);return{body:t?this.sdk.convertObjectNames("server",t):{},query:n.filter(e=>{let[t,s]=e;return void 0!==s}).map(e=>{let[t,s]=e,i=this.sdk.convertNameKey("server",t);return"".concat(i,"=").concat(encodeURIComponent(this.stringifyQuery(s)))}).join("&")}}stringifyQuery(e){if("null"===e)return"";let t=this.sdk.convertObjectNames("server",e);switch(typeof t){case"boolean":return t?"true":"false";case"bigint":case"number":case"string":return t.toString();case"undefined":default:return"";case"object":if(Array.isArray(t))return t.map(e=>this.stringifyQuery(e)).join(",");return Object.keys(t).map(e=>"".concat(e,"=").concat(this.stringifyQuery(t[e]))).join("&")}}getSignature(e,t,s,i){return e.slice(0,2)+t+this.stableJsonStringify(s)+this.stableJsonStringify(i)}stableJsonStringify(e){let t=new Set;return JSON.stringify(e,(e,s)=>(t.add(e),s)),JSON.stringify(e,Array.from(t).sort())}constructor(e,s){if((0,o._)(this,"sdk",void 0),(0,o._)(this,"session",void 0),(0,o._)(this,"cachedData",new Map),this.sdk=e,s&&!(s instanceof c))throw Error("".concat(t,"session error"));this.session=s}}e.BaseDomainApi=u;class d{get abortSignal(){return this.abortController.signal}add(e){if(this.expired)throw Error("".concat(t,"session has expired"));if("idle"===this.status&&this.leading){this.onBeforeRun();try{let t=e(this.session);return this.doWait(),t}finally{this.onAfterRun()}}return this.queueNext(e),this.doWait(),this.nextP}expire(){var e;clearInterval(this.timer),clearInterval(this.maxWaitTimer),null===(e=this.abortController)||void 0===e||e.abort(),this.expired=!0}doWait(){this.status="waiting",this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout(()=>{this.status="idle",this.timer=null,this.maxWaitTimer&&(clearTimeout(this.maxWaitTimer),this.maxWaitTimer=null),this.trailing&&this.run()},this.wait),this.maxWait&&!this.maxWaitTimer&&(this.maxWaitTimer=setTimeout(()=>{this.maxWaitTimer=null,this.run(),this.doWait()},this.maxWait))}async run(){var e,t;if(!this.next)return;this.onBeforeRun();let s=this.next;this.next=null;try{let t=await s(this.session);null===(e=this.nextPResolve)||void 0===e||e.call(this,t)}catch(e){null===(t=this.nextPReject)||void 0===t||t.call(this,e)}finally{this.onAfterRun()}}queueNext(e){this.next=e,this.nextP=new Promise((e,t)=>{this.nextPResolve=e,this.nextPReject=t})}onBeforeRun(){var e,t;this.mutex&&(null===(t=this.abortController)||void 0===t||t.abort(),this.abortController=new AbortController),null===(e=this.session)||void 0===e||e._onBeforeRun()}onAfterRun(){var e;null===(e=this.session)||void 0===e||e._onAfterRun()}constructor(e,t){if((0,o._)(this,"session",void 0),(0,o._)(this,"wait",void 0),(0,o._)(this,"maxWait",void 0),(0,o._)(this,"leading",!1),(0,o._)(this,"trailing",!0),(0,o._)(this,"mutex",!0),(0,o._)(this,"status","idle"),(0,o._)(this,"next",null),(0,o._)(this,"nextP",null),(0,o._)(this,"nextPResolve",null),(0,o._)(this,"nextPReject",null),(0,o._)(this,"timer",null),(0,o._)(this,"maxWaitTimer",null),(0,o._)(this,"abortController",void 0),(0,o._)(this,"expired",!1),this.session=e,"number"==typeof t)this.wait=t;else{let{wait:e,leading:s,maxWait:i,trailing:n,mutex:r}=t;this.wait=e,this.maxWait=i,void 0!==s&&(this.leading=s),void 0!==n&&(this.trailing=n),void 0!==r&&(this.mutex=r),this.maxWait&&this.maxWait<this.wait&&console.warn("maxWait must >= wait")}}}class c{get abortSignal(){var e;return(null===(e=this.debounceManager)||void 0===e?void 0:e.abortSignal)||this.abortController.signal}get expired(){return this._expired}_checkConfigs(e){if(JSON.stringify(e)!==JSON.stringify(this.config))throw console.error({context:this.context,name:this.name,oldConfig:this.config,newConfig:e}),Error("".concat(t,"config inconsistent when calling same session"))}async _run(){if(this._expired)throw Error("".concat(t,"session has expired"));if("normal"===this.mode){this._onBeforeRun();try{return this.config.handler(this)}finally{this._onAfterRun()}}if("mutex"===this.mode){this.cancelUnfinished(),this._onBeforeRun();try{return this.config.handler(this)}finally{this._onAfterRun()}}if("debounce"===this.mode)return this.debounceManager.add(this.config.handler);if("polling"===this.mode){this._onBeforeRun();try{return this.config.handler(this)}finally{this._onAfterRun()}}throw Error("".concat(t," Unknown session mode: ").concat(this.mode))}_expire(){var e;this.cancelUnfinished(),null===(e=this.debounceManager)||void 0===e||e.expire(),this._expired=!0}_onBeforeRun(){this.config.loadingProperties&&h(this.context,this.config.loadingProperties,!0)}_onAfterRun(){this.config.loadingProperties&&h(this.context,this.config.loadingProperties,!1)}cancelUnfinished(){this.abortController.abort(),this.abortController=new AbortController}initConfig(e){if(["mutex","debounce","pollingInterval"].filter(t=>void 0!==e[t]).length>1)throw Error("".concat(t," Multiple control param are not supported (mutex/debounce/pollingInterval)"));if(this.config.debounce){this.mode="debounce",this.debounceManager=new d(this,this.config.debounce);return}if(this.config.pollingInterval)throw this.mode="polling",Error("".concat(t,"polling not implemented"));if(this.config.mutex){this.mode="mutex";return}}constructor(e,t,s){(0,o._)(this,"id",void 0),(0,o._)(this,"context",void 0),(0,o._)(this,"name",void 0),(0,o._)(this,"config",void 0),(0,o._)(this,"_expired",!1),(0,o._)(this,"mode","normal"),(0,o._)(this,"abortController",void 0),(0,o._)(this,"debounceManager",void 0),this.id=++c.idCounter,this.context=e,this.name=t,this.config=s,this.abortController=new AbortController,this.initConfig(s)}}function h(e,t,s){t.forEach(t=>{e[t]=s})}(0,o._)(c,"idCounter",0),e.BaseSession=c}(r||(r={}))},24776:function(e,t,s){s.d(t,{CrepeSdk:function(){return r}});var i,n,r,o=s(66084);(i=n||(n={})).RESP_FIELD_STATUS="code",i.RESP_FIELD_MESSAGE="msg",i.RESP_FIELD_ERROR_NAME="error",i.RESP_SUCCESS_STATUS=0;var a=s(75153);!function(e){let t="[CrepeSdk] ";class s{}e.ExceptionHandler=s,e.NameTransformers={snakeToCamel:e=>e.replace(/(_[a-z])/g,e=>e.toUpperCase().replace("_","")),camelToSnake:e=>e.replace(/([A-Z])/g,e=>"_".concat(e.toLowerCase())).replace(/^_/,"")};class i{constructor(e,t,s,i,n,r,a,l){(0,o._)(this,"reqInfo",void 0),(0,o._)(this,"name",void 0),(0,o._)(this,"httpError",void 0),(0,o._)(this,"httpStatus",void 0),(0,o._)(this,"httpStatusText",void 0),(0,o._)(this,"code",void 0),(0,o._)(this,"message",void 0),(0,o._)(this,"data",void 0),(0,o._)(this,"originalError",void 0),(0,o._)(this,"handled",void 0),this.reqInfo=e,this.handled=!1,this.httpError=t,this.httpStatus=s,this.httpStatusText=i,this.name=this.constructor.name,this.code=n,this.message=r,this.data=a,this.originalError={name:l.name,message:l.message,code:l.code,stack:l.stack}}}e.ApiRequestError=i;class r{constructor(e,t,s,i){(0,o._)(this,"reqInfo",void 0),(0,o._)(this,"name",void 0),(0,o._)(this,"cause",void 0),(0,o._)(this,"originalError",void 0),(0,o._)(this,"reason",void 0),this.reqInfo=e,this.name=this.constructor.name,this.originalError=s,this.cause=t,this.reason=i}}e.ApiRequestAborted=r;class l{nextId(){return++this.idCounter}expireSession(e,t){let s=this.sessionMap.get(e);return!!s&&(t&&s.has(t)?(s.get(t)._expire(),s.delete(t)):(s.forEach(e=>{e._expire()}),s.clear()),!0)}convertObjectNames(e,t){return t?Array.isArray(t)?t.map(t=>this.convertObjectNames(e,t)):"object"==typeof t?Object.keys(t).reduce((s,i)=>{let n=t[i];return s[this.convertNameKey(e,i)]=this.convertObjectNames(e,n),s},{}):t:t}convertNameKey(e,t){return"client"===e?this.config.nameTransformers.toClientName(t):this.config.nameTransformers.toServerName(t)}getSession(e,t,s,i){let n=this.sessionMap.get(e);n||(n=new Map,this.sessionMap.set(e,n));let r=n.get(t);if(r)return r._checkConfigs(s),r;let o=new i(e,t,s);return o._initApis(this),n.set(t,o),o}constructor(t){(0,o._)(this,"config",void 0),(0,o._)(this,"sessionMap",new WeakMap),(0,o._)(this,"idCounter",0),this.config=t,this.config.nameTransformers||(this.config.nameTransformers={toClientName:e.NameTransformers.snakeToCamel,toServerName:e.NameTransformers.camelToSnake})}}e.BaseSdk=l;class u{async sendRequest(e,s,i,n,r){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};if("localStorage"===o.cacheMode)throw Error("".concat(t,"localStorage cache not supported yet"));let a={id:this.sdk.nextId(),pathPrefix:this.pathPrefix,method:e,path:s,cmd:i,otherParams:n,isLowLevelResp:r,config:o,cacheKey:null};if(o.onResolve&&!o.cacheMode&&console.warn("".concat(t,"onResolve is usually combined with cacheMode")),o.useCache){o.cacheMode||console.error("".concat(t,"useCache must combined with cacheMode"));let r=this.getSignature(e,s,i,n);if(a.cacheKey=r,this.cachedData.has(r)){var l;this.handleSendRequest(a,!0);let e=this.cachedData.get(r);return null===(l=o.onResolve)||void 0===l||l.call(o,null,e,!0),e}}return this.handleSendRequest(a,!1)}handleSendRequest(e,t){var s;let{sdk:i}=this,{method:n,config:r}=e,{body:o,query:l}=this.getParams(n,e.cmd,e.otherParams),u=i.config.baseUrl+this.pathPrefix+e.path;l&&(u+="?".concat(l));let d=r.headers||{};i.config.globalSetHeader&&(d=i.config.globalSetHeader(d)),d["Content-Type"]||(d["Content-Type"]="application/json");let c=r.abortSignal||(null===(s=this.session)||void 0===s?void 0:s.abortSignal);this.onBeforeRequest(r,t);let h=a.L.request({url:u,method:n,headers:d,signal:c,data:"GET"===n?null:JSON.stringify(o)});return this.handleRes(e,h,t)}async handleRes(e,s,r){let{config:o}=e;try{let t=await s;if(200!==t.status)throw new i(e,!0,t.status,t.statusText,0,"request fail(".concat(t.status,")"),null,Error(t.statusText));if(e.isLowLevelResp)throw Error("TODO: handle low level resp");{let s=t.data,r=s[n.RESP_FIELD_STATUS],l=s[n.RESP_FIELD_MESSAGE],u=s[n.RESP_FIELD_ERROR_NAME],d=this.sdk.convertObjectNames("client",s);if(r===n.RESP_SUCCESS_STATUS){var a;return e.cacheKey&&this.cachedData.set(e.cacheKey,d),null===(a=o.onResolve)||void 0===a||a.call(o,null,d,!1),d}let c=i;throw u&&this.sdk.allExceptions[u]&&(c=this.sdk.allExceptions[u]),new c(e,!1,t.status,t.statusText,r,l,d,Error(l))}}catch(s){if(r)return console.error("".concat(t," cache update fail"),s),null;return this.handleError(e,s)}finally{this.onAfterRequest(o,r)}}handleError(e,s){var n,o;let{config:a}=e;if(s instanceof DOMException&&s.code===s.ABORT_ERR){if(null===(o=a.abortSignal)||void 0===o?void 0:o.aborted)throw new r(e,"manualCanceled",s,a.abortSignal.reason);throw new r(e,"autoCanceled",s)}if(s instanceof TypeError&&"Failed to fetch"===s.message){let t=new i(e,!0,0,s.message,0,"network error(0)",null,s);if(this.triggerErrorHandlers(t,a),t.handled)throw new r(e,"handled",s)}if(s instanceof i&&(this.triggerErrorHandlers(s,a),s.handled))throw new r(e,"handled",s);e.cacheKey&&this.cachedData.delete(e.cacheKey);let l=s instanceof i?s:new i(e,!1,0,"".concat(s.name,": ").concat(s.message),0,"network error(".concat(s.message,")"),null,s);throw null===(n=a.onResolve)||void 0===n||n.call(a,l,null,!1),console.error("".concat(t," Unhandled api request error:"),l.reqInfo.pathPrefix+l.reqInfo.path,l.name,l.code,l.message),l}triggerErrorHandlers(e,t){var s;let i=!0;t.catch&&(i=!1===t.catch(e)),i&&(null===(s=this.session)||void 0===s?void 0:s.config.catch)&&(i=!1===this.session.config.catch(e)),this.sdk.config.globalErrorHandler&&!t.ignoreGlobalErrorHandler&&i&&(i=!1===this.sdk.config.globalErrorHandler(e)),e.handled=!i}onBeforeRequest(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t&&e.loadingProperties){let[t,...s]=e.loadingProperties;h(t,s,!0)}}onAfterRequest(e,t){if(!t&&e.loadingProperties){let[t,...s]=e.loadingProperties;h(t,s,!1)}}getParams(e,t,s){let i;return i="GET"===e&&t?Object.keys(t).map(e=>[e,t[e]]):s,{body:t?this.sdk.convertObjectNames("server",t):{},query:i.filter(e=>{let[t,s]=e;return void 0!==s}).map(e=>{let[t,s]=e,i=this.sdk.convertNameKey("server",t);return"".concat(i,"=").concat(encodeURIComponent(this.stringifyQuery(s)))}).join("&")}}stringifyQuery(e){if("null"===e)return"";let t=this.sdk.convertObjectNames("server",e);switch(typeof t){case"boolean":return t?"true":"false";case"bigint":case"number":case"string":return t.toString();case"undefined":default:return"";case"object":if(Array.isArray(t))return t.map(e=>this.stringifyQuery(e)).join(",");return Object.keys(t).map(e=>"".concat(e,"=").concat(this.stringifyQuery(t[e]))).join("&")}}getSignature(e,t,s,i){return e.slice(0,2)+t+this.stableJsonStringify(s)+this.stableJsonStringify(i)}stableJsonStringify(e){let t=new Set;return JSON.stringify(e,(e,s)=>(t.add(e),s)),JSON.stringify(e,Array.from(t).sort())}constructor(e,s){if((0,o._)(this,"sdk",void 0),(0,o._)(this,"session",void 0),(0,o._)(this,"cachedData",new Map),this.sdk=e,s&&!(s instanceof c))throw Error("".concat(t,"session error"));this.session=s}}e.BaseDomainApi=u;class d{get abortSignal(){return this.abortController.signal}add(e){if(this.expired)throw Error("".concat(t,"session has expired"));if("idle"===this.status&&this.leading){this.onBeforeRun();try{let t=e(this.session);return this.doWait(),t}finally{this.onAfterRun()}}return this.queueNext(e),this.doWait(),this.nextP}expire(){var e;clearInterval(this.timer),clearInterval(this.maxWaitTimer),null===(e=this.abortController)||void 0===e||e.abort(),this.expired=!0}doWait(){this.status="waiting",this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout(()=>{this.status="idle",this.timer=null,this.maxWaitTimer&&(clearTimeout(this.maxWaitTimer),this.maxWaitTimer=null),this.trailing&&this.run()},this.wait),this.maxWait&&!this.maxWaitTimer&&(this.maxWaitTimer=setTimeout(()=>{this.maxWaitTimer=null,this.run(),this.doWait()},this.maxWait))}async run(){var e,t;if(!this.next)return;this.onBeforeRun();let s=this.next;this.next=null;try{let t=await s(this.session);null===(e=this.nextPResolve)||void 0===e||e.call(this,t)}catch(e){null===(t=this.nextPReject)||void 0===t||t.call(this,e)}finally{this.onAfterRun()}}queueNext(e){this.next=e,this.nextP=new Promise((e,t)=>{this.nextPResolve=e,this.nextPReject=t})}onBeforeRun(){var e,t;this.mutex&&(null===(t=this.abortController)||void 0===t||t.abort(),this.abortController=new AbortController),null===(e=this.session)||void 0===e||e._onBeforeRun()}onAfterRun(){var e;null===(e=this.session)||void 0===e||e._onAfterRun()}constructor(e,t){if((0,o._)(this,"session",void 0),(0,o._)(this,"wait",void 0),(0,o._)(this,"maxWait",void 0),(0,o._)(this,"leading",!1),(0,o._)(this,"trailing",!0),(0,o._)(this,"mutex",!0),(0,o._)(this,"status","idle"),(0,o._)(this,"next",null),(0,o._)(this,"nextP",null),(0,o._)(this,"nextPResolve",null),(0,o._)(this,"nextPReject",null),(0,o._)(this,"timer",null),(0,o._)(this,"maxWaitTimer",null),(0,o._)(this,"abortController",void 0),(0,o._)(this,"expired",!1),this.session=e,"number"==typeof t)this.wait=t;else{let{wait:e,leading:s,maxWait:i,trailing:n,mutex:r}=t;this.wait=e,this.maxWait=i,void 0!==s&&(this.leading=s),void 0!==n&&(this.trailing=n),void 0!==r&&(this.mutex=r),this.maxWait&&this.maxWait<this.wait&&console.warn("maxWait must >= wait")}}}class c{get abortSignal(){var e;return(null===(e=this.debounceManager)||void 0===e?void 0:e.abortSignal)||this.abortController.signal}get expired(){return this._expired}_checkConfigs(e){if(JSON.stringify(e)!==JSON.stringify(this.config))throw console.error({context:this.context,name:this.name,oldConfig:this.config,newConfig:e}),Error("".concat(t,"config inconsistent when calling same session"))}async _run(){if(this._expired)throw Error("".concat(t,"session has expired"));if("normal"===this.mode){this._onBeforeRun();try{return this.config.handler(this)}finally{this._onAfterRun()}}if("mutex"===this.mode){this.cancelUnfinished(),this._onBeforeRun();try{return this.config.handler(this)}finally{this._onAfterRun()}}if("debounce"===this.mode)return this.debounceManager.add(this.config.handler);if("polling"===this.mode){this._onBeforeRun();try{return this.config.handler(this)}finally{this._onAfterRun()}}throw Error("".concat(t," Unknown session mode: ").concat(this.mode))}_expire(){var e;this.cancelUnfinished(),null===(e=this.debounceManager)||void 0===e||e.expire(),this._expired=!0}_onBeforeRun(){this.config.loadingProperties&&h(this.context,this.config.loadingProperties,!0)}_onAfterRun(){this.config.loadingProperties&&h(this.context,this.config.loadingProperties,!1)}cancelUnfinished(){this.abortController.abort(),this.abortController=new AbortController}initConfig(e){if(["mutex","debounce","pollingInterval"].filter(t=>void 0!==e[t]).length>1)throw Error("".concat(t," Multiple control param are not supported (mutex/debounce/pollingInterval)"));if(this.config.debounce){this.mode="debounce",this.debounceManager=new d(this,this.config.debounce);return}if(this.config.pollingInterval)throw this.mode="polling",Error("".concat(t,"polling not implemented"));if(this.config.mutex){this.mode="mutex";return}}constructor(e,t,s){(0,o._)(this,"id",void 0),(0,o._)(this,"context",void 0),(0,o._)(this,"name",void 0),(0,o._)(this,"config",void 0),(0,o._)(this,"_expired",!1),(0,o._)(this,"mode","normal"),(0,o._)(this,"abortController",void 0),(0,o._)(this,"debounceManager",void 0),this.id=++c.idCounter,this.context=e,this.name=t,this.config=s,this.abortController=new AbortController,this.initConfig(s)}}function h(e,t,s){t.forEach(t=>{e[t]=s})}(0,o._)(c,"idCounter",0),e.BaseSession=c}(r||(r={}))},12967:function(e,t,s){s.d(t,{gn:function(){return i}});var i,n=s(82125),r=s(66084);!function(e){let t,s,i,o,a,l,u,d,c,h,p,m,g,y,S,_,f,v,T,b,C,P,A,w,E,R,k,x,q,O,I,L,D,M,B,N,F,U,G,V,W,H,K,j,Q,z,Y,J,Z,X,$,ee,et,es;!function(e){class t extends n.CrepeSdk.BaseDomainApi{async completeAiformAnalysis(e,t){return this.sendRequest("POST","/complete_aiform_analysis",e,null,[],!1,t)}async createAiformAnalysis(e,t){return this.sendRequest("POST","/create_aiform_analysis",e,null,[],!1,t)}async createAiformItemRecord(e,t){return this.sendRequest("POST","/create_aiform_item_record",e,null,[],!1,t)}async createGenerateAiformTask(e,t){return this.sendRequest("POST","/create_generate_aiform_task",e,null,[],!1,t)}async deleteAiform(e,t){return this.sendRequest("POST","/delete_aiform",e,null,[],!1,t)}async getAiformInfo(e,t){return this.sendRequest("POST","/get_aiform_info",e,null,[],!1,t)}async getAiformList(e,t){return this.sendRequest("POST","/get_aiform_list",e,null,[],!1,t)}async getAiformRecords(e,t){return this.sendRequest("POST","/get_aiform_records",e,null,[],!1,t)}async getAiformResult(e,t){return this.sendRequest("POST","/get_aiform_result",e,null,[],!1,t)}async loopTaskStatus(e,t){return this.sendRequest("POST","/loop_task_status",e,null,[],!1,t)}async retryGenerateAiformTask(e,t){return this.sendRequest("POST","/retry_generate_aiform_task",e,null,[],!1,t)}async updateAiformInfo(e,t){return this.sendRequest("POST","/update_aiform_info",e,null,[],!1,t)}async updateAiformItem(e,t){return this.sendRequest("POST","/update_aiform_item",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/aiform")}}e.Api=t}(t=e.Aiform||(e.Aiform={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async detail(e,t){return this.sendRequest("POST","/detail",e,null,[],!1,t)}async list(e,t){return this.sendRequest("POST","/list",e,null,[],!1,t)}async updateStatus(e,t){return this.sendRequest("POST","/update_status",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/artifact_snapshots")}}e.Api=t}(s=e.ArtifactSnapshots||(e.ArtifactSnapshots={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async batchCreate(e,t){return this.sendRequest("POST","/batch_create",e,null,[],!1,t)}async create(e,t){return this.sendRequest("POST","/create",e,null,[],!1,t)}async detail(e,t){return this.sendRequest("POST","/detail",e,null,[],!1,t)}async list(e,t){return this.sendRequest("POST","/list",e,null,[],!1,t)}async listSlim(e,t){return this.sendRequest("POST","/list_slim",e,null,[],!1,t)}async publish(e,t){return this.sendRequest("POST","/publish",e,null,[],!1,t)}async unpublish(e,t){return this.sendRequest("POST","/unpublish",e,null,[],!1,t)}async update(e,t){return this.sendRequest("POST","/update",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/artifacts")}}e.Api=t}(i=e.Artifacts||(e.Artifacts={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async cancelTranscriptTask(e,t){return this.sendRequest("POST","/cancel_transcript_task",e,null,[],!1,t)}async createTranscriptTask(e,t){return this.sendRequest("POST","/create_transcript_task",e,null,[],!1,t)}async deleteTranscriptTask(e,t){return this.sendRequest("POST","/delete_transcript_task",e,null,[],!1,t)}async editTranscriptItem(e,t){return this.sendRequest("POST","/edit_transcript_item",e,null,[],!1,t)}async editTranscriptTask(e,t){return this.sendRequest("POST","/edit_transcript_task",e,null,[],!1,t)}async getTranscriptList(e,t){return this.sendRequest("POST","/get_transcript_list",e,null,[],!1,t)}async getTranscriptResult(e,t){return this.sendRequest("POST","/get_transcript_result",e,null,[],!1,t)}async loopTranscriptStatus(e,t){return this.sendRequest("POST","/loop_transcript_status",e,null,[],!1,t)}async retryTranscriptTask(e,t){return this.sendRequest("POST","/retry_transcript_task",e,null,[],!1,t)}async summary(e,t){return this.sendRequest("POST","/summary",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/audio_tool")}}e.Api=t}(o=e.AudioTool||(e.AudioTool={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async create(e,t){return this.sendRequest("POST","/create",e,null,[],!1,t)}async delete(e,t){return this.sendRequest("POST","/delete",e,null,[],!1,t)}async detail(e,t){return this.sendRequest("POST","/detail",e,null,[],!1,t)}async generate(e,t){return this.sendRequest("POST","/generate",e,null,[],!1,t)}async intelligenceV2(e,t){return this.sendRequest("POST","/intelligence_v2",e,null,[],!1,t)}async list(e,t){return this.sendRequest("POST","/list",e,null,[],!1,t)}async update(e,t){return this.sendRequest("POST","/update",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/batch_table")}}e.Api=t}(a=e.BatchTable||(e.BatchTable={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async createSkill(e,t){return this.sendRequest("POST","/create_skill",e,null,[],!1,t)}async getSkill(e,t){return this.sendRequest("POST","/get_skill",e,null,[],!1,t)}async getSkillList(e,t){return this.sendRequest("POST","/get_skill_list",e,null,[],!1,t)}async getSysSkillList(e,t){return this.sendRequest("POST","/get_sys_skill_list",e,null,[],!1,t)}async parseSchema(e,t){return this.sendRequest("POST","/parse_schema",e,null,[],!1,t)}async removeSkill(e,t){return this.sendRequest("POST","/remove_skill",e,null,[],!1,t)}async updateSkill(e,t){return this.sendRequest("POST","/update_skill",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/bot_skill")}}e.Api=t}(l=e.BotSkill||(e.BotSkill={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async createTask(e,t){return this.sendRequest("POST","/create_task",e,null,[],!1,t)}async notificationList(e,t){return this.sendRequest("POST","/notification_list",e,null,[],!1,t)}async notificationMarkRead(e,t){return this.sendRequest("POST","/notification_mark_read",e,null,[],!1,t)}async notificationMarkReadById(e,t){return this.sendRequest("POST","/notification_mark_read_by_id",e,null,[],!1,t)}async notificationUnreadCount(e,t){return this.sendRequest("POST","/notification_unread_count",e,null,[],!1,t)}async notificationUnreadCountGroupBot(e,t){return this.sendRequest("POST","/notification_unread_count_group_bot",e,null,[],!1,t)}async removeTask(e,t){return this.sendRequest("POST","/remove_task",e,null,[],!1,t)}async taskList(e,t){return this.sendRequest("POST","/task_list",e,null,[],!1,t)}async taskListByBotUid(e,t){return this.sendRequest("POST","/task_list_by_bot_uid",e,null,[],!1,t)}async updateTask(e,t){return this.sendRequest("POST","/update_task",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/bot_task")}}e.Api=t}(u=e.BotTask||(e.BotTask={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async translate(e,t,s){return this.sendRequest("POST","/translate",t,e,[],!1,s)}async uploadBlob(e,t,s){return this.sendRequest("POST","/upload_blob",e,t,[],!1,s)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/chat_pdf")}}e.Api=t}(d=e.ChatPdf||(e.ChatPdf={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async createShare(e,t){return this.sendRequest("POST","/create_share",e,null,[],!1,t)}async getShare(e,t){return this.sendRequest("POST","/get_share",e,null,[],!1,t)}async updateShare(e,t){return this.sendRequest("POST","/update_share",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/chat_share")}}e.Api=t}(c=e.ChatShare||(e.ChatShare={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async copy(e,t){return this.sendRequest("POST","/copy",e,null,[],!1,t)}async create(e,t){return this.sendRequest("POST","/create",e,null,[],!1,t)}async createPublic(e,t){return this.sendRequest("POST","/create_public",e,null,[],!1,t)}async delete(e,t){return this.sendRequest("POST","/delete",e,null,[],!1,t)}async edit(e,t){return this.sendRequest("POST","/edit",e,null,[],!1,t)}async list(e,t){return this.sendRequest("POST","/list",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/chat_template")}}e.Api=t}(h=e.ChatTemplate||(e.ChatTemplate={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async issueCompletionToken(e){return this.sendRequest("POST","/issue_completion_token",null,null,[],!1,e)}async search(e,t){return this.sendRequest("POST","/search",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/coder")}}e.Api=t}(p=e.Coder||(e.Coder={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async create(e,t){return this.sendRequest("POST","/create",e,null,[],!1,t)}async delete(e,t){return this.sendRequest("POST","/delete",e,null,[],!1,t)}async list(e){return this.sendRequest("POST","/list",null,null,[],!1,e)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/contact_person")}}e.Api=t}(m=e.ContactPerson||(e.ContactPerson={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async addBotGroup(e,t){return this.sendRequest("POST","/add_bot_group",e,null,[],!1,t)}async batchCreateBot(e,t){return this.sendRequest("POST","/batch_create_bot",e,null,[],!1,t)}async chat(e,t){return this.sendRequest("POST","/chat",e,null,[],!1,t)}async clearChatHistory(e,t){return this.sendRequest("POST","/clear_chat_history",e,null,[],!1,t)}async collectConversation(e,t){return this.sendRequest("POST","/collect_conversation",e,null,[],!1,t)}async collectionGroupList(e,t){return this.sendRequest("POST","/collection_group_list",e,null,[],!1,t)}async compareChat(e,t){return this.sendRequest("POST","/compare_chat",e,null,[],!1,t)}async convAttachmentList(e,t){return this.sendRequest("POST","/conv_attachment_list",e,null,[],!1,t)}async createCollectionGroup(e,t){return this.sendRequest("POST","/create_collection_group",e,null,[],!1,t)}async deleteBot(e,t){return this.sendRequest("POST","/delete_bot",e,null,[],!1,t)}async deleteBotGroup(e,t){return this.sendRequest("POST","/delete_bot_group",e,null,[],!1,t)}async deleteCollectionGroup(e,t){return this.sendRequest("POST","/delete_collection_group",e,null,[],!1,t)}async exploreChatBots(e,t){return this.sendRequest("POST","/explore_chat_bots",e,null,[],!1,t)}async genAvatar(e,t){return this.sendRequest("POST","/gen_avatar",e,null,[],!1,t)}async genBotSample(e,t){return this.sendRequest("POST","/gen_bot_sample",e,null,[],!1,t)}async genConversationTitle(e,t){return this.sendRequest("POST","/gen_conversation_title",e,null,[],!1,t)}async genMindMap(e,t){return this.sendRequest("POST","/gen_mind_map",e,null,[],!1,t)}async genPrompt(e,t){return this.sendRequest("POST","/gen_prompt",e,null,[],!1,t)}async getBotDetail(e,t){return this.sendRequest("POST","/get_bot_detail",e,null,[],!1,t)}async getBotEditDetail(e,t){return this.sendRequest("POST","/get_bot_edit_detail",e,null,[],!1,t)}async getBotsDetail(e,t){return this.sendRequest("POST","/get_bots_detail",e,null,[],!1,t)}async getChatItemList(e,t){return this.sendRequest("POST","/get_chat_item_list",e,null,[],!1,t)}async getChatItemListOrdering(e,t){return this.sendRequest("POST","/get_chat_item_list_ordering",e,null,[],!1,t)}async getChatItemListV2(e,t){return this.sendRequest("POST","/get_chat_item_list_v2",e,null,[],!1,t)}async getCodeInterpreterFile(e,t){return this.sendRequest("POST","/get_code_interpreter_file",e,null,[],!1,t)}async getConversationInfo(e,t){return this.sendRequest("POST","/get_conversation_info",e,null,[],!1,t)}async getConversationList(e,t){return this.sendRequest("POST","/get_conversation_list",e,null,[],!1,t)}async listArtistBot(e,t){return this.sendRequest("POST","/list_artist_bot",e,null,[],!1,t)}async listBotGroup(e,t){return this.sendRequest("POST","/list_bot_group",e,null,[],!1,t)}async listCompareBot(e){return this.sendRequest("POST","/list_compare_bot",null,null,[],!1,e)}async listMyBots(e,t){return this.sendRequest("POST","/list_my_bots",e,null,[],!1,t)}async listMyPinedBot(e,t){return this.sendRequest("POST","/list_my_pined_bot",e,null,[],!1,t)}async listTeamBots(e,t){return this.sendRequest("POST","/list_team_bots",e,null,[],!1,t)}async modifyBotSkill(e,t){return this.sendRequest("POST","/modify_bot_skill",e,null,[],!1,t)}async moveCollectionGroup(e,t){return this.sendRequest("POST","/move_collection_group",e,null,[],!1,t)}async pinBot(e,t){return this.sendRequest("POST","/pin_bot",e,null,[],!1,t)}async previewChat(e,t){return this.sendRequest("POST","/preview_chat",e,null,[],!1,t)}async publishBot(e,t){return this.sendRequest("POST","/publish_bot",e,null,[],!1,t)}async regenConvTitle(e,t){return this.sendRequest("POST","/regen_conv_title",e,null,[],!1,t)}async resortCollectionGroup(e,t){return this.sendRequest("POST","/resort_collection_group",e,null,[],!1,t)}async revertBotDraft(e,t){return this.sendRequest("POST","/revert_bot_draft",e,null,[],!1,t)}async saveBot(e,t){return this.sendRequest("POST","/save_bot",e,null,[],!1,t)}async saveBotGroupRelation(e,t){return this.sendRequest("POST","/save_bot_group_relation",e,null,[],!1,t)}async searchChatBots(e,t){return this.sendRequest("POST","/search_chat_bots",e,null,[],!1,t)}async searchConversation(e,t){return this.sendRequest("POST","/search_conversation",e,null,[],!1,t)}async searchConversationV2(e,t){return this.sendRequest("POST","/search_conversation_v2",e,null,[],!1,t)}async updateBotGroup(e,t){return this.sendRequest("POST","/update_bot_group",e,null,[],!1,t)}async updateCollectionGroup(e,t){return this.sendRequest("POST","/update_collection_group",e,null,[],!1,t)}async updateConversation(e,t){return this.sendRequest("POST","/update_conversation",e,null,[],!1,t)}async updateExploreBotGroup(e,t){return this.sendRequest("POST","/update_explore_bot_group",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/custom_bot")}}e.Api=t}(g=e.CustomBot||(e.CustomBot={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async addDocument(e,t){return this.sendRequest("POST","/add_document",e,null,[],!1,t)}async deleteDocument(e,t){return this.sendRequest("POST","/delete_document",e,null,[],!1,t)}async getDocumentDetail(e,t){return this.sendRequest("POST","/get_document_detail",e,null,[],!1,t)}async listDocument(e,t){return this.sendRequest("POST","/list_document",e,null,[],!1,t)}async updateDocument(e,t){return this.sendRequest("POST","/update_document",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/document")}}e.Api=t}(y=e.Document||(e.Document={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async addFile(e,t){return this.sendRequest("POST","/add_file",e,null,[],!1,t)}async deleteFile(e,t){return this.sendRequest("POST","/delete_file",e,null,[],!1,t)}async getFileDetail(e,t){return this.sendRequest("POST","/get_file_detail",e,null,[],!1,t)}async listFile(e,t){return this.sendRequest("POST","/list_file",e,null,[],!1,t)}async updateFile(e,t){return this.sendRequest("POST","/update_file",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/drive")}}e.Api=t}(S=e.Drive||(e.Drive={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async chatLike(e,t){return this.sendRequest("POST","/chat_like",e,null,[],!1,t)}async chatLikeRecord(e,t){return this.sendRequest("POST","/chat_like_record",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/feedback")}}e.Api=t}(_=e.Feedback||(e.Feedback={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async batchCreateLlmFile(e,t){return this.sendRequest("POST","/batch_create_llm_file",e,null,[],!1,t)}async batchGetFile(e,t){return this.sendRequest("POST","/batch_get_file",e,null,[],!1,t)}async createFile(e,t){return this.sendRequest("POST","/create_file",e,null,[],!1,t)}async createLlmFile(e,t){return this.sendRequest("POST","/create_llm_file",e,null,[],!1,t)}async deleteFile(e,t){return this.sendRequest("POST","/delete_file",e,null,[],!1,t)}async favicon(e){return this.sendRequest("GET","/favicon",null,null,[],!1,e)}async getFile(e,t){return this.sendRequest("POST","/get_file",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/files")}}e.Api=t}(f=e.Files||(e.Files={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async query(e,t){return this.sendRequest("POST","/query",e,null,[],!1,t)}async queryByCode(e,t){return this.sendRequest("POST","/query_by_code",e,null,[],!1,t)}async redeem(e,t){return this.sendRequest("POST","/redeem",e,null,[],!1,t)}async redeemHistory(e){return this.sendRequest("POST","/redeem_history",null,null,[],!1,e)}async sendEmail(e,t){return this.sendRequest("POST","/send_email",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/gift_card")}}e.Api=t}(v=e.GiftCard||(e.GiftCard={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async generate(e,t){return this.sendRequest("POST","/generate",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/github_summary")}}e.Api=t}(T=e.GithubSummary||(e.GithubSummary={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async reportTrack(e,t){return this.sendRequest("POST","/report_track",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/google")}}e.Api=t}(b=e.Google||(e.Google={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async getBindCode(e){return this.sendRequest("POST","/get_bind_code",null,null,[],!1,e)}async linkedAccounts(e){return this.sendRequest("GET","/linked_accounts",null,null,[],!1,e)}async sendInviteSuccessMessage(e,t){return this.sendRequest("POST","/send_invite_success_message",e,null,[],!1,t)}async unbind(e,t){return this.sendRequest("POST","/unbind",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/im_bot")}}e.Api=t}(C=e.ImBot||(e.ImBot={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async createBase(e,t){return this.sendRequest("POST","/create_base",e,null,[],!1,t)}async deleteBase(e,t){return this.sendRequest("POST","/delete_base",e,null,[],!1,t)}async deleteDocuments(e,t){return this.sendRequest("POST","/delete_documents",e,null,[],!1,t)}async listBases(e,t){return this.sendRequest("POST","/list_bases",e,null,[],!1,t)}async listDocuments(e,t){return this.sendRequest("POST","/list_documents",e,null,[],!1,t)}async updateBase(e,t){return this.sendRequest("POST","/update_base",e,null,[],!1,t)}async uploadDocuments(e,t){return this.sendRequest("POST","/upload_documents",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/knowledge")}}e.Api=t}(P=e.Knowledge||(e.Knowledge={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async groupTabs(e,t){return this.sendRequest("POST","/group_tabs",e,null,[],!1,t)}async recommendTabs(e,t){return this.sendRequest("POST","/recommend_tabs",e,null,[],!1,t)}async rerankTabs(e,t){return this.sendRequest("POST","/rerank_tabs",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/magic_wand")}}e.Api=t}(A=e.MagicWand||(e.MagicWand={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async acceptMemorySuggestion(e,t){return this.sendRequest("POST","/accept_memory_suggestion",e,null,[],!1,t)}async addMemoryItemV2(e,t){return this.sendRequest("POST","/add_memory_item_v2",e,null,[],!1,t)}async clearMemoryV2(e){return this.sendRequest("POST","/clear_memory_v2",null,null,[],!1,e)}async deleteMemoryItemV2(e,t){return this.sendRequest("POST","/delete_memory_item_v2",e,null,[],!1,t)}async getMemory(e,t){return this.sendRequest("POST","/get_memory",e,null,[],!1,t)}async getMemorySuggestionBadge(e){return this.sendRequest("POST","/get_memory_suggestion_badge",null,null,[],!1,e)}async getMemorySuggestions(e,t){return this.sendRequest("POST","/get_memory_suggestions",e,null,[],!1,t)}async getMemoryV2(e){return this.sendRequest("POST","/get_memory_v2",null,null,[],!1,e)}async initMemory(e,t){return this.sendRequest("POST","/init_memory",e,null,[],!1,t)}async pinMemoryItemV2(e,t){return this.sendRequest("POST","/pin_memory_item_v2",e,null,[],!1,t)}async regenerateMemorySuggestion(e,t){return this.sendRequest("POST","/regenerate_memory_suggestion",e,null,[],!1,t)}async rejectAllMemorySuggestions(e){return this.sendRequest("POST","/reject_all_memory_suggestions",null,null,[],!1,e)}async rejectMemorySuggestion(e,t){return this.sendRequest("POST","/reject_memory_suggestion",e,null,[],!1,t)}async unpinMemoryItemV2(e,t){return this.sendRequest("POST","/unpin_memory_item_v2",e,null,[],!1,t)}async updateMemory(e,t){return this.sendRequest("POST","/update_memory",e,null,[],!1,t)}async updateMemoryInstructionAndResponsePreferenceV2(e,t){return this.sendRequest("POST","/update_memory_instruction_and_response_preference_v2",e,null,[],!1,t)}async updateMemoryInstructionV2(e,t){return this.sendRequest("POST","/update_memory_instruction_v2",e,null,[],!1,t)}async updateMemoryItemV2(e,t){return this.sendRequest("POST","/update_memory_item_v2",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/memory")}}e.Api=t}(w=e.Memory||(e.Memory={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async mobileNewFunction(e,t){return this.sendRequest("POST","/mobile_new_function",e,null,[],!1,t)}async universityChatList(e,t){return this.sendRequest("POST","/university_chat_list",e,null,[],!1,t)}async universityDetails(e,t){return this.sendRequest("POST","/university_details",e,null,[],!1,t)}async universityGiveawayRecords(e){return this.sendRequest("POST","/university_giveaway_records",null,null,[],!1,e)}async universitySearch(e,t){return this.sendRequest("POST","/university_search",e,null,[],!1,t)}async universityUserVoted(e,t){return this.sendRequest("POST","/university_user_voted",e,null,[],!1,t)}async universityVote(e,t){return this.sendRequest("POST","/university_vote",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/mobile")}}e.Api=t}(E=e.Mobile||(e.Mobile={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async cachedYearCoverText(e,t){return this.sendRequest("POST","/cached_year_cover_text",e,null,[],!1,t)}async queueLength(e){return this.sendRequest("POST","/queue_length",null,null,[],!1,e)}async yearCoverImage(e,t){return this.sendRequest("POST","/year_cover_image",e,null,[],!1,t)}async yearCoverText(e,t){return this.sendRequest("POST","/year_cover_text",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/my2024")}}e.Api=t}(R=e.My2024||(e.My2024={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async activateSubscription(e){return this.sendRequest("POST","/activate_subscription",null,null,[],!1,e)}async callback(e){return this.sendRequest("POST","/callback",null,null,[],!1,e)}async cancel(e,t){return this.sendRequest("POST","/cancel",e,null,[],!1,t)}async checkout(e,t){return this.sendRequest("POST","/checkout",e,null,[],!1,t)}async discountInfo(e,t){return this.sendRequest("POST","/discount_info",e,null,[],!1,t)}async oneTimeCheckout(e,t){return this.sendRequest("POST","/one_time_checkout",e,null,[],!1,t)}async pause(e,t){return this.sendRequest("POST","/pause",e,null,[],!1,t)}async platformBindPayment(e,t){return this.sendRequest("POST","/platform_bind_payment",e,null,[],!1,t)}async platformPay(e,t){return this.sendRequest("POST","/platform_pay",e,null,[],!1,t)}async preview(e,t){return this.sendRequest("POST","/preview",e,null,[],!1,t)}async query(e,t){return this.sendRequest("POST","/query",e,null,[],!1,t)}async refund(e,t){return this.sendRequest("POST","/refund",e,null,[],!1,t)}async resume(e,t){return this.sendRequest("POST","/resume",e,null,[],!1,t)}async teamCancel(e,t){return this.sendRequest("POST","/team_cancel",e,null,[],!1,t)}async teamCheckout(e,t){return this.sendRequest("POST","/team_checkout",e,null,[],!1,t)}async teamDeduction(e,t){return this.sendRequest("POST","/team_deduction",e,null,[],!1,t)}async teamPreview(e,t){return this.sendRequest("POST","/team_preview",e,null,[],!1,t)}async teamQuery(e,t){return this.sendRequest("POST","/team_query",e,null,[],!1,t)}async teamResume(e,t){return this.sendRequest("POST","/team_resume",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/paddle")}}e.Api=t}(k=e.Paddle||(e.Paddle={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async quota(e,t){return this.sendRequest("POST","/quota",e,null,[],!1,t)}async recognize(e,t){return this.sendRequest("POST","/recognize",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/photo_question")}}e.Api=t}(x=e.PhotoQuestion||(e.PhotoQuestion={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async account(e,t){return this.sendRequest("POST","/account",e,null,[],!1,t)}async accountSetting(e,t){return this.sendRequest("POST","/account_setting",e,null,[],!1,t)}async cost(e,t){return this.sendRequest("POST","/cost",e,null,[],!1,t)}async createKey(e,t){return this.sendRequest("POST","/create_key",e,null,[],!1,t)}async deleteKey(e,t){return this.sendRequest("POST","/delete_key",e,null,[],!1,t)}async invoice(e,t){return this.sendRequest("POST","/invoice",e,null,[],!1,t)}async listKey(e,t){return this.sendRequest("POST","/list_key",e,null,[],!1,t)}async rateLimit(e,t){return this.sendRequest("POST","/rate_limit",e,null,[],!1,t)}async usage(e,t){return this.sendRequest("POST","/usage",e,null,[],!1,t)}async usageConfig(e,t){return this.sendRequest("POST","/usage_config",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/platform")}}e.Api=t}(q=e.Platform||(e.Platform={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async createGeneratePodcastTask(e,t){return this.sendRequest("POST","/create_generate_podcast_task",e,null,[],!1,t)}async deletePodcast(e,t){return this.sendRequest("POST","/delete_podcast",e,null,[],!1,t)}async generatePodcast(e,t){return this.sendRequest("POST","/generate_podcast",e,null,[],!1,t)}async getPodcastInfo(e,t){return this.sendRequest("POST","/get_podcast_info",e,null,[],!1,t)}async getPodcastInfoV2(e,t){return this.sendRequest("POST","/get_podcast_info_v2",e,null,[],!1,t)}async getPodcastList(e,t){return this.sendRequest("POST","/get_podcast_list",e,null,[],!1,t)}async getPodcastListV2(e,t){return this.sendRequest("POST","/get_podcast_list_v2",e,null,[],!1,t)}async getSpeakerConfig(e){return this.sendRequest("POST","/get_speaker_config",null,null,[],!1,e)}async internalGenerateCallback(e,t){return this.sendRequest("POST","/internal_generate_callback",e,null,[],!1,t)}async loopResult(e,t){return this.sendRequest("POST","/loop_result",e,null,[],!1,t)}async loopTaskStatus(e,t){return this.sendRequest("POST","/loop_task_status",e,null,[],!1,t)}async retryGeneratePodcastTask(e,t){return this.sendRequest("POST","/retry_generate_podcast_task",e,null,[],!1,t)}async retryGenerateTask(e,t){return this.sendRequest("POST","/retry_generate_task",e,null,[],!1,t)}async updatePodcastInfo(e,t){return this.sendRequest("POST","/update_podcast_info",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/podcast")}}e.Api=t}(O=e.Podcast||(e.Podcast={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async translate(e,t){return this.sendRequest("POST","/translate",e,null,[],!1,t)}async translateV2(e,t){return this.sendRequest("POST","/translate_v2",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/profession_ability")}}e.Api=t}(I=e.ProfessionAbility||(e.ProfessionAbility={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async list(e){return this.sendRequest("POST","/list",null,null,[],!1,e)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/profession_prompt")}}e.Api=t}(L=e.ProfessionPrompt||(e.ProfessionPrompt={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async accessable(e,t){return this.sendRequest("POST","/accessable",e,null,[],!1,t)}async addShare(e,t){return this.sendRequest("POST","/add_share",e,null,[],!1,t)}async archive(e,t){return this.sendRequest("POST","/archive",e,null,[],!1,t)}async confirmJoin(e,t){return this.sendRequest("POST","/confirm_join",e,null,[],!1,t)}async create(e,t){return this.sendRequest("POST","/create",e,null,[],!1,t)}async delete(e,t){return this.sendRequest("POST","/delete",e,null,[],!1,t)}async deleteShare(e,t){return this.sendRequest("POST","/delete_share",e,null,[],!1,t)}async detail(e,t){return this.sendRequest("POST","/detail",e,null,[],!1,t)}async getCapacity(e,t){return this.sendRequest("POST","/get_capacity",e,null,[],!1,t)}async getMember(e,t){return this.sendRequest("POST","/get_member",e,null,[],!1,t)}async getShare(e,t){return this.sendRequest("POST","/get_share",e,null,[],!1,t)}async inviteMember(e,t){return this.sendRequest("POST","/invite_member",e,null,[],!1,t)}async isShared(e,t){return this.sendRequest("POST","/is_shared",e,null,[],!1,t)}async list(e,t){return this.sendRequest("POST","/list",e,null,[],!1,t)}async pin(e,t){return this.sendRequest("POST","/pin",e,null,[],!1,t)}async removeMember(e,t){return this.sendRequest("POST","/remove_member",e,null,[],!1,t)}async update(e,t){return this.sendRequest("POST","/update",e,null,[],!1,t)}async updateMember(e,t){return this.sendRequest("POST","/update_member",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/project")}}e.Api=t}(D=e.Project||(e.Project={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async askAi(e,t){return this.sendRequest("POST","/ask_ai",e,null,[],!1,t)}async common(e,t){return this.sendRequest("POST","/common",e,null,[],!1,t)}async explain(e,t){return this.sendRequest("POST","/explain",e,null,[],!1,t)}async getList(e,t){return this.sendRequest("POST","/get_list",e,null,[],!1,t)}async instantOpen(e,t){return this.sendRequest("POST","/instant_open",e,null,[],!1,t)}async promptOptimize(e,t){return this.sendRequest("POST","/prompt_optimize",e,null,[],!1,t)}async simplify(e,t){return this.sendRequest("POST","/simplify",e,null,[],!1,t)}async translate(e,t){return this.sendRequest("POST","/translate",e,null,[],!1,t)}async updateCustomPromptPosition(e,t){return this.sendRequest("POST","/update_custom_prompt_position",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/quick_action")}}e.Api=t}(M=e.QuickAction||(e.QuickAction={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async commit(e,t){return this.sendRequest("POST","/commit",e,null,[],!1,t)}async count(e){return this.sendRequest("POST","/count",null,null,[],!1,e)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/reaction")}}e.Api=t}(B=e.Reaction||(e.Reaction={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async genReading(e,t){return this.sendRequest("POST","/gen_reading",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/reading")}}e.Api=t}(N=e.Reading||(e.Reading={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async exploreBots(e,t){return this.sendRequest("POST","/explore_bots",e,null,[],!1,t)}async recognizeCalorie(e,t){return this.sendRequest("POST","/recognize_calorie",e,null,[],!1,t)}async recognizeCoins(e,t){return this.sendRequest("POST","/recognize_coins",e,null,[],!1,t)}async recognizeInsects(e,t){return this.sendRequest("POST","/recognize_insects",e,null,[],!1,t)}async recognizeMenu(e,t){return this.sendRequest("POST","/recognize_menu",e,null,[],!1,t)}async recognizeMushrooms(e,t){return this.sendRequest("POST","/recognize_mushrooms",e,null,[],!1,t)}async recognizePlants(e,t){return this.sendRequest("POST","/recognize_plants",e,null,[],!1,t)}async setExploreBots(e,t){return this.sendRequest("POST","/set_explore_bots",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/recognize_image")}}e.Api=t}(F=e.RecognizeImage||(e.RecognizeImage={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async addCompatibilityResult(e,t){return this.sendRequest("POST","/add_compatibility_result",e,null,[],!1,t)}async createSocialBot(e,t){return this.sendRequest("POST","/create_social_bot",e,null,[],!1,t)}async deleteCompatibilityCache(e,t){return this.sendRequest("POST","/delete_compatibility_cache",e,null,[],!1,t)}async deleteRoastCache(e,t){return this.sendRequest("POST","/delete_roast_cache",e,null,[],!1,t)}async generate(e,t){return this.sendRequest("POST","/generate",e,null,[],!1,t)}async generateCompatibility(e,t){return this.sendRequest("POST","/generate_compatibility",e,null,[],!1,t)}async getCompatibilityCache(e,t){return this.sendRequest("POST","/get_compatibility_cache",e,null,[],!1,t)}async getCompatibilityList(e,t){return this.sendRequest("POST","/get_compatibility_list",e,null,[],!1,t)}async getQueueLength(e){return this.sendRequest("GET","/get_queue_length",null,null,[],!1,e)}async getRoastCache(e,t){return this.sendRequest("POST","/get_roast_cache",e,null,[],!1,t)}async getSocialBotInfo(e,t){return this.sendRequest("POST","/get_social_bot_info",e,null,[],!1,t)}async saveFacebookData(e,t){return this.sendRequest("POST","/save_facebook_data",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/roast")}}e.Api=t}(U=e.Roast||(e.Roast={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async clearAllSessions(e,t){return this.sendRequest("POST","/clear_all_sessions",e,null,[],!1,t)}async deleteSession(e,t){return this.sendRequest("POST","/delete_session",e,null,[],!1,t)}async disfavorSession(e,t){return this.sendRequest("POST","/disfavor_session",e,null,[],!1,t)}async favorSession(e,t){return this.sendRequest("POST","/favor_session",e,null,[],!1,t)}async fork(e,t){return this.sendRequest("POST","/fork",e,null,[],!1,t)}async generateRelatedQuestions(e,t){return this.sendRequest("POST","/generate_related_questions",e,null,[],!1,t)}async getSessionDetail(e,t){return this.sendRequest("POST","/get_session_detail",e,null,[],!1,t)}async listSessions(e,t){return this.sendRequest("POST","/list_sessions",e,null,[],!1,t)}async manualSearchImage(e,t){return this.sendRequest("POST","/manual_search_image",e,null,[],!1,t)}async manualSearchVideo(e,t){return this.sendRequest("POST","/manual_search_video",e,null,[],!1,t)}async manualSearchWebPage(e,t){return this.sendRequest("POST","/manual_search_web_page",e,null,[],!1,t)}async newSearchV2(e,t){return this.sendRequest("POST","/new_search_v2",e,null,[],!1,t)}async newSession(e,t){return this.sendRequest("POST","/new_session",e,null,[],!1,t)}async queryComplete(e,t){return this.sendRequest("POST","/query_complete",e,null,[],!1,t)}async saveAgentAnswer(e,t){return this.sendRequest("POST","/save_agent_answer",e,null,[],!1,t)}async searchRelatedQuery(e,t){return this.sendRequest("POST","/search_related_query",e,null,[],!1,t)}async updatePrivilege(e,t){return this.sendRequest("POST","/update_privilege",e,null,[],!1,t)}async updateSessionTitle(e,t){return this.sendRequest("POST","/update_session_title",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/search")}}e.Api=t}(G=e.Search||(e.Search={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async getFaviconList(e,t){return this.sendRequest("POST","/get_favicon_list",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/search_agent_v1")}}e.Api=t}(V=e.SearchAgentV1||(e.SearchAgentV1={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async feedback(e,t){return this.sendRequest("POST","/feedback",e,null,[],!1,t)}async quota(e){return this.sendRequest("POST","/quota",null,null,[],!1,e)}async search(e,t){return this.sendRequest("POST","/search",e,null,[],!1,t)}async searchFeeds(e,t){return this.sendRequest("POST","/search_feeds",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/search_v1")}}e.Api=t}(W=e.SearchV1||(e.SearchV1={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async batchCreateBots(e,t){return this.sendRequest("POST","/batch_create_bots",e,null,[],!1,t)}async getBotDetail(e,t){return this.sendRequest("POST","/get_bot_detail",e,null,[],!1,t)}async getBotList(e,t){return this.sendRequest("POST","/get_bot_list",e,null,[],!1,t)}async updateSeoBot(e,t){return this.sendRequest("POST","/update_seo_bot",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/seo")}}e.Api=t}(H=e.Seo||(e.Seo={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async generate(e,t){return this.sendRequest("POST","/generate",e,null,[],!1,t)}async templateList(e){return this.sendRequest("GET","/template_list",null,null,[],!1,e)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/site_integration")}}e.Api=t}(K=e.SiteIntegration||(e.SiteIntegration={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async aiGenArtifactConfig(e,t){return this.sendRequest("POST","/ai_gen_artifact_config",e,null,[],!1,t)}async aiGenConfig(e,t){return this.sendRequest("POST","/ai_gen_config",e,null,[],!1,t)}async clearHistory(e,t){return this.sendRequest("POST","/clear_history",e,null,[],!1,t)}async create(e,t){return this.sendRequest("POST","/create",e,null,[],!1,t)}async createHistory(e,t){return this.sendRequest("POST","/create_history",e,null,[],!1,t)}async delete(e,t){return this.sendRequest("POST","/delete",e,null,[],!1,t)}async deleteHistory(e,t){return this.sendRequest("POST","/delete_history",e,null,[],!1,t)}async get(e,t){return this.sendRequest("POST","/get",e,null,[],!1,t)}async getHistoryRecord(e,t){return this.sendRequest("POST","/get_history_record",e,null,[],!1,t)}async getShareResult(e,t){return this.sendRequest("POST","/get_share_result",e,null,[],!1,t)}async i18nTranslate(e,t){return this.sendRequest("POST","/i18n_translate",e,null,[],!1,t)}async list(e,t){return this.sendRequest("POST","/list",e,null,[],!1,t)}async listEgArtifact(e){return this.sendRequest("GET","/list_eg_artifact",null,null,[],!1,e)}async listHistory(e,t){return this.sendRequest("POST","/list_history",e,null,[],!1,t)}async retrieve(e,t){return this.sendRequest("POST","/retrieve",e,null,[],!1,t)}async share(e,t){return this.sendRequest("POST","/share",e,null,[],!1,t)}async update(e,t){return this.sendRequest("POST","/update",e,null,[],!1,t)}async use(e,t){return this.sendRequest("POST","/use",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/smart_action")}}e.Api=t}(j=e.SmartAction||(e.SmartAction={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async addRecommend(e,t){return this.sendRequest("POST","/add_recommend",e,null,[],!1,t)}async adminList(e,t){return this.sendRequest("POST","/admin_list",e,null,[],!1,t)}async batchCreateCategory(e,t){return this.sendRequest("POST","/batch_create_category",e,null,[],!1,t)}async deleteCategory(e,t){return this.sendRequest("POST","/delete_category",e,null,[],!1,t)}async delist(e,t){return this.sendRequest("POST","/delist",e,null,[],!1,t)}async full(e,t){return this.sendRequest("POST","/full",e,null,[],!1,t)}async get(e,t){return this.sendRequest("POST","/get",e,null,[],!1,t)}async list(e,t){return this.sendRequest("POST","/list",e,null,[],!1,t)}async listCategories(e,t){return this.sendRequest("POST","/list_categories",e,null,[],!1,t)}async listRecommend(e,t){return this.sendRequest("POST","/list_recommend",e,null,[],!1,t)}async listReviews(e,t){return this.sendRequest("POST","/list_reviews",e,null,[],!1,t)}async listSimilarSmartActions(e,t){return this.sendRequest("POST","/list_similar_smart_actions",e,null,[],!1,t)}async removeRecommend(e,t){return this.sendRequest("POST","/remove_recommend",e,null,[],!1,t)}async review(e,t){return this.sendRequest("POST","/review",e,null,[],!1,t)}async updateCategory(e,t){return this.sendRequest("POST","/update_category",e,null,[],!1,t)}async updateSmartActionCategoryRelation(e,t){return this.sendRequest("POST","/update_smart_action_category_relation",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/smart_community")}}e.Api=t}(Q=e.SmartCommunity||(e.SmartCommunity={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async add(e,t){return this.sendRequest("POST","/add",e,null,[],!1,t)}async list(e,t){return this.sendRequest("POST","/list",e,null,[],!1,t)}async remove(e,t){return this.sendRequest("POST","/remove",e,null,[],!1,t)}async updateOrder(e,t){return this.sendRequest("POST","/update_order",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/smart_favorite")}}e.Api=t}(z=e.SmartFavorite||(e.SmartFavorite={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async pushResult(e,t){return this.sendRequest("POST","/push_result",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/sse_task")}}e.Api=t}(Y=e.SseTask||(e.SseTask={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async create(e,t){return this.sendRequest("POST","/create",e,null,[],!1,t)}async delete(e,t){return this.sendRequest("POST","/delete",e,null,[],!1,t)}async detail(e,t){return this.sendRequest("POST","/detail",e,null,[],!1,t)}async list(e,t){return this.sendRequest("POST","/list",e,null,[],!1,t)}async setCommon(e,t){return this.sendRequest("POST","/set_common",e,null,[],!1,t)}async update(e,t){return this.sendRequest("POST","/update",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/suggestion")}}e.Api=t}(J=e.Suggestion||(e.Suggestion={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async add(e,t){return this.sendRequest("POST","/add",e,null,[],!1,t)}async del(e,t){return this.sendRequest("POST","/del",e,null,[],!1,t)}async edit(e,t){return this.sendRequest("POST","/edit",e,null,[],!1,t)}async list(e,t){return this.sendRequest("POST","/list",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/translation_glossary")}}e.Api=t}(Z=e.TranslationGlossary||(e.TranslationGlossary={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async receive(e){return this.sendRequest("POST","/receive",null,null,[],!1,e)}async receiveCheck(e,t){return this.sendRequest("POST","/receive_check",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/trial")}}e.Api=t}(X=e.Trial||(e.Trial={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async getPreferences(e){return this.sendRequest("POST","/get_preferences",null,null,[],!1,e)}async getSearchShortcuts(e){return this.sendRequest("POST","/get_search_shortcuts",null,null,[],!1,e)}async getVipStatus(e){return this.sendRequest("GET","/get_vip_status",null,null,[],!1,e)}async updatePreferences(e,t){return this.sendRequest("POST","/update_preferences",e,null,[],!1,t)}async updateSearchShortcuts(e,t){return this.sendRequest("POST","/update_search_shortcuts",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/user")}}e.Api=t}($=e.User||(e.User={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async getMonicaConfig(e){return this.sendRequest("POST","/get_monica_config",null,null,[],!1,e)}async getNotifyConfig(e){return this.sendRequest("POST","/get_notify_config",null,null,[],!1,e)}async saveMonicaConfig(e,t){return this.sendRequest("POST","/save_monica_config",e,null,[],!1,t)}async saveNotifyConfig(e,t){return this.sendRequest("POST","/save_notify_config",e,null,[],!1,t)}async updateMonicaSkillConfig(e,t){return this.sendRequest("POST","/update_monica_skill_config",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/user_client_config")}}e.Api=t}(ee=e.UserClientConfig||(e.UserClientConfig={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async create(e,t){return this.sendRequest("POST","/create",e,null,[],!1,t)}async delete(e,t){return this.sendRequest("POST","/delete",e,null,[],!1,t)}async list(e,t){return this.sendRequest("POST","/list",e,null,[],!1,t)}async update(e,t){return this.sendRequest("POST","/update",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/user_task")}}e.Api=t}(et=e.UserTask||(e.UserTask={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async getSubscriptionPlansV2(e){return this.sendRequest("GET","/get_subscription_plans_v2",null,null,[],!1,e)}async getTeamDeduction(e,t){return this.sendRequest("POST","/get_team_deduction",e,null,[],!1,t)}async setTeamDeduction(e,t){return this.sendRequest("POST","/set_team_deduction",e,null,[],!1,t)}async teamInvoice(e,t){return this.sendRequest("POST","/team_invoice",e,null,[],!1,t)}async teamSeat(e,t){return this.sendRequest("POST","/team_seat",e,null,[],!1,t)}async teamSubscription(e,t){return this.sendRequest("POST","/team_subscription",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/vip")}}e.Api=t}(es=e.Vip||(e.Vip={}));class ei extends n.CrepeSdk.BaseSession{_initApis(e){this.aiformApi=new t.Api(e,this),this.artifactSnapshotsApi=new s.Api(e,this),this.artifactsApi=new i.Api(e,this),this.audioToolApi=new o.Api(e,this),this.batchTableApi=new a.Api(e,this),this.botSkillApi=new l.Api(e,this),this.botTaskApi=new u.Api(e,this),this.chatPdfApi=new d.Api(e,this),this.chatShareApi=new c.Api(e,this),this.chatTemplateApi=new h.Api(e,this),this.coderApi=new p.Api(e,this),this.contactPersonApi=new m.Api(e,this),this.customBotApi=new g.Api(e,this),this.documentApi=new y.Api(e,this),this.driveApi=new S.Api(e,this),this.feedbackApi=new _.Api(e,this),this.filesApi=new f.Api(e,this),this.giftCardApi=new v.Api(e,this),this.githubSummaryApi=new T.Api(e,this),this.googleApi=new b.Api(e,this),this.imBotApi=new C.Api(e,this),this.knowledgeApi=new P.Api(e,this),this.magicWandApi=new A.Api(e,this),this.memoryApi=new w.Api(e,this),this.mobileApi=new E.Api(e,this),this.my2024Api=new R.Api(e,this),this.paddleApi=new k.Api(e,this),this.photoQuestionApi=new x.Api(e,this),this.platformApi=new q.Api(e,this),this.podcastApi=new O.Api(e,this),this.professionAbilityApi=new I.Api(e,this),this.professionPromptApi=new L.Api(e,this),this.projectApi=new D.Api(e,this),this.quickActionApi=new M.Api(e,this),this.reactionApi=new B.Api(e,this),this.readingApi=new N.Api(e,this),this.recognizeImageApi=new F.Api(e,this),this.roastApi=new U.Api(e,this),this.searchApi=new G.Api(e,this),this.searchAgentV1Api=new V.Api(e,this),this.searchV1Api=new W.Api(e,this),this.seoApi=new H.Api(e,this),this.siteIntegrationApi=new K.Api(e,this),this.smartActionApi=new j.Api(e,this),this.smartCommunityApi=new Q.Api(e,this),this.smartFavoriteApi=new z.Api(e,this),this.sseTaskApi=new Y.Api(e,this),this.suggestionApi=new J.Api(e,this),this.translationGlossaryApi=new Z.Api(e,this),this.trialApi=new X.Api(e,this),this.userApi=new $.Api(e,this),this.userClientConfigApi=new ee.Api(e,this),this.userTaskApi=new et.Api(e,this),this.vipApi=new es.Api(e,this)}constructor(...e){super(...e),(0,r._)(this,"aiformApi",void 0),(0,r._)(this,"artifactSnapshotsApi",void 0),(0,r._)(this,"artifactsApi",void 0),(0,r._)(this,"audioToolApi",void 0),(0,r._)(this,"batchTableApi",void 0),(0,r._)(this,"botSkillApi",void 0),(0,r._)(this,"botTaskApi",void 0),(0,r._)(this,"chatPdfApi",void 0),(0,r._)(this,"chatShareApi",void 0),(0,r._)(this,"chatTemplateApi",void 0),(0,r._)(this,"coderApi",void 0),(0,r._)(this,"contactPersonApi",void 0),(0,r._)(this,"customBotApi",void 0),(0,r._)(this,"documentApi",void 0),(0,r._)(this,"driveApi",void 0),(0,r._)(this,"feedbackApi",void 0),(0,r._)(this,"filesApi",void 0),(0,r._)(this,"giftCardApi",void 0),(0,r._)(this,"githubSummaryApi",void 0),(0,r._)(this,"googleApi",void 0),(0,r._)(this,"imBotApi",void 0),(0,r._)(this,"knowledgeApi",void 0),(0,r._)(this,"magicWandApi",void 0),(0,r._)(this,"memoryApi",void 0),(0,r._)(this,"mobileApi",void 0),(0,r._)(this,"my2024Api",void 0),(0,r._)(this,"paddleApi",void 0),(0,r._)(this,"photoQuestionApi",void 0),(0,r._)(this,"platformApi",void 0),(0,r._)(this,"podcastApi",void 0),(0,r._)(this,"professionAbilityApi",void 0),(0,r._)(this,"professionPromptApi",void 0),(0,r._)(this,"projectApi",void 0),(0,r._)(this,"quickActionApi",void 0),(0,r._)(this,"reactionApi",void 0),(0,r._)(this,"readingApi",void 0),(0,r._)(this,"recognizeImageApi",void 0),(0,r._)(this,"roastApi",void 0),(0,r._)(this,"searchApi",void 0),(0,r._)(this,"searchAgentV1Api",void 0),(0,r._)(this,"searchV1Api",void 0),(0,r._)(this,"seoApi",void 0),(0,r._)(this,"siteIntegrationApi",void 0),(0,r._)(this,"smartActionApi",void 0),(0,r._)(this,"smartCommunityApi",void 0),(0,r._)(this,"smartFavoriteApi",void 0),(0,r._)(this,"sseTaskApi",void 0),(0,r._)(this,"suggestionApi",void 0),(0,r._)(this,"translationGlossaryApi",void 0),(0,r._)(this,"trialApi",void 0),(0,r._)(this,"userApi",void 0),(0,r._)(this,"userClientConfigApi",void 0),(0,r._)(this,"userTaskApi",void 0),(0,r._)(this,"vipApi",void 0)}}class en extends n.CrepeSdk.BaseSdk{async session(e,t,s){return this.getSession(e,t,s,ei)._run()}constructor(e){super(e),(0,r._)(this,"aiformApi",void 0),(0,r._)(this,"artifactSnapshotsApi",void 0),(0,r._)(this,"artifactsApi",void 0),(0,r._)(this,"audioToolApi",void 0),(0,r._)(this,"batchTableApi",void 0),(0,r._)(this,"botSkillApi",void 0),(0,r._)(this,"botTaskApi",void 0),(0,r._)(this,"chatPdfApi",void 0),(0,r._)(this,"chatShareApi",void 0),(0,r._)(this,"chatTemplateApi",void 0),(0,r._)(this,"coderApi",void 0),(0,r._)(this,"contactPersonApi",void 0),(0,r._)(this,"customBotApi",void 0),(0,r._)(this,"documentApi",void 0),(0,r._)(this,"driveApi",void 0),(0,r._)(this,"feedbackApi",void 0),(0,r._)(this,"filesApi",void 0),(0,r._)(this,"giftCardApi",void 0),(0,r._)(this,"githubSummaryApi",void 0),(0,r._)(this,"googleApi",void 0),(0,r._)(this,"imBotApi",void 0),(0,r._)(this,"knowledgeApi",void 0),(0,r._)(this,"magicWandApi",void 0),(0,r._)(this,"memoryApi",void 0),(0,r._)(this,"mobileApi",void 0),(0,r._)(this,"my2024Api",void 0),(0,r._)(this,"paddleApi",void 0),(0,r._)(this,"photoQuestionApi",void 0),(0,r._)(this,"platformApi",void 0),(0,r._)(this,"podcastApi",void 0),(0,r._)(this,"professionAbilityApi",void 0),(0,r._)(this,"professionPromptApi",void 0),(0,r._)(this,"projectApi",void 0),(0,r._)(this,"quickActionApi",void 0),(0,r._)(this,"reactionApi",void 0),(0,r._)(this,"readingApi",void 0),(0,r._)(this,"recognizeImageApi",void 0),(0,r._)(this,"roastApi",void 0),(0,r._)(this,"searchApi",void 0),(0,r._)(this,"searchAgentV1Api",void 0),(0,r._)(this,"searchV1Api",void 0),(0,r._)(this,"seoApi",void 0),(0,r._)(this,"siteIntegrationApi",void 0),(0,r._)(this,"smartActionApi",void 0),(0,r._)(this,"smartCommunityApi",void 0),(0,r._)(this,"smartFavoriteApi",void 0),(0,r._)(this,"sseTaskApi",void 0),(0,r._)(this,"suggestionApi",void 0),(0,r._)(this,"translationGlossaryApi",void 0),(0,r._)(this,"trialApi",void 0),(0,r._)(this,"userApi",void 0),(0,r._)(this,"userClientConfigApi",void 0),(0,r._)(this,"userTaskApi",void 0),(0,r._)(this,"vipApi",void 0),(0,r._)(this,"allExceptions",{}),this.aiformApi=new t.Api(this),this.artifactSnapshotsApi=new s.Api(this),this.artifactsApi=new i.Api(this),this.audioToolApi=new o.Api(this),this.batchTableApi=new a.Api(this),this.botSkillApi=new l.Api(this),this.botTaskApi=new u.Api(this),this.chatPdfApi=new d.Api(this),this.chatShareApi=new c.Api(this),this.chatTemplateApi=new h.Api(this),this.coderApi=new p.Api(this),this.contactPersonApi=new m.Api(this),this.customBotApi=new g.Api(this),this.documentApi=new y.Api(this),this.driveApi=new S.Api(this),this.feedbackApi=new _.Api(this),this.filesApi=new f.Api(this),this.giftCardApi=new v.Api(this),this.githubSummaryApi=new T.Api(this),this.googleApi=new b.Api(this),this.imBotApi=new C.Api(this),this.knowledgeApi=new P.Api(this),this.magicWandApi=new A.Api(this),this.memoryApi=new w.Api(this),this.mobileApi=new E.Api(this),this.my2024Api=new R.Api(this),this.paddleApi=new k.Api(this),this.photoQuestionApi=new x.Api(this),this.platformApi=new q.Api(this),this.podcastApi=new O.Api(this),this.professionAbilityApi=new I.Api(this),this.professionPromptApi=new L.Api(this),this.projectApi=new D.Api(this),this.quickActionApi=new M.Api(this),this.reactionApi=new B.Api(this),this.readingApi=new N.Api(this),this.recognizeImageApi=new F.Api(this),this.roastApi=new U.Api(this),this.searchApi=new G.Api(this),this.searchAgentV1Api=new V.Api(this),this.searchV1Api=new W.Api(this),this.seoApi=new H.Api(this),this.siteIntegrationApi=new K.Api(this),this.smartActionApi=new j.Api(this),this.smartCommunityApi=new Q.Api(this),this.smartFavoriteApi=new z.Api(this),this.sseTaskApi=new Y.Api(this),this.suggestionApi=new J.Api(this),this.translationGlossaryApi=new Z.Api(this),this.trialApi=new X.Api(this),this.userApi=new $.Api(this),this.userClientConfigApi=new ee.Api(this),this.userTaskApi=new et.Api(this),this.vipApi=new es.Api(this)}}e.Sdk=en}(i||(i={}));let{ApiRequestError:o,ApiRequestAborted:a}=n.CrepeSdk},71210:function(e,t,s){s.d(t,{Hd:function(){return i}});var i,n=s(82125),r=s(66084);!function(e){let t,s,i,o,a,l,u,d,c,h,p,m,g,y,S,_,f,v,T,b,C,P,A,w,E,R,k,x,q,O;!function(e){class t extends n.CrepeSdk.BaseDomainApi{async bypass(e,t){return this.sendRequest("POST","/bypass",e,null,[],!1,t)}async bypassv2(e,t){return this.sendRequest("POST","/bypassv2",e,null,[],!1,t)}async check(e,t){return this.sendRequest("POST","/check",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/ai_content_detect")}}e.Api=t}(t=e.AiContentDetect||(e.AiContentDetect={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async getAppConfigs(e,t){return this.sendRequest("POST","/get_app_configs",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/app_config")}}e.Api=t}(s=e.AppConfig||(e.AppConfig={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async speech(e,t){return this.sendRequest("POST","/speech",e,null,[],!1,t)}async transcriptions(e,t){return this.sendRequest("POST","/transcriptions",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/audio")}}e.Api=t}(i=e.Audio||(e.Audio={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async createTask(e,t){return this.sendRequest("POST","/create_task",e,null,[],!1,t)}async getTask(e,t){return this.sendRequest("POST","/get_task",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/audio_translate")}}e.Api=t}(o=e.AudioTranslate||(e.AudioTranslate={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async createShare(e,t){return this.sendRequest("POST","/create_share",e,null,[],!1,t)}async getShare(e,t){return this.sendRequest("POST","/get_share",e,null,[],!1,t)}async updateShare(e,t){return this.sendRequest("POST","/update_share",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/chat_share")}}e.Api=t}(a=e.ChatShare||(e.ChatShare={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async deleteExperiment(e,t){return this.sendRequest("POST","/delete_experiment",e,null,[],!1,t)}async getGroup(e,t){return this.sendRequest("POST","/get_group",e,null,[],!1,t)}async listExperiment(e,t){return this.sendRequest("POST","/list_experiment",e,null,[],!1,t)}async saveExperiment(e,t){return this.sendRequest("POST","/save_experiment",e,null,[],!1,t)}async showExperiment(e,t){return this.sendRequest("POST","/show_experiment",e,null,[],!1,t)}async updateExperimentStatus(e,t){return this.sendRequest("POST","/update_experiment_status",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/experiment_config")}}e.Api=t}(l=e.ExperimentConfig||(e.ExperimentConfig={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async preSignByModule(e,t){return this.sendRequest("POST","/pre_sign_by_module",e,null,[],!1,t)}async preSignListByModule(e,t){return this.sendRequest("POST","/pre_sign_list_by_module",e,null,[],!1,t)}async preSignNew(e,t){return this.sendRequest("GET","/pre_sign_new",null,e,[],!1,t)}async signReadListForMemo(e,t){return this.sendRequest("POST","/sign_read_list_for_memo",e,null,[],!1,t)}async uploadByUrl(e,t){return this.sendRequest("POST","/upload_by_url",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/file_object")}}e.Api=t}(u=e.FileObject||(e.FileObject={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async createTone(e,t){return this.sendRequest("POST","/create_tone",e,null,[],!1,t)}async deleteTone(e,t){return this.sendRequest("POST","/delete_tone",e,null,[],!1,t)}async tone(e,t){return this.sendRequest("POST","/tone",e,null,[],!1,t)}async translate(e,t){return this.sendRequest("POST","/translate",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/generate")}}e.Api=t}(d=e.Generate||(e.Generate={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async trigger(e,t){return this.sendRequest("POST","/trigger",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/gift")}}e.Api=t}(c=e.Gift||(e.Gift={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/hello_world")}}e.Api=t}(h=e.HelloWorld||(e.HelloWorld={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async add(e,t){return this.sendRequest("POST","/add",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/i18n_text")}}e.Api=t}(p=e.I18nText||(e.I18nText={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async batchGetResult(e,t){return this.sendRequest("POST","/batch_get_result",e,null,[],!1,t)}async deleteItem(e,t){return this.sendRequest("POST","/delete_item",e,null,[],!1,t)}async getHistoryList(e,t){return this.sendRequest("POST","/get_history_list",e,null,[],!1,t)}async getImageGallery(e){return this.sendRequest("POST","/get_image_gallery",null,null,[],!1,e)}async getImageToolsConfig(e){return this.sendRequest("POST","/get_image_tools_config",null,null,[],!1,e)}async getModelList(e,t){return this.sendRequest("POST","/get_model_list",e,null,[],!1,t)}async getRealtimeImageConfig(e){return this.sendRequest("POST","/get_realtime_image_config",null,null,[],!1,e)}async getVideoToolsConfig(e){return this.sendRequest("POST","/get_video_tools_config",null,null,[],!1,e)}async imageToImage(e,t){return this.sendRequest("POST","/image_to_image",e,null,[],!1,t)}async imageToVideo(e,t){return this.sendRequest("POST","/image_to_video",e,null,[],!1,t)}async loopResult(e,t){return this.sendRequest("POST","/loop_result",e,null,[],!1,t)}async pageItemClick(e,t){return this.sendRequest("POST","/page_item_click",e,null,[],!1,t)}async pageItemList(e,t){return this.sendRequest("POST","/page_item_list",e,null,[],!1,t)}async textToImage(e,t){return this.sendRequest("POST","/text_to_image",e,null,[],!1,t)}async textToVideo(e,t){return this.sendRequest("POST","/text_to_video",e,null,[],!1,t)}async translate(e,t){return this.sendRequest("POST","/translate",e,null,[],!1,t)}async workflow(e,t){return this.sendRequest("POST","/workflow",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/image_tools")}}e.Api=t}(m=e.ImageTools||(e.ImageTools={})),function(e){class t extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","CodeError")}}e.CodeError=t;class s extends n.CrepeSdk.BaseDomainApi{async cancelGenImageTask(e,t){return this.sendRequest("POST","/cancel_gen_image_task",e,null,[],!1,t)}async cancelTaskGenVideo(e,t){return this.sendRequest("POST","/cancel_task_gen_video",e,null,[],!1,t)}async createGenImageTask(e,t){return this.sendRequest("POST","/create_gen_image_task",e,null,[],!1,t)}async createTaskGenVideo(e,t){return this.sendRequest("POST","/create_task_gen_video",e,null,[],!1,t)}async getTaskGenVideo(e,t){return this.sendRequest("POST","/get_task_gen_video",e,null,[],!1,t)}async loopGenImageTask(e,t){return this.sendRequest("POST","/loop_gen_image_task",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/make_it_more")}}e.Api=s}(g=e.MakeItMore||(e.MakeItMore={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async create(e,t){return this.sendRequest("POST","/create",e,null,[],!1,t)}async delete(e,t){return this.sendRequest("POST","/delete",e,null,[],!1,t)}async list(e,t){return this.sendRequest("POST","/list",e,null,[],!1,t)}async mindmapFileDetail(e,t){return this.sendRequest("POST","/mindmap_file_detail",e,null,[],!1,t)}async update(e,t){return this.sendRequest("POST","/update",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/mind_map_manager")}}e.Api=t}(y=e.MindMapManager||(e.MindMapManager={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async getNewVersion(e,t){return this.sendRequest("POST","/get_new_version",e,null,[],!1,t)}async getSkillConfig(e,t){return this.sendRequest("POST","/get_skill_config",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/modal")}}e.Api=t}(S=e.Modal||(e.Modal={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async addNoteTag(e,t){return this.sendRequest("POST","/add_Note_tag",e,null,[],!1,t)}async batchDelete(e,t){return this.sendRequest("POST","/batch_delete",e,null,[],!1,t)}async batchUpdateNoteTags(e,t){return this.sendRequest("POST","/batch_update_note_tags",e,null,[],!1,t)}async deleteNoteTag(e,t){return this.sendRequest("POST","/delete_Note_tag",e,null,[],!1,t)}async deleteTag(e,t){return this.sendRequest("POST","/delete_tag",e,null,[],!1,t)}async getContent(e,t){return this.sendRequest("POST","/get_content",e,null,[],!1,t)}async getTagList(e,t){return this.sendRequest("POST","/get_tag_list",e,null,[],!1,t)}async updateContent(e,t){return this.sendRequest("POST","/update_content",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/note")}}e.Api=t}(_=e.Note||(e.Note={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async chatWithInvoice(e,t){return this.sendRequest("POST","/chat_with_invoice",e,null,[],!1,t)}async readPdfResume(e,t){return this.sendRequest("POST","/read_pdf_resume",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/pdf_ai")}}e.Api=t}(f=e.PdfAi||(e.PdfAi={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async convertToImg(e,t){return this.sendRequest("POST","/convert_to_img",e,null,[],!1,t)}async convertToPpt(e,t){return this.sendRequest("POST","/convert_to_ppt",e,null,[],!1,t)}async convertToSelectablePdf(e,t){return this.sendRequest("POST","/convert_to_selectable_pdf",e,null,[],!1,t)}async convertToWord(e,t){return this.sendRequest("POST","/convert_to_word",e,null,[],!1,t)}async loopTaskStatus(e,t){return this.sendRequest("POST","/loop_task_status",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/pdf_convert")}}e.Api=t}(v=e.PdfConvert||(e.PdfConvert={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/pdf_convert_unauth")}}e.Api=t}(T=e.PdfConvertUnauth||(e.PdfConvertUnauth={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async addConfig(e,t){return this.sendRequest("POST","/add_config",e,null,[],!1,t)}async getConfig(e,t){return this.sendRequest("POST","/get_config",e,null,[],!1,t)}async getManusCount(e,t){return this.sendRequest("POST","/get_manus_count",e,null,[],!1,t)}async manus(e,t){return this.sendRequest("POST","/manus",e,null,[],!1,t)}async setManusCount(e,t){return this.sendRequest("POST","/set_manus_count",e,null,[],!1,t)}async updateConfig(e,t){return this.sendRequest("POST","/update_config",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/popup")}}e.Api=t}(b=e.Popup||(e.Popup={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async subscribe(e,t){return this.sendRequest("POST","/subscribe",e,null,[],!1,t)}async subscriptionDetails(e,t){return this.sendRequest("POST","/subscription_details",e,null,[],!1,t)}async unsubscribe(e,t){return this.sendRequest("POST","/unsubscribe",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/push_event")}}e.Api=t}(C=e.PushEvent||(e.PushEvent={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async aiRewrite(e,t){return this.sendRequest("POST","/ai_rewrite",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/seotool")}}e.Api=t}(P=e.Seotool||(e.Seotool={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async fluxDev(e,t){return this.sendRequest("POST","/flux_dev",e,null,[],!1,t)}async my2024(e,t){return this.sendRequest("POST","/my_2024",e,null,[],!1,t)}async my2024Novita(e,t){return this.sendRequest("POST","/my_2024_novita",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/social")}}e.Api=t}(A=e.Social||(e.Social={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async acceptInvite(e,t){return this.sendRequest("POST","/accept_invite",e,null,[],!1,t)}async approveInvite(e,t){return this.sendRequest("POST","/approve_invite",e,null,[],!1,t)}async changeTeamUserRole(e,t){return this.sendRequest("POST","/change_team_user_role",e,null,[],!1,t)}async checkTeamAdmin(e,t){return this.sendRequest("POST","/check_team_admin",e,null,[],!1,t)}async checkTeamResource(e,t){return this.sendRequest("POST","/check_team_resource",e,null,[],!1,t)}async createTeamComplete(e,t){return this.sendRequest("POST","/create_team_complete",e,null,[],!1,t)}async deleteTeamResource(e,t){return this.sendRequest("POST","/delete_team_resource",e,null,[],!1,t)}async disapproveInvite(e,t){return this.sendRequest("POST","/disapprove_invite",e,null,[],!1,t)}async dissolveTeam(e,t){return this.sendRequest("POST","/dissolve_team",e,null,[],!1,t)}async exitTeam(e,t){return this.sendRequest("POST","/exit_team",e,null,[],!1,t)}async getCreatedTeam(e,t){return this.sendRequest("POST","/get_created_team",e,null,[],!1,t)}async getCurrentWorkspace(e,t){return this.sendRequest("POST","/get_current_workspace",e,null,[],!1,t)}async getInviteLink(e,t){return this.sendRequest("POST","/get_invite_link",e,null,[],!1,t)}async getPreviewStatus(e,t){return this.sendRequest("POST","/get_preview_status",e,null,[],!1,t)}async getRolePerms(e,t){return this.sendRequest("POST","/get_role_perms",e,null,[],!1,t)}async getTeamInfo(e,t){return this.sendRequest("POST","/get_team_info",e,null,[],!1,t)}async getTeamResources(e,t){return this.sendRequest("POST","/get_team_resources",e,null,[],!1,t)}async getTeamReviewList(e,t){return this.sendRequest("POST","/get_team_review_list",e,null,[],!1,t)}async getTeamUserList(e,t){return this.sendRequest("POST","/get_team_user_list",e,null,[],!1,t)}async getWorkspaceList(e,t){return this.sendRequest("POST","/get_workspace_list",e,null,[],!1,t)}async inviteTeamInfo(e,t){return this.sendRequest("POST","/invite_team_info",e,null,[],!1,t)}async notifyTeamQuotaExceed(e,t){return this.sendRequest("POST","/notify_team_quota_exceed",e,null,[],!1,t)}async refreshInviteLink(e,t){return this.sendRequest("POST","/refresh_invite_link",e,null,[],!1,t)}async registerTeamResource(e,t){return this.sendRequest("POST","/register_team_resource",e,null,[],!1,t)}async removeTeamUser(e,t){return this.sendRequest("POST","/remove_team_user",e,null,[],!1,t)}async selectWorkspace(e,t){return this.sendRequest("POST","/select_workspace",e,null,[],!1,t)}async startInviteLink(e,t){return this.sendRequest("POST","/start_invite_link",e,null,[],!1,t)}async stopInviteLink(e,t){return this.sendRequest("POST","/stop_invite_link",e,null,[],!1,t)}async transformOwner(e,t){return this.sendRequest("POST","/transform_owner",e,null,[],!1,t)}async updateTeamInfo(e,t){return this.sendRequest("POST","/update_team_info",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/team")}}e.Api=t}(w=e.Team||(e.Team={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async createShare(e,t){return this.sendRequest("POST","/create_share",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/translate_share")}}e.Api=t}(E=e.TranslateShare||(e.TranslateShare={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async getQuotas(e,t){return this.sendRequest("POST","/get_quotas",e,null,[],!1,t)}async queryCurrentModuleQuotaNdUsage(e,t){return this.sendRequest("POST","/query_current_module_quota_nd_usage",e,null,[],!1,t)}async queryModuleUsageRecords(e,t){return this.sendRequest("POST","/query_module_usage_records",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/usagev2")}}e.Api=t}(R=e.Usagev2||(e.Usagev2={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async clone(e,t){return this.sendRequest("POST","/clone",e,null,[],!1,t)}async delete(e,t){return this.sendRequest("POST","/delete",e,null,[],!1,t)}async readTexts(e,t){return this.sendRequest("POST","/read_texts",e,null,[],!1,t)}async update(e,t){return this.sendRequest("POST","/update",e,null,[],!1,t)}async voices(e,t){return this.sendRequest("POST","/voices",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/voice")}}e.Api=t}(k=e.Voice||(e.Voice={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async create(e,t){return this.sendRequest("POST","/create",e,null,[],!1,t)}async delete(e,t){return this.sendRequest("POST","/delete",e,null,[],!1,t)}async get(e,t){return this.sendRequest("POST","/get",e,null,[],!1,t)}async list(e,t){return this.sendRequest("POST","/list",e,null,[],!1,t)}async update(e,t){return this.sendRequest("POST","/update",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/web_page_mark")}}e.Api=t}(x=e.WebPageMark||(e.WebPageMark={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async listCommand(e){return this.sendRequest("POST","/ListCommand",null,null,[],!1,e)}async listTemplate(e){return this.sendRequest("POST","/ListTemplate",null,null,[],!1,e)}async addDict(e,t){return this.sendRequest("POST","/add_dict",e,null,[],!1,t)}async addGrammarDicWord(e,t){return this.sendRequest("POST","/add_grammar_dic_word",e,null,[],!1,t)}async checkGrammarV2(e,t){return this.sendRequest("POST","/check_grammar_v2",e,null,[],!1,t)}async checkGrammarV3(e,t){return this.sendRequest("POST","/check_grammar_v3",e,null,[],!1,t)}async deleteGrammarDicWord(e,t){return this.sendRequest("POST","/delete_grammar_dic_word",e,null,[],!1,t)}async getCommandList(e){return this.sendRequest("GET","/get_command_list",null,null,[],!1,e)}async getDict(e,t){return this.sendRequest("POST","/get_dict",e,null,[],!1,t)}async getGrammarFreeModifyNum(e,t){return this.sendRequest("POST","/get_grammar_free_modify_num",e,null,[],!1,t)}async getTemplateList(e){return this.sendRequest("GET","/get_template_list",null,null,[],!1,e)}async listGrammarDicWord(e){return this.sendRequest("POST","/list_grammar_dic_word",null,null,[],!1,e)}async removeDict(e,t){return this.sendRequest("POST","/remove_dict",e,null,[],!1,t)}async updateGrammarDicWord(e,t){return this.sendRequest("POST","/update_grammar_dic_word",e,null,[],!1,t)}async updateGrammarFreeModifyNum(e,t){return this.sendRequest("POST","/update_grammar_free_modify_num",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/writing")}}e.Api=t}(q=e.Writing||(e.Writing={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async generateWithoutSubtitle(e,t){return this.sendRequest("POST","/generate_without_subtitle",e,null,[],!1,t)}async loopSegmentationResult(e,t){return this.sendRequest("POST","/loop_segmentation_result",e,null,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/youtube_summarize")}}e.Api=t}(O=e.YoutubeSummarize||(e.YoutubeSummarize={}));class I extends n.CrepeSdk.BaseSession{_initApis(e){this.aiContentDetectApi=new t.Api(e,this),this.appConfigApi=new s.Api(e,this),this.audioApi=new i.Api(e,this),this.audioTranslateApi=new o.Api(e,this),this.chatShareApi=new a.Api(e,this),this.experimentConfigApi=new l.Api(e,this),this.fileObjectApi=new u.Api(e,this),this.generateApi=new d.Api(e,this),this.giftApi=new c.Api(e,this),this.helloWorldApi=new h.Api(e,this),this.i18nTextApi=new p.Api(e,this),this.imageToolsApi=new m.Api(e,this),this.makeItMoreApi=new g.Api(e,this),this.mindMapManagerApi=new y.Api(e,this),this.modalApi=new S.Api(e,this),this.noteApi=new _.Api(e,this),this.pdfAiApi=new f.Api(e,this),this.pdfConvertApi=new v.Api(e,this),this.pdfConvertUnauthApi=new T.Api(e,this),this.popupApi=new b.Api(e,this),this.pushEventApi=new C.Api(e,this),this.seotoolApi=new P.Api(e,this),this.socialApi=new A.Api(e,this),this.teamApi=new w.Api(e,this),this.translateShareApi=new E.Api(e,this),this.usagev2Api=new R.Api(e,this),this.voiceApi=new k.Api(e,this),this.webPageMarkApi=new x.Api(e,this),this.writingApi=new q.Api(e,this),this.youtubeSummarizeApi=new O.Api(e,this)}constructor(...e){super(...e),(0,r._)(this,"aiContentDetectApi",void 0),(0,r._)(this,"appConfigApi",void 0),(0,r._)(this,"audioApi",void 0),(0,r._)(this,"audioTranslateApi",void 0),(0,r._)(this,"chatShareApi",void 0),(0,r._)(this,"experimentConfigApi",void 0),(0,r._)(this,"fileObjectApi",void 0),(0,r._)(this,"generateApi",void 0),(0,r._)(this,"giftApi",void 0),(0,r._)(this,"helloWorldApi",void 0),(0,r._)(this,"i18nTextApi",void 0),(0,r._)(this,"imageToolsApi",void 0),(0,r._)(this,"makeItMoreApi",void 0),(0,r._)(this,"mindMapManagerApi",void 0),(0,r._)(this,"modalApi",void 0),(0,r._)(this,"noteApi",void 0),(0,r._)(this,"pdfAiApi",void 0),(0,r._)(this,"pdfConvertApi",void 0),(0,r._)(this,"pdfConvertUnauthApi",void 0),(0,r._)(this,"popupApi",void 0),(0,r._)(this,"pushEventApi",void 0),(0,r._)(this,"seotoolApi",void 0),(0,r._)(this,"socialApi",void 0),(0,r._)(this,"teamApi",void 0),(0,r._)(this,"translateShareApi",void 0),(0,r._)(this,"usagev2Api",void 0),(0,r._)(this,"voiceApi",void 0),(0,r._)(this,"webPageMarkApi",void 0),(0,r._)(this,"writingApi",void 0),(0,r._)(this,"youtubeSummarizeApi",void 0)}}class L extends n.CrepeSdk.BaseSdk{async session(e,t,s){return this.getSession(e,t,s,I)._run()}constructor(e){super(e),(0,r._)(this,"aiContentDetectApi",void 0),(0,r._)(this,"appConfigApi",void 0),(0,r._)(this,"audioApi",void 0),(0,r._)(this,"audioTranslateApi",void 0),(0,r._)(this,"chatShareApi",void 0),(0,r._)(this,"experimentConfigApi",void 0),(0,r._)(this,"fileObjectApi",void 0),(0,r._)(this,"generateApi",void 0),(0,r._)(this,"giftApi",void 0),(0,r._)(this,"helloWorldApi",void 0),(0,r._)(this,"i18nTextApi",void 0),(0,r._)(this,"imageToolsApi",void 0),(0,r._)(this,"makeItMoreApi",void 0),(0,r._)(this,"mindMapManagerApi",void 0),(0,r._)(this,"modalApi",void 0),(0,r._)(this,"noteApi",void 0),(0,r._)(this,"pdfAiApi",void 0),(0,r._)(this,"pdfConvertApi",void 0),(0,r._)(this,"pdfConvertUnauthApi",void 0),(0,r._)(this,"popupApi",void 0),(0,r._)(this,"pushEventApi",void 0),(0,r._)(this,"seotoolApi",void 0),(0,r._)(this,"socialApi",void 0),(0,r._)(this,"teamApi",void 0),(0,r._)(this,"translateShareApi",void 0),(0,r._)(this,"usagev2Api",void 0),(0,r._)(this,"voiceApi",void 0),(0,r._)(this,"webPageMarkApi",void 0),(0,r._)(this,"writingApi",void 0),(0,r._)(this,"youtubeSummarizeApi",void 0),(0,r._)(this,"allExceptions",{CodeError:g.CodeError}),this.aiContentDetectApi=new t.Api(this),this.appConfigApi=new s.Api(this),this.audioApi=new i.Api(this),this.audioTranslateApi=new o.Api(this),this.chatShareApi=new a.Api(this),this.experimentConfigApi=new l.Api(this),this.fileObjectApi=new u.Api(this),this.generateApi=new d.Api(this),this.giftApi=new c.Api(this),this.helloWorldApi=new h.Api(this),this.i18nTextApi=new p.Api(this),this.imageToolsApi=new m.Api(this),this.makeItMoreApi=new g.Api(this),this.mindMapManagerApi=new y.Api(this),this.modalApi=new S.Api(this),this.noteApi=new _.Api(this),this.pdfAiApi=new f.Api(this),this.pdfConvertApi=new v.Api(this),this.pdfConvertUnauthApi=new T.Api(this),this.popupApi=new b.Api(this),this.pushEventApi=new C.Api(this),this.seotoolApi=new P.Api(this),this.socialApi=new A.Api(this),this.teamApi=new w.Api(this),this.translateShareApi=new E.Api(this),this.usagev2Api=new R.Api(this),this.voiceApi=new k.Api(this),this.webPageMarkApi=new x.Api(this),this.writingApi=new q.Api(this),this.youtubeSummarizeApi=new O.Api(this)}}e.Sdk=L}(i||(i={}));let{ApiRequestError:o,ApiRequestAborted:a}=n.CrepeSdk},65324:function(e,t,s){s.d(t,{Cb:function(){return r.Cb},D3:function(){return r.D3},JO:function(){return n.JO},Lx:function(){return o.L},Xo:function(){return r.Xo},aT:function(){return i.CrepeSdk},cF:function(){return n.cF}});var i=s(82125);s(24776),s(12967),s(71210);var n=s(81435),r=s(96235),o=s(75153)},81435:function(e,t,s){s.d(t,{cF:function(){return o},JO:function(){return i}});var i,n=s(24776),r=s(66084);!function(e){let t,s,i,o,a,l,u,d,c,h,p,m,g,y,S,_,f,v,T,b,C,P,A,w,E,R,k,x;class q extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","crepe.error.BaseError")}}e.BaseError=q;class O extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","crepe.error.UnExpectedBaseError")}}e.UnExpectedBaseError=O;class I extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","crepe.error.CrepeInternalServerError")}}e.CrepeInternalServerError=I;class L extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","crepe.error.CrepeConfigMissingError")}}e.CrepeConfigMissingError=L;class D extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","crepe.error.CrepeAuthError")}}e.CrepeAuthError=D;class M extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","crepe.error.CrepeRequestValidationError")}}e.CrepeRequestValidationError=M;class B extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","exceptions.CommonError")}}e.CommonError=B;class N extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","exceptions.InternalError")}}e.InternalError=N;class F extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","exceptions.AuthError")}}e.AuthError=F;class U extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","exceptions.UserAuthError")}}e.UserAuthError=U;class G extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","exceptions.ResourceNotFoundError")}}e.ResourceNotFoundError=G;class V extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","exceptions.ValidationError")}}e.ValidationError=V;class W extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","exceptions.UnexpectedError")}}e.UnexpectedError=W;class H extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","exceptions.NotImplementError")}}e.NotImplementError=H;class K extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","exceptions.DomainError")}}e.DomainError=K;class j extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","exceptions.ClientNeedsUpdateError")}}e.ClientNeedsUpdateError=j;class Q extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","exceptions.BlockRegionError")}}e.BlockRegionError=Q;class z extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","exceptions.ResourcePermissionError")}}e.ResourcePermissionError=z;class Y extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","exceptions.NoPermissionError")}}e.NoPermissionError=Y,function(e){class t extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","admin.exceptions.NoCustomPromptError")}}e.NoCustomPromptError=t;class s extends n.CrepeSdk.BaseDomainApi{async updatePublicPromptFavoriteCount(e,t){return this.sendRequest("POST","/update_public_prompt_favorite_count",e,[],!1,t)}async updatePromptPublicStatus(e,t){return this.sendRequest("POST","/update_prompt_public_status",e,[],!1,t)}async toggleCaptchaVerify(e,t){return this.sendRequest("POST","/toggle_captcha_verify",e,[],!1,t)}async addGiveawayVip(e,t){return this.sendRequest("POST","/add_giveaway_vip",e,[],!1,t)}async landingPageConfigList(e,t){return this.sendRequest("GET","/landing_page_config_list",e,[],!1,t)}async landingPageConfigDetail(e,t){return this.sendRequest("GET","/landing_page_config_detail",e,[],!1,t)}async upsetLandingPageConfig(e,t){return this.sendRequest("POST","/upset_landing_page_config",e,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/admin")}}e.Api=s}(t=e.Admin||(e.Admin={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async taskList(e,t){return this.sendRequest("GET","/task_list",e,[],!1,t)}async taskMessageList(e,t){return this.sendRequest("GET","/task_message_list",e,[],!1,t)}async socketLogin(e,t){return this.sendRequest("POST","/{agent_id}/login",null,[["agentId",e]],!1,t)}async setShareConfig(e,t){return this.sendRequest("POST","/set_share_config",e,[],!1,t)}async sharedMessageList(e,t){return this.sendRequest("GET","/shared_message_list",e,[],!1,t)}async searchAgentDiscoverFeeds(e,t){return this.sendRequest("GET","/search_agent_discover_feeds",e,[],!1,t)}async readDiscover(e,t){return this.sendRequest("POST","/read_discover",e,[],!1,t)}async deleteTask(e,t){return this.sendRequest("POST","/delete_task",e,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/agent")}}e.Api=t}(s=e.Agent||(e.Agent={})),function(e){class t extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","apps.exceptions.SkillNotExistError")}}e.SkillNotExistError=t;class s extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","apps.exceptions.SkillNotOwnedError")}}e.SkillNotOwnedError=s;class i extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","apps.exceptions.LocaleNotMatchError")}}e.LocaleNotMatchError=i;class o extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","apps.exceptions.SkillConfigNotMatchError")}}e.SkillConfigNotMatchError=o;class a extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","apps.exceptions.AppNotMatchError")}}e.AppNotMatchError=a;class l extends n.CrepeSdk.BaseDomainApi{async createChatBot(e,t){return this.sendRequest("POST","/create_chat_bot",e,[],!1,t)}async previewChatBot(e,t){return this.sendRequest("POST","/preview_chat_bot",e,[],!1,t)}async updateChatBot(e,t){return this.sendRequest("POST","/update_chat_bot",e,[],!1,t)}async listChatBot(e,t){return this.sendRequest("GET","/list_chat_bot",e,[],!1,t)}async recommendBot(e,t){return this.sendRequest("POST","/recommend_bot",e,[],!1,t)}async listSysChatBot(e,t){return this.sendRequest("GET","/list_sys_chat_bot",e,[],!1,t)}async chatBotDetail(e,t){return this.sendRequest("GET","/chat_bot_detail",e,[],!1,t)}async listMyChatBot(e,t){return this.sendRequest("GET","/list_my_chat_bot",e,[],!1,t)}async listChatBotForSidebar(e){return this.sendRequest("GET","/list_chat_bot_for_sidebar",null,[],!1,e)}async addToMyChatBot(e,t){return this.sendRequest("POST","/add_to_my_chat_bot",e,[],!1,t)}async deleteMyChatBot(e,t){return this.sendRequest("POST","/delete_my_chat_bot",e,[],!1,t)}async listSkill(e,t){return this.sendRequest("GET","/list_skill",e,[],!1,t)}async listArtistBot(e,t){return this.sendRequest("GET","/list_artist_bot",e,[],!1,t)}async createSkill(e,t){return this.sendRequest("POST","/create_skill",e,[],!1,t)}async skillDetail(e,t){return this.sendRequest("GET","/skill_detail",e,[],!1,t)}async skillEditDetail(e,t){return this.sendRequest("GET","/skill_edit_detail",e,[],!1,t)}async updateSkill(e,t){return this.sendRequest("POST","/update_skill",e,[],!1,t)}async delete(e,t){return this.sendRequest("POST","/delete",e,[],!1,t)}async userAction(e,t){return this.sendRequest("POST","/user_action",e,[],!1,t)}async report(e,t){return this.sendRequest("POST","/report",e,[],!1,t)}async generateOpenaiParam(e,t){return this.sendRequest("POST","/generate_openai_param",e,[],!1,t)}async generate(e,t){return this.sendRequest("POST","/generate",e,[],!1,t)}async getUnreadBotCount(e){return this.sendRequest("POST","/get_unread_bot_count",null,[],!1,e)}async updateBotLastReadTime(e,t){return this.sendRequest("POST","/update_bot_last_read_time",e,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/apps")}}e.Api=l}(i=e.Apps||(e.Apps={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async createGenerateImageTask(e,t){return this.sendRequest("POST","/create_generate_image_task",e,[],!1,t)}async createUpscaleImageTask(e,t){return this.sendRequest("POST","/create_upscale_image_task",e,[],!1,t)}async loopTaskStatus(e,t){return this.sendRequest("GET","/loop_task_status",e,[],!1,t)}async retryTask(e,t){return this.sendRequest("POST","/retry_task",e,[],!1,t)}async getItems(e){return this.sendRequest("GET","/get_items",null,[],!1,e)}async listItems(e,t){return this.sendRequest("GET","/list_items",e,[],!1,t)}async deleteItem(e,t){return this.sendRequest("POST","/delete_item",e,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/artist_bot")}}e.Api=t}(o=e.ArtistBot||(e.ArtistBot={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async getVipStatus(e){return this.sendRequest("GET","/get_vip_status",null,[],!1,e)}async getSubscriptionPlans(e){return this.sendRequest("GET","/get_subscription_plans",null,[],!1,e)}async createSubscriptionCheckout(e,t){return this.sendRequest("POST","/create_subscription_checkout",e,[],!1,t)}async cancelSubscription(e){return this.sendRequest("POST","/cancel_subscription",null,[],!1,e)}async resubscribeSubscription(e){return this.sendRequest("POST","/resubscribe_subscription",null,[],!1,e)}async stripeCreateSubscriptionCheckout(e,t){return this.sendRequest("POST","/stripe_create_subscription_checkout",e,[],!1,t)}async stripeCancelSubscription(e){return this.sendRequest("POST","/stripe_cancel_subscription",null,[],!1,e)}async stripeResubscribeSubscription(e){return this.sendRequest("POST","/stripe_resubscribe_subscription",null,[],!1,e)}async stripeCheckoutStatus(e,t){return this.sendRequest("GET","/stripe_checkout_status",e,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/c4g_vip")}}e.Api=t}(a=e.C4gVip||(e.C4gVip={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async ocr(e,t){return this.sendRequest("POST","/ocr",e,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/cognitive")}}e.Api=t}(l=e.Cognitive||(e.Cognitive={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async landingPageConfig(e,t){return this.sendRequest("GET","/landing_page_config",e,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/common_api")}}e.Api=t}(u=e.CommonApi||(e.CommonApi={})),function(e){class t extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","dataset.exceptions.UnsupportedFileExtensionError")}}e.UnsupportedFileExtensionError=t;class s extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","dataset.exceptions.FileTokenLimitExceededError")}}e.FileTokenLimitExceededError=s;class i extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","dataset.exceptions.EmbeddingServiceError")}}e.EmbeddingServiceError=i;class o extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","dataset.exceptions.DocumentNotFoundError")}}e.DocumentNotFoundError=o;class a extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","dataset.exceptions.DatasetNotFoundError")}}e.DatasetNotFoundError=a;class l extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","dataset.exceptions.FileNotFoundError")}}e.FileNotFoundError=l;class u extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","dataset.exceptions.ParseFileFailedError")}}e.ParseFileFailedError=u;class d extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","dataset.exceptions.PdfHasNoTextError")}}e.PdfHasNoTextError=d;class c extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","dataset.exceptions.UnsupportedFileMimeTypeError")}}e.UnsupportedFileMimeTypeError=c;class h extends n.CrepeSdk.BaseDomainApi{async parseFile(e,t){return this.sendRequest("POST","/parse_file",e,[],!1,t)}async loopStatus(e,t){return this.sendRequest("GET","/loop_status",e,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/dataset")}}e.Api=h}(d=e.Dataset||(e.Dataset={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async detail(e,t){return this.sendRequest("GET","/detail",e,[],!1,t)}async setShareConfig(e,t){return this.sendRequest("POST","/set_share_config",e,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/doc")}}e.Api=t}(c=e.Doc||(e.Doc={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async imageToVideo(e,t){return this.sendRequest("POST","/image_to_video",e,[],!1,t)}async loopImageToVideo(e,t){return this.sendRequest("POST","/loop_image_to_video",e,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/ffmpeg_tools")}}e.Api=t}(h=e.FfmpegTools||(e.FfmpegTools={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async preSignByModule(e,t){return this.sendRequest("POST","/pre_sign_by_module",e,[],!1,t)}async preSignListByModule(e,t){return this.sendRequest("POST","/pre_sign_list_by_module",e,[],!1,t)}async signReadListForMemo(e,t){return this.sendRequest("POST","/sign_read_list_for_memo",e,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/file_object")}}e.Api=t}(p=e.FileObject||(e.FileObject={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async createScreenshotTask(e,t){return this.sendRequest("POST","/create_screenshot_task",e,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/generate")}}e.Api=t}(m=e.Generate||(e.Generate={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async getToken(e,t){return this.sendRequest("GET","/get_token",e,[],!1,t)}async pushTokenRegister(e,t){return this.sendRequest("POST","/push_token_register",e,[],!1,t)}async pushTokenRemove(e,t){return this.sendRequest("POST","/push_token_remove",e,[],!1,t)}async conversationList(e,t){return this.sendRequest("GET","/conversation_list",e,[],!1,t)}async conversationQueryMsg(e,t){return this.sendRequest("GET","/conversation_query_msg",e,[],!1,t)}async getUserInfo(e,t){return this.sendRequest("POST","/get_user_info",e,[],!1,t)}async addCorpus(e,t){return this.sendRequest("POST","/add_corpus",e,[],!1,t)}async getCorpus(e,t){return this.sendRequest("GET","/get_corpus",e,[],!1,t)}async changeMode(e,t){return this.sendRequest("POST","/change_mode",e,[],!1,t)}async getConversationMode(e,t){return this.sendRequest("POST","/get_conversation_mode",e,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/im")}}e.Api=t}(g=e.Im||(e.Im={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async remove(e,t){return this.sendRequest("POST","/remove",e,[],!1,t)}async replaceBg(e,t){return this.sendRequest("POST","/replace_bg",e,[],!1,t)}async inpainting(e,t){return this.sendRequest("POST","/inpainting",e,[],!1,t)}async upscale(e,t){return this.sendRequest("POST","/upscale",e,[],!1,t)}async createImage(e,t){return this.sendRequest("POST","/create_image",e,[],!1,t)}async createVideo(e,t){return this.sendRequest("POST","/create_video",e,[],!1,t)}async textToImage(e,t){return this.sendRequest("POST","/text_to_image",e,[],!1,t)}async imageToVideo(e,t){return this.sendRequest("POST","/image_to_video",e,[],!1,t)}async workflow(e,t){return this.sendRequest("POST","/workflow",e,[],!1,t)}async getList(e,t){return this.sendRequest("POST","/get_list",e,[],!1,t)}async loopResult(e,t){return this.sendRequest("POST","/loop_result",e,[],!1,t)}async realtimeImage(e,t){return this.sendRequest("POST","/realtime_image",e,[],!1,t)}async getImageGallery(e){return this.sendRequest("POST","/get_image_gallery",null,[],!1,e)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/image_tools")}}e.Api=t}(y=e.ImageTools||(e.ImageTools={})),function(e){class t extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","memo.exceptions.MemoNotFound")}}e.MemoNotFound=t;class s extends n.CrepeSdk.BaseDomainApi{async list(e,t){return this.sendRequest("GET","/list",e,[],!1,t)}async delete(e,t){return this.sendRequest("POST","/delete",e,[],!1,t)}async create(e,t){return this.sendRequest("POST","/create",e,[],!1,t)}async update(e,t){return this.sendRequest("POST","/update",e,[],!1,t)}async updateByMd5(e,t){return this.sendRequest("POST","/update_by_md5",e,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/memo")}}e.Api=s}(S=e.Memo||(e.Memo={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async create(e,t){return this.sendRequest("POST","/create",e,[],!1,t)}async createWithoutConvert(e,t){return this.sendRequest("POST","/create_without_convert",e,[],!1,t)}async createFromEmbed(e,t){return this.sendRequest("POST","/create_from_embed",e,[],!1,t)}async update(e,t){return this.sendRequest("POST","/update",e,[],!1,t)}async delete(e,t){return this.sendRequest("POST","/delete",e,[],!1,t)}async list(e,t){return this.sendRequest("POST","/list",e,[],!1,t)}async search(e,t){return this.sendRequest("POST","/search",e,[],!1,t)}async summaryImage(e,t){return this.sendRequest("POST","/summary_image",e,[],!1,t)}async summaryImageStatus(e,t){return this.sendRequest("GET","/summary_image_status",e,[],!1,t)}async info(e,t){return this.sendRequest("POST","/info",e,[],!1,t)}async setShareConfig(e,t){return this.sendRequest("POST","/set_share_config",e,[],!1,t)}async getDetailReadonly(e,t){return this.sendRequest("POST","/get_detail_readonly",e,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/note")}}e.Api=t}(_=e.Note||(e.Note={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async list(e,t){return this.sendRequest("GET","/list",e,[],!1,t)}async readAll(e,t){return this.sendRequest("POST","/read_all",e,[],!1,t)}async read(e,t){return this.sendRequest("POST","/read",e,[],!1,t)}async action(e,t){return this.sendRequest("POST","/action",e,[],!1,t)}async userNotificationList(e,t){return this.sendRequest("GET","/user_notification_list",e,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/notification")}}e.Api=t}(f=e.Notification||(e.Notification={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async translate(e,t){return this.sendRequest("POST","/translate",e,[],!1,t)}async detectLanguage(e,t){return this.sendRequest("POST","/detect_language",e,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/parallel_translation")}}e.Api=t}(v=e.ParallelTranslation||(e.ParallelTranslation={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async taskList(e,t){return this.sendRequest("GET","/task_list",e,[],!1,t)}async deleteTask(e,t){return this.sendRequest("POST","/delete_task",e,[],!1,t)}async updateTaskTitle(e,t){return this.sendRequest("POST","/update_task_title",e,[],!1,t)}async uploadFavicon(e,t){return this.sendRequest("POST","/upload_favicon",e,[],!1,t)}async getFaviconList(e,t){return this.sendRequest("POST","/get_favicon_list",e,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/search_agent")}}e.Api=t}(T=e.SearchAgent||(e.SearchAgent={})),function(e){class t extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","task.exceptions.ChatError")}}e.ChatError=t;class s extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","task.exceptions.QuotaExceededError")}}e.QuotaExceededError=s;class i extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","task.exceptions.UidDuplicateError")}}e.UidDuplicateError=i;class o extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","task.exceptions.CustomPromptError")}}e.CustomPromptError=o;class a extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","task.exceptions.ConversationNotExistError")}}e.ConversationNotExistError=a;class l extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","task.exceptions.SharedConversationNotExistError")}}e.SharedConversationNotExistError=l;class u extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","task.exceptions.ReadEnhanceIndexNotPreparedError")}}e.ReadEnhanceIndexNotPreparedError=u;class d extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","task.exceptions.ConversationAlreadyExistReadEnhanceIndexError")}}e.ConversationAlreadyExistReadEnhanceIndexError=d;class c extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","task.exceptions.ReadingQuotaExceededError")}}e.ReadingQuotaExceededError=c;class h extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","task.exceptions.ReadingColdDownError")}}e.ReadingColdDownError=h;class p extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","task.exceptions.ReadingTokenLimitExceededError")}}e.ReadingTokenLimitExceededError=p;class m extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","task.exceptions.LocaleNotSupportError")}}e.LocaleNotSupportError=m;class g extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","task.exceptions.SystemBusyError")}}e.SystemBusyError=g;class y extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","task.exceptions.WebSearchQuotaExceededError")}}e.WebSearchQuotaExceededError=y;class S extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","task.exceptions.ReadingGenerationError")}}e.ReadingGenerationError=S;class _ extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","task.exceptions.ChatBotNotFoundError")}}e.ChatBotNotFoundError=_;class f extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","task.exceptions.ReadingUrlTimeOutError")}}e.ReadingUrlTimeOutError=f;class v extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","task.exceptions.CrawlerServiceHighLoadError")}}e.CrawlerServiceHighLoadError=v;class T extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","task.exceptions.FetchUrlContentError")}}e.FetchUrlContentError=T;class b extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","task.exceptions.ReadingTextTooShortError")}}e.ReadingTextTooShortError=b;class C extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","task.exceptions.PdfParseError")}}e.PdfParseError=C;class P extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","task.exceptions.ChatSessionException")}}e.ChatSessionException=P;class A extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","task.exceptions.ClearConversationError")}}e.ClearConversationError=A;class w extends n.CrepeSdk.BaseDomainApi{async generateOpenaiParam(e,t){return this.sendRequest("POST","/generate_openai_param",e,[],!1,t)}async internalUpdateOpenaiResult(e,t){return this.sendRequest("POST","/internal_update_openai_result",e,[],!1,t)}async onOpenaiResult(e,t){return this.sendRequest("POST","/on_openai_result",e,[],!1,t)}async feedbackGenResult(e,t){return this.sendRequest("POST","/feedback_gen_result",e,[],!1,t)}async feedbackGenResultV2(e,t){return this.sendRequest("POST","/feedback_gen_result_v2",e,[],!1,t)}async commentFeedbackV2(e,t){return this.sendRequest("POST","/comment_feedback_v2",e,[],!1,t)}async getTemplateList(e){return this.sendRequest("GET","/get_template_list",null,[],!1,e)}async getToneList(e){return this.sendRequest("GET","/get_tone_list",null,[],!1,e)}async shareConversation(e,t){return this.sendRequest("POST","/share_conversation",e,[],!1,t)}async getSharedConversation(e,t){return this.sendRequest("GET","/get_shared_conversation",null,[["shortId",e]],!1,t)}async collectConversation(e,t){return this.sendRequest("POST","/collect_conversation",e,[],!1,t)}async clearConversationList(e,t){return this.sendRequest("POST","/clear_conversation_list",e,[],!1,t)}async deleteConversationList(e,t){return this.sendRequest("POST","/delete_conversation_list",e,[],!1,t)}async getConversationList(e,t){return this.sendRequest("GET","/get_conversation_list",e,[],!1,t)}async getConversationInfo(e,t){return this.sendRequest("GET","/get_conversation_info",e,[],!1,t)}async getChatItemList(e,t){return this.sendRequest("GET","/get_chat_item_list",e,[],!1,t)}async syncChatItems(e,t){return this.sendRequest("POST","/sync_chat_items",e,[],!1,t)}async searchConversation(e,t){return this.sendRequest("GET","/search_conversation",e,[],!1,t)}async delConversation(e,t){return this.sendRequest("POST","/del_conversation",e,[],!1,t)}async updateConversation(e,t){return this.sendRequest("POST","/update_conversation",e,[],!1,t)}async chatpdfCreate(e,t){return this.sendRequest("POST","/chatpdf_create",e,[],!1,t)}async preCalPdfToken(e,t){return this.sendRequest("POST","/pre_cal_pdf_token",e,[],!1,t)}async generateReadEnhanceIndex(e,t){return this.sendRequest("POST","/generate_read_enhance_index",e,[],!1,t)}async cancelGenerateReadEnhanceIndex(e,t){return this.sendRequest("POST","/cancel_generate_read_enhance_index",e,[],!1,t)}async readEnhanceIndexStatus(e,t){return this.sendRequest("GET","/read_enhance_index_status",e,[],!1,t)}async testGenerateIndex(e){return this.sendRequest("GET","/test_generate_index",null,[],!1,e)}async getReadingReplyCache(e,t){return this.sendRequest("POST","/get_reading_reply_cache",e,[],!1,t)}async conversationReadingInfo(e,t){return this.sendRequest("GET","/conversation_reading_info",e,[],!1,t)}async generateEmbeddingConversation(e,t){return this.sendRequest("POST","/generate_embedding_conversation",e,[],!1,t)}async chatpdfList(e,t){return this.sendRequest("GET","/chatpdf_list",e,[],!1,t)}async chatpdfDetail(e,t){return this.sendRequest("GET","/chatpdf_detail",e,[],!1,t)}async chatpdfDelete(e,t){return this.sendRequest("POST","/chatpdf_delete",e,[],!1,t)}async chatpdfUpdateName(e,t){return this.sendRequest("POST","/chatpdf_update_name",e,[],!1,t)}async getChatpdfConversationList(e,t){return this.sendRequest("GET","/get_chatpdf_conversation_list",e,[],!1,t)}async getAllChatpdfConversationList(e,t){return this.sendRequest("GET","/get_all_chatpdf_conversation_list",e,[],!1,t)}async feedbackTranslateResult(e,t){return this.sendRequest("POST","/feedback_translate_result",e,[],!1,t)}async internalGetConversationInfo(e,t){return this.sendRequest("POST","/internal_get_conversation_info",e,[],!1,t)}async internalGetBotModelOption(e,t){return this.sendRequest("POST","/internal_get_bot_model_option",e,[],!1,t)}async internalUpdateBotRelation(e,t){return this.sendRequest("POST","/internal_update_bot_relation",e,[],!1,t)}async generateSeoTool(e,t){return this.sendRequest("POST","/generate_seo_tool",e,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/task")}}e.Api=w}(b=e.Task||(e.Task={})),function(e){class t extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","tool_translation.exceptions.ParamError")}}e.ParamError=t;class s extends n.CrepeSdk.BaseDomainApi{async toolsDoubleTranslate(e,t){return this.sendRequest("POST","/tools_double_translate",e,[],!1,t)}async toolsSingleTranslate(e,t){return this.sendRequest("POST","/tools_single_translate",e,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/tool_translation")}}e.Api=s}(C=e.ToolTranslation||(e.ToolTranslation={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async getLeftQuota(e,t){return this.sendRequest("GET","/get_left_quota",e,[],!1,t)}async moduleUsage(e,t){return this.sendRequest("GET","/module_usage",e,[],!1,t)}async getMultiModuleUsage(e,t){return this.sendRequest("POST","/get_multi_module_usage",e,[],!1,t)}async getMobileUsageInfo(e){return this.sendRequest("GET","/get_mobile_usage_info",null,[],!1,e)}async subscriptionInfo(e){return this.sendRequest("GET","/subscription_info",null,[],!1,e)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/usage")}}e.Api=t}(P=e.Usage||(e.Usage={})),function(e){class t extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","user.exceptions.UserNotExistsError")}}e.UserNotExistsError=t;class s extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","user.exceptions.OauthCallbackError")}}e.OauthCallbackError=s;class i extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","user.exceptions.UserAlreadyExistsError")}}e.UserAlreadyExistsError=i;class o extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","user.exceptions.PasswordError")}}e.PasswordError=o;class a extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","user.exceptions.UserRegisterAfterLogoffError")}}e.UserRegisterAfterLogoffError=a;class l extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","user.exceptions.CustomPromptNotEditableError")}}e.CustomPromptNotEditableError=l;class u extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","user.exceptions.CustomPromptNotExistError")}}e.CustomPromptNotExistError=u;class d extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","user.exceptions.InviteCountNotEnoughError")}}e.InviteCountNotEnoughError=d;class c extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","user.exceptions.RewardReceivedError")}}e.RewardReceivedError=c;class h extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","user.exceptions.ParamError")}}e.ParamError=h;class p extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","user.exceptions.CustomPromptNotPublicError")}}e.CustomPromptNotPublicError=p;class m extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","user.exceptions.SendEmailVerifyCodeTooOftenError")}}e.SendEmailVerifyCodeTooOftenError=m;class g extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","user.exceptions.EmailVerifyCodeError")}}e.EmailVerifyCodeError=g;class y extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","user.exceptions.PasswordNotMatchError")}}e.PasswordNotMatchError=y;class S extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","user.exceptions.CaptchaVerifyError")}}e.CaptchaVerifyError=S;class _ extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","user.exceptions.InterfaceDeprecatedError")}}e.InterfaceDeprecatedError=_;class f extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","user.exceptions.InvalidClientTypeError")}}e.InvalidClientTypeError=f;class v extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","user.exceptions.AlreadyInvitedError")}}e.AlreadyInvitedError=v;class T extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","user.exceptions.InviteCodeError")}}e.InviteCodeError=T;class b extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","user.exceptions.SendEmailFailedError")}}e.SendEmailFailedError=b;class C extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","user.exceptions.EmailServerError")}}e.EmailServerError=C;class P extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","user.exceptions.SendEmailWithUnknownError")}}e.SendEmailWithUnknownError=P;class A extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","user.exceptions.AzureSpeechError")}}e.AzureSpeechError=A;class w extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","user.exceptions.ClientIpIsCNError")}}e.ClientIpIsCNError=w;class E extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","user.exceptions.ClientIpIsCnRedirectError")}}e.ClientIpIsCnRedirectError=E;class R extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","user.exceptions.NeedRedirectUrlError")}}e.NeedRedirectUrlError=R;class k extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","user.exceptions.FeedbackSubmitTooFrequentlyError")}}e.FeedbackSubmitTooFrequentlyError=k;class x extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","user.exceptions.AuthCodeInvalidError")}}e.AuthCodeInvalidError=x;class q extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","user.exceptions.MultiDeviceLoginError")}}e.MultiDeviceLoginError=q;class O extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","user.exceptions.ClientTypeEmptyError")}}e.ClientTypeEmptyError=O;class I extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","user.exceptions.ChangeEmailError")}}e.ChangeEmailError=I;class L extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","user.exceptions.UserProfileNotExistsError")}}e.UserProfileNotExistsError=L;class D extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","user.exceptions.PasswordNotSetError")}}e.PasswordNotSetError=D;class M extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","user.exceptions.EmailNotMatchError")}}e.EmailNotMatchError=M;class B extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","user.exceptions.EmailExistError")}}e.EmailExistError=B;class N extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","user.exceptions.EmailNotSetError")}}e.EmailNotSetError=N;class F extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","user.exceptions.EmailDateFormatError")}}e.EmailDateFormatError=F;class U extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","user.exceptions.RepeatActionError")}}e.RepeatActionError=U;class G extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","user.exceptions.UserRegisterEmailPrefixBlacklistError")}}e.UserRegisterEmailPrefixBlacklistError=G;class V extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","user.exceptions.UserBlockedError")}}e.UserBlockedError=V;class W extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","user.exceptions.FeedbackDescEmptyError")}}e.FeedbackDescEmptyError=W;class H extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","user.exceptions.NotEduEmailError")}}e.NotEduEmailError=H;class K extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","user.exceptions.EmailHasUsedError")}}e.EmailHasUsedError=K;class j extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","user.exceptions.EduEmailNeedRebindError")}}e.EduEmailNeedRebindError=j;class Q extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","user.exceptions.EmailAlreadyBoundError")}}e.EmailAlreadyBoundError=Q;class z extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","user.exceptions.BlockUserError")}}e.BlockUserError=z;class Y extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","user.exceptions.TokenNotAvailableError")}}e.TokenNotAvailableError=Y;class J extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","user.exceptions.TokenNotFoundError")}}e.TokenNotFoundError=J;class Z extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","user.exceptions.SendPhoneCodeFailedError")}}e.SendPhoneCodeFailedError=Z;class X extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","user.exceptions.SendPhoneCodeTooOftenError")}}e.SendPhoneCodeTooOftenError=X;class $ extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","user.exceptions.PhoneVerifyCodeError")}}e.PhoneVerifyCodeError=$;class ee extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","user.exceptions.InviteCountExceedError")}}e.InviteCountExceedError=ee;class et extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","user.exceptions.InvalidContentError")}}e.InvalidContentError=et;class es extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","user.exceptions.WxQrExpiredError")}}e.WxQrExpiredError=es;class ei extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","user.exceptions.WxQrUsedError")}}e.WxQrUsedError=ei;class en extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","user.exceptions.UserAlreadyBindWxError")}}e.UserAlreadyBindWxError=en;class er extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","user.exceptions.WxAlreadyBindUserError")}}e.WxAlreadyBindUserError=er;class eo extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","user.exceptions.UserAlreadyBindPhoneError")}}e.UserAlreadyBindPhoneError=eo;class ea extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","user.exceptions.PhoneAlreadyBindUserError")}}e.PhoneAlreadyBindUserError=ea;class el extends n.CrepeSdk.BaseDomainApi{async superAccount(e,t){return this.sendRequest("GET","/super_account",null,[["superId",e]],!1,t)}async logout(e,t){return this.sendRequest("GET","/logout",null,[["fromSearch",e]],!1,t)}async loginToken(e,t){return this.sendRequest("GET","/login_token",null,[["token",e]],!1,t)}async authSession(e){return this.sendRequest("GET","/auth_session",null,[],!1,e)}async me(e){return this.sendRequest("GET","/me",null,[],!1,e)}async updateLanguagePreferences(e,t){return this.sendRequest("POST","/update_language_preferences",e,[],!1,t)}async updateTel(e,t){return this.sendRequest("POST","/update_tel",e,[],!1,t)}async oauth2Revoke(e){return this.sendRequest("GET","/oauth2_revoke",null,[],!1,e)}async clearCredentials(e){return this.sendRequest("GET","/clear_credentials",null,[],!1,e)}async updateUserInfo(e,t){return this.sendRequest("POST","/update_user_info",e,[],!1,t)}async uninstallReasons(e){return this.sendRequest("GET","/uninstall_reasons",null,[],!1,e)}async uninstallFeedback(e,t){return this.sendRequest("POST","/uninstall_feedback",e,[],!1,t)}async logoff(e){return this.sendRequest("POST","/logoff",null,[],!1,e)}async internalLogoff(e,t){return this.sendRequest("POST","/internal_logoff",e,[],!1,t)}async customPromptList(e,t){return this.sendRequest("GET","/custom_prompt_list",e,[],!1,t)}async createCustomPrompt(e,t){return this.sendRequest("POST","/create_custom_prompt",e,[],!1,t)}async updateCustomPrompt(e,t){return this.sendRequest("POST","/update_custom_prompt",e,[],!1,t)}async resetCustomPrompt(e,t){return this.sendRequest("POST","/reset_custom_prompt",e,[],!1,t)}async deleteCustomPrompt(e,t){return this.sendRequest("POST","/delete_custom_prompt",e,[],!1,t)}async updateCustomPromptPosition(e,t){return this.sendRequest("POST","/update_custom_prompt_position",e,[],!1,t)}async inviteList(e,t){return this.sendRequest("GET","/invite_list",e,[],!1,t)}async inviteRewardList(e){return this.sendRequest("GET","/invite_reward_list",null,[],!1,e)}async receiveInviteReward(e,t){return this.sendRequest("POST","/receive_invite_reward",e,[],!1,t)}async getCustomPromptI18n(e,t){return this.sendRequest("GET","/get_custom_prompt_i18n",e,[],!1,t)}async submitFeedback(e,t){return this.sendRequest("POST","/submit_feedback",e,[],!1,t)}async randomTweetingText(e){return this.sendRequest("GET","/random_tweeting_text",null,[],!1,e)}async geniusInviteList(e,t){return this.sendRequest("GET","/genius_invite_list",e,[],!1,t)}async inviteVersion(e){return this.sendRequest("GET","/invite_version",null,[],!1,e)}async iosAppleOauth2Cb(e,t){return this.sendRequest("GET","/ios_apple_oauth2_cb",e,[],!1,t)}async iosGoogleOauth2Cb(e,t){return this.sendRequest("GET","/ios_google_oauth2_cb",e,[],!1,t)}async androidGoogleOauth2Cb(e,t){return this.sendRequest("POST","/android_google_oauth2_cb",e,[],!1,t)}async staticConfig(e){return this.sendRequest("GET","/static_config",null,[],!1,e)}async c4gStaticConfig(e){return this.sendRequest("GET","/c4g_static_config",null,[],!1,e)}async getPublicCustomPromptList(e,t){return this.sendRequest("GET","/get_public_custom_prompt_list",e,[],!1,t)}async getFavoriteCustomPromptList(e,t){return this.sendRequest("GET","/get_favorite_custom_prompt_list",e,[],!1,t)}async getMyCustomPromptList(e,t){return this.sendRequest("GET","/get_my_custom_prompt_list",e,[],!1,t)}async recommendPublicCustomPrompt(e,t){return this.sendRequest("POST","/recommend_public_custom_prompt",e,[],!1,t)}async getPublicCustomPromptCategories(e){return this.sendRequest("GET","/get_public_custom_prompt_categories",null,[],!1,e)}async favoriteCustomPrompt(e,t){return this.sendRequest("POST","/favorite_custom_prompt",e,[],!1,t)}async useCustomPrompt(e,t){return this.sendRequest("POST","/use_custom_prompt",e,[],!1,t)}async report(e,t){return this.sendRequest("POST","/report",e,[],!1,t)}async inviterInfo(e,t){return this.sendRequest("GET","/inviter_info",e,[],!1,t)}async listEmailRegistered(e,t){return this.sendRequest("POST","/list_email_registered",e,[],!1,t)}async sendEmailVerifyCodeWithCaptcha(e,t){return this.sendRequest("POST","/send_email_verify_code_with_captcha",e,[],!1,t)}async sendEmailVerifyCode(e,t){return this.sendRequest("POST","/send_email_verify_code",e,[],!1,t)}async sendEmailVerifyCodeWithAuth(e,t){return this.sendRequest("POST","/send_email_verify_code_with_auth",e,[],!1,t)}async internalVerifyEmailCode(e,t){return this.sendRequest("POST","/internal_verify_email_code",e,[],!1,t)}async registerByEmail(e,t){return this.sendRequest("POST","/register_by_email",e,[],!1,t)}async internalRegisterTeamUser(e,t){return this.sendRequest("POST","/internal_register_team_user",e,[],!1,t)}async loginByEmail(e,t){return this.sendRequest("POST","/login_by_email",e,[],!1,t)}async loginByEmailV2(e,t){return this.sendRequest("POST","/login_by_email_v2",e,[],!1,t)}async updatePassword(e,t){return this.sendRequest("POST","/update_password",e,[],!1,t)}async bindEduEmail(e,t){return this.sendRequest("POST","/bind_edu_email",e,[],!1,t)}async resetPassword(e,t){return this.sendRequest("POST","/reset_password",e,[],!1,t)}async resetPasswordWithCaptcha(e,t){return this.sendRequest("POST","/reset_password_with_captcha",e,[],!1,t)}async speechToken(e){return this.sendRequest("GET","/speech_token",null,[],!1,e)}async manualInvite(e,t){return this.sendRequest("POST","/manual_invite",e,[],!1,t)}async getApiSyncStatus(e,t){return this.sendRequest("POST","/get_api_sync_status",e,[],!1,t)}async geoInfo(e,t){return this.sendRequest("GET","/geo_info",e,[],!1,t)}async setAdjustId(e,t){return this.sendRequest("POST","/set_adjust_id",e,[],!1,t)}async getCustomForm(e,t){return this.sendRequest("POST","/get_custom_form",e,[],!1,t)}async submitCustomForm(e,t){return this.sendRequest("POST","/submit_custom_form",e,[],!1,t)}async updateCustomForm(e,t){return this.sendRequest("POST","/update_custom_form",e,[],!1,t)}async appleSpecialAuth(e,t){return this.sendRequest("POST","/apple_special_auth",e,[],!1,t)}async c4gInstallTime(e,t){return this.sendRequest("POST","/c4g_install_time",e,[],!1,t)}async logoffWithReason(e,t){return this.sendRequest("POST","/logoff_with_reason",e,[],!1,t)}async updateUserClientInfo(e,t){return this.sendRequest("POST","/update_user_client_info",e,[],!1,t)}async get3daysProEventRecord(e){return this.sendRequest("GET","/get_3days_pro_event_record",null,[],!1,e)}async inviteEventAd(e,t){return this.sendRequest("GET","/invite_event_ad",e,[],!1,t)}async inviteEventReward(e,t){return this.sendRequest("GET","/invite_event_reward",e,[],!1,t)}async appInstall(e){return this.sendRequest("POST","/app_install",null,[],!1,e)}async getToolList(e){return this.sendRequest("GET","/get_tool_list",null,[],!1,e)}async is7daysProEvent(e){return this.sendRequest("GET","/is_7days_pro_event",null,[],!1,e)}async inviteRewardListV2(e,t){return this.sendRequest("POST","/invite_reward_list_v2",e,[],!1,t)}async extensionInstall(e){return this.sendRequest("POST","/extension_install",null,[],!1,e)}async getUserProfile(e){return this.sendRequest("GET","/get_user_profile",null,[],!1,e)}async updateUserInfoV2(e,t){return this.sendRequest("POST","/update_user_info_v2",e,[],!1,t)}async bindUserEmail(e,t){return this.sendRequest("POST","/bind_user_email",e,[],!1,t)}async updateUserEmail(e,t){return this.sendRequest("POST","/update_user_email",e,[],!1,t)}async updateUserNotifyEmail(e,t){return this.sendRequest("POST","/update_user_notify_email",e,[],!1,t)}async updateUserNotifyStatus(e,t){return this.sendRequest("POST","/update_user_notify_status",e,[],!1,t)}async listEmailRegisteredV2(e,t){return this.sendRequest("POST","/list_email_registered_v2",e,[],!1,t)}async logoffWithReasonV2(e,t){return this.sendRequest("POST","/logoff_with_reason_v2",e,[],!1,t)}async updatePasswordV2(e,t){return this.sendRequest("POST","/update_password_v2",e,[],!1,t)}async sendCalenderEmail(e,t){return this.sendRequest("POST","/send_calender_email",e,[],!1,t)}async unlimitedQueriesInviteStatus(e){return this.sendRequest("GET","/unlimited_queries_invite_status",null,[],!1,e)}async checkInviteSuccess(e,t){return this.sendRequest("POST","/check_invite_success",e,[],!1,t)}async setLocale(e,t){return this.sendRequest("POST","/set_locale",e,[],!1,t)}async getLocale(e){return this.sendRequest("GET","/get_locale",null,[],!1,e)}async getNewUserMissionStatus(e){return this.sendRequest("POST","/get_new_user_mission_status",null,[],!1,e)}async completeNewUserMission(e,t){return this.sendRequest("POST","/complete_new_user_mission",e,[],!1,t)}async getJobTitleForm(e){return this.sendRequest("POST","/get_job_title_form",null,[],!1,e)}async getUserJobTitle(e){return this.sendRequest("POST","/get_user_job_title",null,[],!1,e)}async checkCountry(e){return this.sendRequest("POST","/check_country",null,[],!1,e)}async tapfiliateClick(e,t){return this.sendRequest("POST","/tapfiliate_click",e,[],!1,t)}async payPushConfig(e){return this.sendRequest("POST","/pay_push_config",null,[],!1,e)}async isFromAffiliate(e){return this.sendRequest("GET","/is_from_affiliate",null,[],!1,e)}async loginByAuthCode(e,t){return this.sendRequest("POST","/login_by_auth_code",e,[],!1,t)}async getTokenByAuthCode(e,t){return this.sendRequest("POST","/get_token_by_auth_code",e,[],!1,t)}async getUserInfoByAuthCode(e,t){return this.sendRequest("POST","/get_user_info_by_auth_code",e,[],!1,t)}async adminBlockUser(e,t){return this.sendRequest("POST","/admin_block_user",e,[],!1,t)}async adminUnblockUser(e,t){return this.sendRequest("POST","/admin_unblock_user",e,[],!1,t)}async logoutDevice(e,t){return this.sendRequest("POST","/logout_device",e,[],!1,t)}async internalSwitchDevice(e,t){return this.sendRequest("POST","/internal_switch_device",e,[],!1,t)}async internalLogoutDevice(e,t){return this.sendRequest("POST","/internal_logout_device",e,[],!1,t)}async listActiveDevices(e){return this.sendRequest("POST","/list_active_devices",null,[],!1,e)}async listActiveDevicesV2(e){return this.sendRequest("POST","/list_active_devices_v2",null,[],!1,e)}async oneStepLogin(e,t){return this.sendRequest("POST","/one_step_login",e,[],!1,t)}async internalBindImSuccess(e,t){return this.sendRequest("POST","/internal_bind_im_success",e,[],!1,t)}async getTapAffiliateInfo(e,t){return this.sendRequest("POST","/get_tap_affiliate_info",e,[],!1,t)}async issueAuthCodeByExistingAuthStatus(e,t){return this.sendRequest("POST","/issue_auth_code_by_existing_auth_status",e,[],!1,t)}async getInviteRanking(e,t){return this.sendRequest("POST","/get_invite_ranking",e,[],!1,t)}async inviteGacha(e){return this.sendRequest("POST","/invite_gacha",null,[],!1,e)}async getInviteGachaRecord(e,t){return this.sendRequest("POST","/get_invite_gacha_record",e,[],!1,t)}async getInviteGachaQuota(e){return this.sendRequest("POST","/get_invite_gacha_quota",null,[],!1,e)}async sendPhoneVerifyCodeWithCaptcha(e,t){return this.sendRequest("POST","/send_phone_verify_code_with_captcha",e,[],!1,t)}async loginByPhone(e,t){return this.sendRequest("POST","/login_by_phone",e,[],!1,t)}async sendPhoneVerifyCodeWithCaptchaWithAuth(e,t){return this.sendRequest("POST","/send_phone_verify_code_with_captcha_with_auth",e,[],!1,t)}async activateByInviteCode(e,t){return this.sendRequest("POST","/activate_by_invite_code",e,[],!1,t)}async getInviteCodeList(e){return this.sendRequest("POST","/get_invite_code_list",null,[],!1,e)}async adminCreateSpecialInviteCode(e,t){return this.sendRequest("POST","/admin_create_special_invite_code",e,[],!1,t)}async adminUpdateSpecialInviteCode(e,t){return this.sendRequest("POST","/admin_update_special_invite_code",e,[],!1,t)}async adminGetSpecialInviteCode(e,t){return this.sendRequest("POST","/admin_get_special_invite_code",e,[],!1,t)}async adminCreateSpecialUtm(e,t){return this.sendRequest("POST","/admin_create_special_utm",e,[],!1,t)}async adminUpdateSpecialUtm(e,t){return this.sendRequest("POST","/admin_update_special_utm",e,[],!1,t)}async adminGetSpecialUtm(e,t){return this.sendRequest("POST","/admin_get_special_utm",e,[],!1,t)}async getWxLoginQr(e,t){return this.sendRequest("POST","/get_wx_login_qr",e,[],!1,t)}async checkWxLoginQr(e,t){return this.sendRequest("POST","/check_wx_login_qr",e,[],!1,t)}async loginByWxOauthCode(e,t){return this.sendRequest("POST","/login_by_wx_oauth_code",e,[],!1,t)}async bindByWxH5OauthCode(e,t){return this.sendRequest("POST","/bind_by_wx_h5_oauth_code",e,[],!1,t)}async internalBindWx(e,t){return this.sendRequest("POST","/internal_bind_wx",e,[],!1,t)}async internalBindWxWithoutSceneId(e,t){return this.sendRequest("POST","/internal_bind_wx_without_scene_id",e,[],!1,t)}async unbindWx(e){return this.sendRequest("POST","/unbind_wx",null,[],!1,e)}async getWxBindQr(e){return this.sendRequest("POST","/get_wx_bind_qr",null,[],!1,e)}async checkWxBindQr(e,t){return this.sendRequest("POST","/check_wx_bind_qr",e,[],!1,t)}async getUserWechatInfo(e){return this.sendRequest("POST","/get_user_wechat_info",null,[],!1,e)}async bindByWxOauthCode(e,t){return this.sendRequest("POST","/bind_by_wx_oauth_code",e,[],!1,t)}async bindPhoneNumber(e,t){return this.sendRequest("POST","/bind_phone_number",e,[],!1,t)}async internalGetMpAccessToken(e){return this.sendRequest("POST","/internal_get_mp_access_token",null,[],!1,e)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/user")}}e.Api=el}(A=e.User||(e.User={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async createEvent(e,t){return this.sendRequest("POST","/create_event",e,[],!1,t)}async createEventV2(e,t){return this.sendRequest("POST","/create_event_v2",e,[],!1,t)}async batchCreateEventV2(e,t){return this.sendRequest("POST","/batch_create_event_v2",e,[],!1,t)}async artistBotFeedback(e,t){return this.sendRequest("POST","/artist_bot_feedback",e,[],!1,t)}async createErrorEvent(e,t){return this.sendRequest("POST","/create_error_event",e,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/user_behavior")}}e.Api=t}(w=e.UserBehavior||(e.UserBehavior={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async adminUpdateVersion(e,t){return this.sendRequest("POST","/admin_update_version",e,[],!1,t)}async get(e){return this.sendRequest("GET","/get",null,[],!1,e)}async listRelease(e){return this.sendRequest("GET","/list_release",null,[],!1,e)}async changelogDetail(e){return this.sendRequest("GET","/changelog_detail",null,[],!1,e)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/version")}}e.Api=t}(E=e.Version||(e.Version={})),function(e){class t extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","vip.exceptions.NoCustomerError")}}e.NoCustomerError=t;class s extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","vip.exceptions.SubscriptionStatusError")}}e.SubscriptionStatusError=s;class i extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","vip.exceptions.StripeError")}}e.StripeError=i;class o extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","vip.exceptions.FrequentlyError")}}e.FrequentlyError=o;class a extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","vip.exceptions.TrialError")}}e.TrialError=a;class l extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","vip.exceptions.SubscriptionChangeError")}}e.SubscriptionChangeError=l;class u extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","vip.exceptions.TemporaryError")}}e.TemporaryError=u;class d extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","vip.exceptions.LemonError")}}e.LemonError=d;class c extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","vip.exceptions.AlreadyHasSubscriptionError")}}e.AlreadyHasSubscriptionError=c;class h extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","vip.exceptions.IAPReceiptVerifyError")}}e.IAPReceiptVerifyError=h;class p extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","vip.exceptions.FastspringNetError")}}e.FastspringNetError=p;class m extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","vip.exceptions.FastspringLogicError")}}e.FastspringLogicError=m;class g extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","vip.exceptions.GooglePlaySubscriptionNotActiveError")}}e.GooglePlaySubscriptionNotActiveError=g;class y extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","vip.exceptions.TransferCodeExistError")}}e.TransferCodeExistError=y;class S extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","vip.exceptions.CanNotTransferError")}}e.CanNotTransferError=S;class _ extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","vip.exceptions.AlreadyCreateRefundError")}}e.AlreadyCreateRefundError=_;class f extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","vip.exceptions.CanNotRefundError")}}e.CanNotRefundError=f;class v extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","vip.exceptions.CanNotExtendTrialError")}}e.CanNotExtendTrialError=v;class T extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","vip.exceptions.PaymentPlatformError")}}e.PaymentPlatformError=T;class b extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","vip.exceptions.UserNotVotedError")}}e.UserNotVotedError=b;class C extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","vip.exceptions.UserAlreadyReceivedRewardError")}}e.UserAlreadyReceivedRewardError=C;class P extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","vip.exceptions.InvalidUniversityError")}}e.InvalidUniversityError=P;class A extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","vip.exceptions.UserEmailNotBoundError")}}e.UserEmailNotBoundError=A;class w extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","vip.exceptions.UserEmailDomainMismatchError")}}e.UserEmailDomainMismatchError=w;class E extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","vip.exceptions.UserAlreadyReceivedCurrentRewardError")}}e.UserAlreadyReceivedCurrentRewardError=E;class R extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","vip.exceptions.SubscriptionNotFoundError")}}e.SubscriptionNotFoundError=R;class k extends n.CrepeSdk.ApiRequestError{constructor(...e){super(...e),(0,r._)(this,"errorName","vip.exceptions.UnsupportedPaymentMethodError")}}e.UnsupportedPaymentMethodError=k;class x extends n.CrepeSdk.BaseDomainApi{async test(e){return this.sendRequest("GET","/test",null,[],!1,e)}async getVipStatus(e){return this.sendRequest("GET","/get_vip_status",null,[],!1,e)}async getSubscriptionPlansMonthly(e){return this.sendRequest("GET","/get_subscription_plans_monthly",null,[],!1,e)}async getSubscriptionPlansYearly(e){return this.sendRequest("GET","/get_subscription_plans_yearly",null,[],!1,e)}async getSubscriptionPlans(e,t){return this.sendRequest("GET","/get_subscription_plans",e,[],!1,t)}async getSpecialNations(e){return this.sendRequest("GET","/get_special_nations",null,[],!1,e)}async getMobileSubscriptionPlans(e){return this.sendRequest("GET","/get_mobile_subscription_plans",null,[],!1,e)}async appleGetSubscriptionPlans(e){return this.sendRequest("GET","/apple_get_subscription_plans",null,[],!1,e)}async getSinglePaymentPlans(e){return this.sendRequest("GET","/get_single_payment_plans",null,[],!1,e)}async stripeCreateSubscriptionCheckout(e,t){return this.sendRequest("POST","/stripe_create_subscription_checkout",e,[],!1,t)}async stripeCancelSubscription(e){return this.sendRequest("POST","/stripe_cancel_subscription",null,[],!1,e)}async stripeResubscribeSubscription(e){return this.sendRequest("POST","/stripe_resubscribe_subscription",null,[],!1,e)}async stripeCheckoutStatus(e,t){return this.sendRequest("GET","/stripe_checkout_status",e,[],!1,t)}async newUserGift(e){return this.sendRequest("GET","/new_user_gift",null,[],!1,e)}async giveawayVipList(e){return this.sendRequest("GET","/giveaway_vip_list",null,[],!1,e)}async stripeCreateSubscriptionCheckoutPreview(e,t){return this.sendRequest("POST","/stripe_create_subscription_checkout_preview",e,[],!1,t)}async lemonCreateSingleCheckout(e,t){return this.sendRequest("POST","/lemon_create_single_checkout",e,[],!1,t)}async lemonCreateSubscriptionCheckout(e,t){return this.sendRequest("POST","/lemon_create_subscription_checkout",e,[],!1,t)}async lemonCreateSubscriptionCheckoutPreview(e,t){return this.sendRequest("POST","/lemon_create_subscription_checkout_preview",e,[],!1,t)}async lemonCheckoutStatus(e,t){return this.sendRequest("GET","/lemon_checkout_status",e,[],!1,t)}async lemonCancelSubscription(e){return this.sendRequest("POST","/lemon_cancel_subscription",null,[],!1,e)}async lemonResubscribeSubscription(e){return this.sendRequest("POST","/lemon_resubscribe_subscription",null,[],!1,e)}async lemonManualFixSubscription(e,t,s){return this.sendRequest("GET","/lemon_manual_fix_subscription",null,[["userId",e],["subId",t]],!1,s)}async getBotVipStatus(e,t){return this.sendRequest("GET","/get_bot_vip_status",e,[],!1,t)}async getGeniusInvitePoint(e){return this.sendRequest("GET","/get_genius_invite_point",null,[],!1,e)}async getAllExtPoint(e){return this.sendRequest("GET","/get_all_ext_point",null,[],!1,e)}async appleSubmitReceipt(e,t){return this.sendRequest("POST","/apple_submit_receipt",e,[],!1,t)}async testAppleReceipt(e){return this.sendRequest("GET","/test_apple_receipt",null,[],!1,e)}async lemonImmediatelyEndTrial(e){return this.sendRequest("POST","/lemon_immediately_end_trial",null,[],!1,e)}async fastspringQueryOrder(e,t){return this.sendRequest("POST","/fastspring_query_order",e,[],!1,t)}async fastspringCreateCheckout(e,t){return this.sendRequest("POST","/fastspring_create_checkout",e,[],!1,t)}async fastspringCreateSingleCheckout(e,t){return this.sendRequest("POST","/fastspring_create_single_checkout",e,[],!1,t)}async fastspringUpgradePreview(e,t){return this.sendRequest("POST","/fastspring_upgrade_preview",e,[],!1,t)}async fastspringCancelSubscription(e){return this.sendRequest("POST","/fastspring_cancel_subscription",null,[],!1,e)}async fastspringResubscribeSubscription(e){return this.sendRequest("POST","/fastspring_resubscribe_subscription",null,[],!1,e)}async internalGetUserVipCache(e){return this.sendRequest("GET","/internal_get_user_vip_cache",null,[],!1,e)}async googlePlaySubmitToken(e,t){return this.sendRequest("POST","/google_play_submit_token",e,[],!1,t)}async getTransferCode(e){return this.sendRequest("GET","/get_transfer_code",null,[],!1,e)}async previewTransferInfo(e){return this.sendRequest("GET","/preview_transfer_info",null,[],!1,e)}async generateTransferCode(e){return this.sendRequest("POST","/generate_transfer_code",null,[],!1,e)}async refundStatus(e){return this.sendRequest("GET","/refund_status",null,[],!1,e)}async createRefund(e){return this.sendRequest("POST","/create_refund",null,[],!1,e)}async getGiftPackList(e){return this.sendRequest("GET","/get_gift_pack_list",null,[],!1,e)}async paymentMoti(e,t){return this.sendRequest("POST","/payment_moti",e,[],!1,t)}async cancelSubscriptionReason(e,t){return this.sendRequest("POST","/cancel_subscription_reason",e,[],!1,t)}async eduChartsGetGiveawayVip(e,t){return this.sendRequest("POST","/edu_charts_get_giveaway_vip",e,[],!1,t)}async extVipStatus(e){return this.sendRequest("GET","/ext_vip_status",null,[],!1,e)}async checkM2yDiscountEnabled(e){return this.sendRequest("GET","/check_m2y_discount_enabled",null,[],!1,e)}async invoiceList(e){return this.sendRequest("GET","/invoice_list",null,[],!1,e)}async setTimeLimitM2yDiscount(e){return this.sendRequest("GET","/set_time_limit_m2y_discount",null,[],!1,e)}async getTimeLimitM2yDiscount(e){return this.sendRequest("GET","/get_time_limit_m2y_discount",null,[],!1,e)}async fastspringDiscount(e,t){return this.sendRequest("POST","/fastspring_discount",e,[],!1,t)}async getVipExtraInfo(e){return this.sendRequest("GET","/get_vip_extra_info",null,[],!1,e)}async fastspringExtendTrial(e){return this.sendRequest("POST","/fastspring_extend_trial",null,[],!1,e)}async fastspringActivateSubscription(e){return this.sendRequest("POST","/fastspring_activate_subscription",null,[],!1,e)}async createRefundRequest(e,t){return this.sendRequest("POST","/create_refund_request",e,[],!1,t)}async getRefundRequestHistory(e){return this.sendRequest("POST","/get_refund_request_history",null,[],!1,e)}async checkFromSpecialAffiliate(e){return this.sendRequest("GET","/check_from_special_affiliate",null,[],!1,e)}async revenuecatSyncCustomer(e){return this.sendRequest("POST","/revenuecat_sync_customer",null,[],!1,e)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/vip")}}e.Api=x}(R=e.Vip||(e.Vip={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async generate(e,t){return this.sendRequest("POST","/generate",e,[],!1,t)}async generateMailSuggestion(e,t){return this.sendRequest("POST","/generate_mail_suggestion",e,[],!1,t)}async getCommandList(e){return this.sendRequest("GET","/get_command_list",null,[],!1,e)}async getTemplateList(e){return this.sendRequest("GET","/get_template_list",null,[],!1,e)}async translate(e,t){return this.sendRequest("POST","/translate",e,[],!1,t)}async createLtTask(e,t){return this.sendRequest("POST","/create_lt_task",e,[],!1,t)}async checkGrammar(e,t){return this.sendRequest("POST","/check_grammar",e,[],!1,t)}async improveText(e,t){return this.sendRequest("POST","/improve_text",e,[],!1,t)}async fixGrammar(e,t){return this.sendRequest("POST","/fix_grammar",e,[],!1,t)}async detectLanguage(e,t){return this.sendRequest("POST","/detect_language",e,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/writing")}}e.Api=t}(k=e.Writing||(e.Writing={})),function(e){class t extends n.CrepeSdk.BaseDomainApi{async generate(e,t){return this.sendRequest("POST","/generate",e,[],!1,t)}async loopSegmentationResult(e,t){return this.sendRequest("POST","/loop_segmentation_result",e,[],!1,t)}async getExistResult(e,t){return this.sendRequest("POST","/get_exist_result",e,[],!1,t)}async getExistResultWithoutAuth(e,t){return this.sendRequest("POST","/get_exist_result_without_auth",e,[],!1,t)}async generateWithoutSubtitle(e,t){return this.sendRequest("POST","/generate_without_subtitle",e,[],!1,t)}async checkVideoDuration(e,t){return this.sendRequest("POST","/check_video_duration",e,[],!1,t)}async checkVideoSubtitle(e,t){return this.sendRequest("POST","/check_video_subtitle",e,[],!1,t)}async getVideoInfo(e,t){return this.sendRequest("POST","/get_video_info",e,[],!1,t)}async getVideoRecommendedList(e,t){return this.sendRequest("POST","/get_video_recommended_list",e,[],!1,t)}async getVideoIdByTitleId(e,t){return this.sendRequest("POST","/get_video_id_by_title_id",e,[],!1,t)}constructor(...e){super(...e),(0,r._)(this,"pathPrefix","/youtube_summarize")}}e.Api=t}(x=e.YoutubeSummarize||(e.YoutubeSummarize={}));class J extends n.CrepeSdk.BaseSession{_initApis(e){this.adminApi=new t.Api(e,this),this.agentApi=new s.Api(e,this),this.appsApi=new i.Api(e,this),this.artistBotApi=new o.Api(e,this),this.c4gVipApi=new a.Api(e,this),this.cognitiveApi=new l.Api(e,this),this.commonApiApi=new u.Api(e,this),this.datasetApi=new d.Api(e,this),this.docApi=new c.Api(e,this),this.ffmpegToolsApi=new h.Api(e,this),this.fileObjectApi=new p.Api(e,this),this.generateApi=new m.Api(e,this),this.imApi=new g.Api(e,this),this.imageToolsApi=new y.Api(e,this),this.memoApi=new S.Api(e,this),this.noteApi=new _.Api(e,this),this.notificationApi=new f.Api(e,this),this.parallelTranslationApi=new v.Api(e,this),this.searchAgentApi=new T.Api(e,this),this.taskApi=new b.Api(e,this),this.toolTranslationApi=new C.Api(e,this),this.usageApi=new P.Api(e,this),this.userApi=new A.Api(e,this),this.userBehaviorApi=new w.Api(e,this),this.versionApi=new E.Api(e,this),this.vipApi=new R.Api(e,this),this.writingApi=new k.Api(e,this),this.youtubeSummarizeApi=new x.Api(e,this)}constructor(...e){super(...e),(0,r._)(this,"adminApi",void 0),(0,r._)(this,"agentApi",void 0),(0,r._)(this,"appsApi",void 0),(0,r._)(this,"artistBotApi",void 0),(0,r._)(this,"c4gVipApi",void 0),(0,r._)(this,"cognitiveApi",void 0),(0,r._)(this,"commonApiApi",void 0),(0,r._)(this,"datasetApi",void 0),(0,r._)(this,"docApi",void 0),(0,r._)(this,"ffmpegToolsApi",void 0),(0,r._)(this,"fileObjectApi",void 0),(0,r._)(this,"generateApi",void 0),(0,r._)(this,"imApi",void 0),(0,r._)(this,"imageToolsApi",void 0),(0,r._)(this,"memoApi",void 0),(0,r._)(this,"noteApi",void 0),(0,r._)(this,"notificationApi",void 0),(0,r._)(this,"parallelTranslationApi",void 0),(0,r._)(this,"searchAgentApi",void 0),(0,r._)(this,"taskApi",void 0),(0,r._)(this,"toolTranslationApi",void 0),(0,r._)(this,"usageApi",void 0),(0,r._)(this,"userApi",void 0),(0,r._)(this,"userBehaviorApi",void 0),(0,r._)(this,"versionApi",void 0),(0,r._)(this,"vipApi",void 0),(0,r._)(this,"writingApi",void 0),(0,r._)(this,"youtubeSummarizeApi",void 0)}}class Z extends n.CrepeSdk.BaseSdk{async session(e,t,s){return this.getSession(e,t,s,J)._run()}constructor(e){super(e),(0,r._)(this,"adminApi",void 0),(0,r._)(this,"agentApi",void 0),(0,r._)(this,"appsApi",void 0),(0,r._)(this,"artistBotApi",void 0),(0,r._)(this,"c4gVipApi",void 0),(0,r._)(this,"cognitiveApi",void 0),(0,r._)(this,"commonApiApi",void 0),(0,r._)(this,"datasetApi",void 0),(0,r._)(this,"docApi",void 0),(0,r._)(this,"ffmpegToolsApi",void 0),(0,r._)(this,"fileObjectApi",void 0),(0,r._)(this,"generateApi",void 0),(0,r._)(this,"imApi",void 0),(0,r._)(this,"imageToolsApi",void 0),(0,r._)(this,"memoApi",void 0),(0,r._)(this,"noteApi",void 0),(0,r._)(this,"notificationApi",void 0),(0,r._)(this,"parallelTranslationApi",void 0),(0,r._)(this,"searchAgentApi",void 0),(0,r._)(this,"taskApi",void 0),(0,r._)(this,"toolTranslationApi",void 0),(0,r._)(this,"usageApi",void 0),(0,r._)(this,"userApi",void 0),(0,r._)(this,"userBehaviorApi",void 0),(0,r._)(this,"versionApi",void 0),(0,r._)(this,"vipApi",void 0),(0,r._)(this,"writingApi",void 0),(0,r._)(this,"youtubeSummarizeApi",void 0),(0,r._)(this,"allExceptions",{"crepe.error.BaseError":q,"crepe.error.UnExpectedBaseError":O,"crepe.error.CrepeInternalServerError":I,"crepe.error.CrepeConfigMissingError":L,"crepe.error.CrepeAuthError":D,"crepe.error.CrepeRequestValidationError":M,"exceptions.CommonError":B,"exceptions.InternalError":N,"exceptions.AuthError":F,"exceptions.UserAuthError":U,"exceptions.ResourceNotFoundError":G,"exceptions.ValidationError":V,"exceptions.UnexpectedError":W,"exceptions.NotImplementError":H,"exceptions.DomainError":K,"exceptions.ClientNeedsUpdateError":j,"exceptions.BlockRegionError":Q,"exceptions.ResourcePermissionError":z,"exceptions.NoPermissionError":Y,"admin.exceptions.NoCustomPromptError":t.NoCustomPromptError,"apps.exceptions.SkillNotExistError":i.SkillNotExistError,"apps.exceptions.SkillNotOwnedError":i.SkillNotOwnedError,"apps.exceptions.LocaleNotMatchError":i.LocaleNotMatchError,"apps.exceptions.SkillConfigNotMatchError":i.SkillConfigNotMatchError,"apps.exceptions.AppNotMatchError":i.AppNotMatchError,"dataset.exceptions.UnsupportedFileExtensionError":d.UnsupportedFileExtensionError,"dataset.exceptions.FileTokenLimitExceededError":d.FileTokenLimitExceededError,"dataset.exceptions.EmbeddingServiceError":d.EmbeddingServiceError,"dataset.exceptions.DocumentNotFoundError":d.DocumentNotFoundError,"dataset.exceptions.DatasetNotFoundError":d.DatasetNotFoundError,"dataset.exceptions.FileNotFoundError":d.FileNotFoundError,"dataset.exceptions.ParseFileFailedError":d.ParseFileFailedError,"dataset.exceptions.PdfHasNoTextError":d.PdfHasNoTextError,"dataset.exceptions.UnsupportedFileMimeTypeError":d.UnsupportedFileMimeTypeError,"memo.exceptions.MemoNotFound":S.MemoNotFound,"task.exceptions.ChatError":b.ChatError,"task.exceptions.QuotaExceededError":b.QuotaExceededError,"task.exceptions.UidDuplicateError":b.UidDuplicateError,"task.exceptions.CustomPromptError":b.CustomPromptError,"task.exceptions.ConversationNotExistError":b.ConversationNotExistError,"task.exceptions.SharedConversationNotExistError":b.SharedConversationNotExistError,"task.exceptions.ReadEnhanceIndexNotPreparedError":b.ReadEnhanceIndexNotPreparedError,"task.exceptions.ConversationAlreadyExistReadEnhanceIndexError":b.ConversationAlreadyExistReadEnhanceIndexError,"task.exceptions.ReadingQuotaExceededError":b.ReadingQuotaExceededError,"task.exceptions.ReadingColdDownError":b.ReadingColdDownError,"task.exceptions.ReadingTokenLimitExceededError":b.ReadingTokenLimitExceededError,"task.exceptions.LocaleNotSupportError":b.LocaleNotSupportError,"task.exceptions.SystemBusyError":b.SystemBusyError,"task.exceptions.WebSearchQuotaExceededError":b.WebSearchQuotaExceededError,"task.exceptions.ReadingGenerationError":b.ReadingGenerationError,"task.exceptions.ChatBotNotFoundError":b.ChatBotNotFoundError,"task.exceptions.ReadingUrlTimeOutError":b.ReadingUrlTimeOutError,"task.exceptions.CrawlerServiceHighLoadError":b.CrawlerServiceHighLoadError,"task.exceptions.FetchUrlContentError":b.FetchUrlContentError,"task.exceptions.ReadingTextTooShortError":b.ReadingTextTooShortError,"task.exceptions.PdfParseError":b.PdfParseError,"task.exceptions.ChatSessionException":b.ChatSessionException,"task.exceptions.ClearConversationError":b.ClearConversationError,"tool_translation.exceptions.ParamError":C.ParamError,"user.exceptions.UserNotExistsError":A.UserNotExistsError,"user.exceptions.OauthCallbackError":A.OauthCallbackError,"user.exceptions.UserAlreadyExistsError":A.UserAlreadyExistsError,"user.exceptions.PasswordError":A.PasswordError,"user.exceptions.UserRegisterAfterLogoffError":A.UserRegisterAfterLogoffError,"user.exceptions.CustomPromptNotEditableError":A.CustomPromptNotEditableError,"user.exceptions.CustomPromptNotExistError":A.CustomPromptNotExistError,"user.exceptions.InviteCountNotEnoughError":A.InviteCountNotEnoughError,"user.exceptions.RewardReceivedError":A.RewardReceivedError,"user.exceptions.ParamError":A.ParamError,"user.exceptions.CustomPromptNotPublicError":A.CustomPromptNotPublicError,"user.exceptions.SendEmailVerifyCodeTooOftenError":A.SendEmailVerifyCodeTooOftenError,"user.exceptions.EmailVerifyCodeError":A.EmailVerifyCodeError,"user.exceptions.PasswordNotMatchError":A.PasswordNotMatchError,"user.exceptions.CaptchaVerifyError":A.CaptchaVerifyError,"user.exceptions.InterfaceDeprecatedError":A.InterfaceDeprecatedError,"user.exceptions.InvalidClientTypeError":A.InvalidClientTypeError,"user.exceptions.AlreadyInvitedError":A.AlreadyInvitedError,"user.exceptions.InviteCodeError":A.InviteCodeError,"user.exceptions.SendEmailFailedError":A.SendEmailFailedError,"user.exceptions.EmailServerError":A.EmailServerError,"user.exceptions.SendEmailWithUnknownError":A.SendEmailWithUnknownError,"user.exceptions.AzureSpeechError":A.AzureSpeechError,"user.exceptions.ClientIpIsCNError":A.ClientIpIsCNError,"user.exceptions.ClientIpIsCnRedirectError":A.ClientIpIsCnRedirectError,"user.exceptions.NeedRedirectUrlError":A.NeedRedirectUrlError,"user.exceptions.FeedbackSubmitTooFrequentlyError":A.FeedbackSubmitTooFrequentlyError,"user.exceptions.AuthCodeInvalidError":A.AuthCodeInvalidError,"user.exceptions.MultiDeviceLoginError":A.MultiDeviceLoginError,"user.exceptions.ClientTypeEmptyError":A.ClientTypeEmptyError,"user.exceptions.ChangeEmailError":A.ChangeEmailError,"user.exceptions.UserProfileNotExistsError":A.UserProfileNotExistsError,"user.exceptions.PasswordNotSetError":A.PasswordNotSetError,"user.exceptions.EmailNotMatchError":A.EmailNotMatchError,"user.exceptions.EmailExistError":A.EmailExistError,"user.exceptions.EmailNotSetError":A.EmailNotSetError,"user.exceptions.EmailDateFormatError":A.EmailDateFormatError,"user.exceptions.RepeatActionError":A.RepeatActionError,"user.exceptions.UserRegisterEmailPrefixBlacklistError":A.UserRegisterEmailPrefixBlacklistError,"user.exceptions.UserBlockedError":A.UserBlockedError,"user.exceptions.FeedbackDescEmptyError":A.FeedbackDescEmptyError,"user.exceptions.NotEduEmailError":A.NotEduEmailError,"user.exceptions.EmailHasUsedError":A.EmailHasUsedError,"user.exceptions.EduEmailNeedRebindError":A.EduEmailNeedRebindError,"user.exceptions.EmailAlreadyBoundError":A.EmailAlreadyBoundError,"user.exceptions.BlockUserError":A.BlockUserError,"user.exceptions.TokenNotAvailableError":A.TokenNotAvailableError,"user.exceptions.TokenNotFoundError":A.TokenNotFoundError,"user.exceptions.SendPhoneCodeFailedError":A.SendPhoneCodeFailedError,"user.exceptions.SendPhoneCodeTooOftenError":A.SendPhoneCodeTooOftenError,"user.exceptions.PhoneVerifyCodeError":A.PhoneVerifyCodeError,"user.exceptions.InviteCountExceedError":A.InviteCountExceedError,"user.exceptions.InvalidContentError":A.InvalidContentError,"user.exceptions.WxQrExpiredError":A.WxQrExpiredError,"user.exceptions.WxQrUsedError":A.WxQrUsedError,"user.exceptions.UserAlreadyBindWxError":A.UserAlreadyBindWxError,"user.exceptions.WxAlreadyBindUserError":A.WxAlreadyBindUserError,"user.exceptions.UserAlreadyBindPhoneError":A.UserAlreadyBindPhoneError,"user.exceptions.PhoneAlreadyBindUserError":A.PhoneAlreadyBindUserError,"vip.exceptions.NoCustomerError":R.NoCustomerError,"vip.exceptions.SubscriptionStatusError":R.SubscriptionStatusError,"vip.exceptions.StripeError":R.StripeError,"vip.exceptions.FrequentlyError":R.FrequentlyError,"vip.exceptions.TrialError":R.TrialError,"vip.exceptions.SubscriptionChangeError":R.SubscriptionChangeError,"vip.exceptions.TemporaryError":R.TemporaryError,"vip.exceptions.LemonError":R.LemonError,"vip.exceptions.AlreadyHasSubscriptionError":R.AlreadyHasSubscriptionError,"vip.exceptions.IAPReceiptVerifyError":R.IAPReceiptVerifyError,"vip.exceptions.FastspringNetError":R.FastspringNetError,"vip.exceptions.FastspringLogicError":R.FastspringLogicError,"vip.exceptions.GooglePlaySubscriptionNotActiveError":R.GooglePlaySubscriptionNotActiveError,"vip.exceptions.TransferCodeExistError":R.TransferCodeExistError,"vip.exceptions.CanNotTransferError":R.CanNotTransferError,"vip.exceptions.AlreadyCreateRefundError":R.AlreadyCreateRefundError,"vip.exceptions.CanNotRefundError":R.CanNotRefundError,"vip.exceptions.CanNotExtendTrialError":R.CanNotExtendTrialError,"vip.exceptions.PaymentPlatformError":R.PaymentPlatformError,"vip.exceptions.UserNotVotedError":R.UserNotVotedError,"vip.exceptions.UserAlreadyReceivedRewardError":R.UserAlreadyReceivedRewardError,"vip.exceptions.InvalidUniversityError":R.InvalidUniversityError,"vip.exceptions.UserEmailNotBoundError":R.UserEmailNotBoundError,"vip.exceptions.UserEmailDomainMismatchError":R.UserEmailDomainMismatchError,"vip.exceptions.UserAlreadyReceivedCurrentRewardError":R.UserAlreadyReceivedCurrentRewardError,"vip.exceptions.SubscriptionNotFoundError":R.SubscriptionNotFoundError,"vip.exceptions.UnsupportedPaymentMethodError":R.UnsupportedPaymentMethodError}),this.adminApi=new t.Api(this),this.agentApi=new s.Api(this),this.appsApi=new i.Api(this),this.artistBotApi=new o.Api(this),this.c4gVipApi=new a.Api(this),this.cognitiveApi=new l.Api(this),this.commonApiApi=new u.Api(this),this.datasetApi=new d.Api(this),this.docApi=new c.Api(this),this.ffmpegToolsApi=new h.Api(this),this.fileObjectApi=new p.Api(this),this.generateApi=new m.Api(this),this.imApi=new g.Api(this),this.imageToolsApi=new y.Api(this),this.memoApi=new S.Api(this),this.noteApi=new _.Api(this),this.notificationApi=new f.Api(this),this.parallelTranslationApi=new v.Api(this),this.searchAgentApi=new T.Api(this),this.taskApi=new b.Api(this),this.toolTranslationApi=new C.Api(this),this.usageApi=new P.Api(this),this.userApi=new A.Api(this),this.userBehaviorApi=new w.Api(this),this.versionApi=new E.Api(this),this.vipApi=new R.Api(this),this.writingApi=new k.Api(this),this.youtubeSummarizeApi=new x.Api(this)}}e.Sdk=Z}(i||(i={}));let{ApiRequestError:o,ApiRequestAborted:a}=n.CrepeSdk},96235:function(e,t,s){s.d(t,{Xo:function(){return m},Cb:function(){return _},D3:function(){return S}});var i,n=s(66084),r=s(56607),o=s(88882),a=s(12967),l=s(71210),u=s(81435),d=s(82125);!function(e){let t,s,i,r,o,a,l,u,c,h,p,m;!function(e){class t extends d.CrepeSdk.BaseDomainApi{async captcha(e){return this.sendRequest("GET","/captcha",null,null,[],!1,e)}async checkEmail(e,t){return this.sendRequest("POST","/check_email",e,null,[],!1,t)}async email(e,t){return this.sendRequest("POST","/email",e,null,[],!1,t)}async sms(e,t){return this.sendRequest("POST","/sms",e,null,[],!1,t)}constructor(...e){super(...e),(0,n._)(this,"pathPrefix","/captcha")}}e.Api=t}(t=e.Captcha||(e.Captcha={})),function(e){class t extends d.CrepeSdk.BaseDomainApi{async send(e,t){return this.sendRequest("POST","/send",e,null,[],!1,t)}constructor(...e){super(...e),(0,n._)(this,"pathPrefix","/email")}}e.Api=t}(s=e.Email||(e.Email={})),function(e){class t extends d.CrepeSdk.BaseDomainApi{async create(e,t){return this.sendRequest("POST","/create",e,null,[],!1,t)}async delete(e,t){return this.sendRequest("POST","/delete",e,null,[],!1,t)}async emailLog(e,t){return this.sendRequest("POST","/email_log",e,null,[],!1,t)}async list(e,t){return this.sendRequest("POST","/list",e,null,[],!1,t)}async update(e,t){return this.sendRequest("POST","/update",e,null,[],!1,t)}constructor(...e){super(...e),(0,n._)(this,"pathPrefix","/email_log")}}e.Api=t}(i=e.EmailLog||(e.EmailLog={})),function(e){class t extends d.CrepeSdk.BaseDomainApi{async create(e,t){return this.sendRequest("POST","/create",e,null,[],!1,t)}async delete(e,t){return this.sendRequest("POST","/delete",e,null,[],!1,t)}async emailProvider(e,t){return this.sendRequest("POST","/email_provider",e,null,[],!1,t)}async list(e,t){return this.sendRequest("POST","/list",e,null,[],!1,t)}async update(e,t){return this.sendRequest("POST","/update",e,null,[],!1,t)}constructor(...e){super(...e),(0,n._)(this,"pathPrefix","/email_provider")}}e.Api=t}(r=e.EmailProvider||(e.EmailProvider={})),function(e){class t extends d.CrepeSdk.BaseDomainApi{async database(e){return this.sendRequest("GET","/database",null,null,[],!1,e)}async jobDatabase(e){return this.sendRequest("GET","/job_database",null,null,[],!1,e)}async mcmsDatabase(e){return this.sendRequest("GET","/mcms_database",null,null,[],!1,e)}constructor(...e){super(...e),(0,n._)(this,"pathPrefix","/init")}}e.Api=t}(o=e.Init||(e.Init={})),function(e){class t extends d.CrepeSdk.BaseDomainApi{async check(e,t){return this.sendRequest("POST","/check",e,null,[],!1,t)}constructor(...e){super(...e),(0,n._)(this,"pathPrefix","/invite")}}e.Api=t}(a=e.Invite||(e.Invite={})),function(e){class t extends d.CrepeSdk.BaseDomainApi{async callback(e){return this.sendRequest("GET","/callback",null,null,[],!1,e)}async login(e,t){return this.sendRequest("POST","/login",e,null,[],!1,t)}async verifyIdToken(e,t){return this.sendRequest("POST","/verifyIdToken",e,null,[],!1,t)}constructor(...e){super(...e),(0,n._)(this,"pathPrefix","/oauth")}}e.Api=t}(l=e.Oauth||(e.Oauth={})),function(e){class t extends d.CrepeSdk.BaseDomainApi{async create(e,t){return this.sendRequest("POST","/create",e,null,[],!1,t)}async delete(e,t){return this.sendRequest("POST","/delete",e,null,[],!1,t)}async list(e,t){return this.sendRequest("POST","/list",e,null,[],!1,t)}async oauthProvider(e,t){return this.sendRequest("POST","/oauth_provider",e,null,[],!1,t)}async update(e,t){return this.sendRequest("POST","/update",e,null,[],!1,t)}constructor(...e){super(...e),(0,n._)(this,"pathPrefix","/oauth_provider")}}e.Api=t}(u=e.OauthProvider||(e.OauthProvider={})),function(e){class t extends d.CrepeSdk.BaseDomainApi{async send(e,t){return this.sendRequest("POST","/send",e,null,[],!1,t)}constructor(...e){super(...e),(0,n._)(this,"pathPrefix","/sms")}}e.Api=t}(c=e.Sms||(e.Sms={})),function(e){class t extends d.CrepeSdk.BaseDomainApi{async create(e,t){return this.sendRequest("POST","/create",e,null,[],!1,t)}async delete(e,t){return this.sendRequest("POST","/delete",e,null,[],!1,t)}async list(e,t){return this.sendRequest("POST","/list",e,null,[],!1,t)}async smsLog(e,t){return this.sendRequest("POST","/sms_log",e,null,[],!1,t)}async update(e,t){return this.sendRequest("POST","/update",e,null,[],!1,t)}constructor(...e){super(...e),(0,n._)(this,"pathPrefix","/sms_log")}}e.Api=t}(h=e.SmsLog||(e.SmsLog={})),function(e){class t extends d.CrepeSdk.BaseDomainApi{async create(e,t){return this.sendRequest("POST","/create",e,null,[],!1,t)}async delete(e,t){return this.sendRequest("POST","/delete",e,null,[],!1,t)}async list(e,t){return this.sendRequest("POST","/list",e,null,[],!1,t)}async smsProvider(e,t){return this.sendRequest("POST","/sms_provider",e,null,[],!1,t)}async update(e,t){return this.sendRequest("POST","/update",e,null,[],!1,t)}constructor(...e){super(...e),(0,n._)(this,"pathPrefix","/sms_provider")}}e.Api=t}(p=e.SmsProvider||(e.SmsProvider={})),function(e){class t extends d.CrepeSdk.BaseDomainApi{async changePassword(e,t){return this.sendRequest("POST","/change_password",e,null,[],!1,t)}async create(e,t){return this.sendRequest("POST","/create",e,null,[],!1,t)}async delete(e,t){return this.sendRequest("POST","/delete",e,null,[],!1,t)}async feedback(e,t){return this.sendRequest("POST","/feedback",e,null,[],!1,t)}async info(e){return this.sendRequest("GET","/info",null,null,[],!1,e)}async list(e,t){return this.sendRequest("POST","/list",e,null,[],!1,t)}async login(e,t){return this.sendRequest("POST","/login",e,null,[],!1,t)}async loginByAuthCode(e,t){return this.sendRequest("POST","/login_by_auth_code",e,null,[],!1,t)}async loginByEmail(e,t){return this.sendRequest("POST","/login_by_email",e,null,[],!1,t)}async loginBySms(e,t){return this.sendRequest("POST","/login_by_sms",e,null,[],!1,t)}async logout(e){return this.sendRequest("GET","/logout",null,null,[],!1,e)}async perm(e){return this.sendRequest("GET","/perm",null,null,[],!1,e)}async profile(e,t){return this.sendRequest("GET","/profile",e,null,[],!1,t)}async register(e,t){return this.sendRequest("POST","/register",e,null,[],!1,t)}async registerByEmail(e,t){return this.sendRequest("POST","/register_by_email",e,null,[],!1,t)}async registerBySms(e,t){return this.sendRequest("POST","/register_by_sms",e,null,[],!1,t)}async resetPasswordByEmail(e,t){return this.sendRequest("POST","/reset_password_by_email",e,null,[],!1,t)}async resetPasswordBySms(e,t){return this.sendRequest("POST","/reset_password_by_sms",e,null,[],!1,t)}async update(e,t){return this.sendRequest("POST","/update",e,null,[],!1,t)}async user(e,t){return this.sendRequest("POST","/user",e,null,[],!1,t)}constructor(...e){super(...e),(0,n._)(this,"pathPrefix","/user")}}e.Api=t}(m=e.User||(e.User={}));class g extends d.CrepeSdk.BaseSession{_initApis(e){this.captchaApi=new t.Api(e,this),this.emailApi=new s.Api(e,this),this.emailLogApi=new i.Api(e,this),this.emailProviderApi=new r.Api(e,this),this.initApi=new o.Api(e,this),this.inviteApi=new a.Api(e,this),this.oauthApi=new l.Api(e,this),this.oauthProviderApi=new u.Api(e,this),this.smsApi=new c.Api(e,this),this.smsLogApi=new h.Api(e,this),this.smsProviderApi=new p.Api(e,this),this.userApi=new m.Api(e,this)}constructor(...e){super(...e),(0,n._)(this,"captchaApi",void 0),(0,n._)(this,"emailApi",void 0),(0,n._)(this,"emailLogApi",void 0),(0,n._)(this,"emailProviderApi",void 0),(0,n._)(this,"initApi",void 0),(0,n._)(this,"inviteApi",void 0),(0,n._)(this,"oauthApi",void 0),(0,n._)(this,"oauthProviderApi",void 0),(0,n._)(this,"smsApi",void 0),(0,n._)(this,"smsLogApi",void 0),(0,n._)(this,"smsProviderApi",void 0),(0,n._)(this,"userApi",void 0)}}class y extends d.CrepeSdk.BaseSdk{async session(e,t,s){return this.getSession(e,t,s,g)._run()}constructor(e){super(e),(0,n._)(this,"captchaApi",void 0),(0,n._)(this,"emailApi",void 0),(0,n._)(this,"emailLogApi",void 0),(0,n._)(this,"emailProviderApi",void 0),(0,n._)(this,"initApi",void 0),(0,n._)(this,"inviteApi",void 0),(0,n._)(this,"oauthApi",void 0),(0,n._)(this,"oauthProviderApi",void 0),(0,n._)(this,"smsApi",void 0),(0,n._)(this,"smsLogApi",void 0),(0,n._)(this,"smsProviderApi",void 0),(0,n._)(this,"userApi",void 0),(0,n._)(this,"allExceptions",{}),this.captchaApi=new t.Api(this),this.emailApi=new s.Api(this),this.emailLogApi=new i.Api(this),this.emailProviderApi=new r.Api(this),this.initApi=new o.Api(this),this.inviteApi=new a.Api(this),this.oauthApi=new l.Api(this),this.oauthProviderApi=new u.Api(this),this.smsApi=new c.Api(this),this.smsLogApi=new h.Api(this),this.smsProviderApi=new p.Api(this),this.userApi=new m.Api(this)}}e.Sdk=y}(i||(i={}));let{ApiRequestError:c,ApiRequestAborted:h}=d.CrepeSdk,p=r.o.host;r.o.isProd&&(p="https://api.monica.im");let m="".concat(p,"/api"),g={baseUrl:m,globalSetHeader(e){let t=S();return{...e,...t}},globalErrorHandler:e=>{if(console.warn("ApiRequestError",e.code,"(".concat(e.httpStatus,", ").concat(e.httpStatusText,")")),30025===e.code)try{var t;null===(t=_.getUserService())||void 0===t||t.triggerDeviceExceededLimit(!0)}catch(e){console.log(e)}return!1}};class y extends u.JO.Sdk{setAuthToken(e){this.authToken=e}getAuthToken(){return this.authToken}setClientId(e){this.clientId=e}getClientId(){return this.clientId}setExtraHeaders(e){this.extraHeaders=e}getExtraHeaders(){return this.extraHeaders}setUserService(e){this.userService=e}getUserService(){return this.userService}setVersion(e){this.version=e}getVersion(){return this.version}setLocale(e){this.locale=e}getLocale(){return this.locale}constructor(...e){super(...e),(0,n._)(this,"generateService",new l.Hd.Sdk(g)),(0,n._)(this,"botFrameworkService",new a.gn.Sdk(g)),(0,n._)(this,"userCenterService",new i.Sdk(g)),(0,n._)(this,"authToken",null),(0,n._)(this,"clientId",null),(0,n._)(this,"extraHeaders",null),(0,n._)(this,"userService",null),(0,n._)(this,"version",""),(0,n._)(this,"locale","")}}let S=()=>{let e={"Content-Type":"application/json","X-Client-Locale":_.getLocale()||o.a.locale,"X-Product-Name":r.o.productName,"X-Client-Type":r.o.platform,"X-From-Channel":r.o.browser,"X-Time-Zone":[Intl.DateTimeFormat().resolvedOptions().timeZone,new Date().getTimezoneOffset()].join(";")};e["X-Client-Version"]=r.o.isWeb?"5.4.3":_.getVersion(),r.o.isExtension&&(e["X-Client-Browser"]=r.o.browser);let t=_.getClientId();t&&(e["X-Client-Id"]=t);let s=null;if((r.o.isDesktop||r.o.isSafariExtension)&&(s=_.getAuthToken()),s&&(e["X-Api-Key"]=s),r.o.isDesktop&&r.o.isBackground){let{platform:t,arch:s}=globalThis.process;e["X-Desktop-Platform"]=t,e["X-Desktop-Arch"]=s}let i=_.getExtraHeaders();return i&&Object.assign(e,i),e},_=new y(g)},75153:function(e,t,s){s.d(t,{L:function(){return l}});var i=s(66084),n=s(73591);class r{start(){let e=this.stream.getReader();(async()=>{for(;;){var t,s,i;let n;try{n=await (null==e?void 0:e.read())}catch(e){null===(t=this.onError)||void 0===t||t.call(this,e);return}if((null==n?void 0:n.value)!==void 0&&(null===(s=this.onData)||void 0===s||s.call(this,n.value)),!n||n.done){null===(i=this.onFinished)||void 0===i||i.call(this);return}}})().catch(e=>{console.error("error when reading stream"),console.error(e)})}on(e,t){"data"===e&&(this.onData=t,this.start()),"finished"===e&&(this.onFinished=t),"error"===e&&(this.onError=t)}constructor(e,t,s,n){(0,i._)(this,"stream",void 0),(0,i._)(this,"onData",void 0),(0,i._)(this,"onFinished",void 0),(0,i._)(this,"onError",void 0),this.stream=e,this.onData=t,this.onFinished=s,this.onError=n}}async function o(e,t){let s;let i=t.headers.get("content-type")||t.headers.get("Content-Type")||t.headers.get("contentType"),n=null==i?void 0:i.includes("application/json");if(e.stream){if(!t.body)throw TypeError("ReadableStream can't be null");s=n?await t.text():new r(t.body)}else s=n?await t.json():await t.text();return{status:t.status,statusText:t.statusText,contentType:i,headers:t.headers,data:s}}class a{setMode(e){this.mode=e}setProxyResolver(e){this.proxyResolver=e}setResponseInterceptor(e){this.responseInterceptor=e}async request(e){let t,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("axios"===this.mode){let i=await n.Z.request({url:e.url,method:e.method,headers:e.headers,signal:e.signal,data:e.data?e.data:void 0,responseType:e.stream?"stream":e.responseType||void 0,withCredentials:!s});t={contentType:i.headers.get("content-type"),status:i.status,data:i.data,headers:i.headers,statusText:i.statusText}}else{let i=await fetch(e.url,{method:e.method,headers:e.headers,signal:e.signal,body:e.data,credentials:s?void 0:"include"});t=await o(e,i)}return this.responseInterceptor&&(t=this.responseInterceptor(t)),t}get(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.request({url:e,method:"GET",...t},s)}post(e,t,s){return this.request({url:e,method:"POST",data:t,...s})}constructor(){(0,i._)(this,"proxyResolver",null),(0,i._)(this,"mode","fetch"),(0,i._)(this,"responseInterceptor",null),n.Z.interceptors.request.use(async e=>this.proxyResolver?await this.proxyResolver(e):e)}}let l=new a},90180:function(e,t,s){s.d(t,{A:function(){return b}});var i=s(66084),n=s(52921),r=s(34491),o=s(38172),a=s(92020),l=s(241),u=s(70174),d=s(11502),c=s(88882),h=s(31640),p=s(92235),m=s(56607),g=s(92347),y=s(11989),S=s(31284),_=s(73047);let f=()=>"web-home"===m.o.entryType;var v=s(39648);class T{get finalGlobalRespondLanguage(){if(this.globalRespondLanguage)return this.globalRespondLanguage;if(c.a.locale){let e=h.q.getComposeLanguageByLocale(c.a.locale);if(e)return e}return"English"}get finalSearchRespondLanguage(){if(this.searchRespondLanguage)return this.searchRespondLanguage;if(c.a.locale){if("en"===c.a.locale)return"auto";let e=h.q.getComposeLanguageByLocale(c.a.locale);if(e)return e}return"auto"}get finalChatRespondLanguage(){var e;return null!==(e=this.respondLanguage)&&void 0!==e?e:this.finalGlobalRespondLanguage}get finalChatWithPdfRespondLanguage(){var e;return null!==(e=this.chatWithPdfRespondLanguage)&&void 0!==e?e:this.finalGlobalRespondLanguage}get finalQuickActionRespondLanguage(){var e;return null!==(e=this.quickActionRespondLanguage)&&void 0!==e?e:this.finalGlobalRespondLanguage}get finalReadingSummaryRespondLanguage(){var e;return(null!==(e=this.readingSummaryRespondLanguage)&&void 0!==e?e:"auto"===this.finalChatRespondLanguage)?this.finalGlobalRespondLanguage:this.finalChatRespondLanguage}get finalComposeRespondLanguage(){var e;return null!==(e=this.composeLanguage)&&void 0!==e?e:this.finalGlobalRespondLanguage}get finalQuickComposeRespondLanguage(){var e;return null!==(e=this.quickComposeRespondLanguage)&&void 0!==e?e:this.finalGlobalRespondLanguage}get finalTranslationTargetRespondLanguage(){var e;return null!==(e=this.translationTargetLanguage)&&void 0!==e?e:this.finalGlobalRespondLanguage}get finalQuickActionTranslateLanguage(){var e;return null!==(e=this.quickActionTranslateLanguage)&&void 0!==e?e:this.finalGlobalRespondLanguage}get finalChatPresetPromptLanguage(){var e;return null!==(e=this.chatPresetPromptLanguage)&&void 0!==e?e:this.finalGlobalRespondLanguage}get finalContextualToolbarTriggerMode(){var e;return null!==(e=this.contextualToolbarTriggerMode)&&void 0!==e?e:"auto"}get finalContextualToolbarTriggerShortcut(){var e;return null!==(e=this.contextualToolbarTriggerShortcut)&&void 0!==e?e:"Alt"}get finalContextualToolbarImageToolTriggerMode(){var e;return null!==(e=this.contextualToolbarImageToolTriggerMode)&&void 0!==e?e:"auto"}get finalContextualToolbarImageToolTriggerShortcut(){var e;return null!==(e=this.contextualToolbarImageToolTriggerShortcut)&&void 0!==e?e:"Alt"}get finalImageTranslationLang(){return this.imageTranslationLang||this.finalTranslationTargetRespondLanguage}get finalSpeechLang(){return this.speechLang?this.speechLang:v.rm[c.a.locale]||this.findSpeechLang(c.a.locale)}get finalTextToolEnabled(){return p.m.isMacOS()&&this.textToolEnabled}get finalSidebarPin(){var e;return null===(e=this.sidebarPin)||void 0===e||e}get finalSidebarWindowPin(){var e;return null!==(e=this.sidebarWindowPin)&&void 0!==e&&e}get finalSidebarDisplayPosition(){var e;return null!==(e=this.sidebarDisplayPosition)&&void 0!==e?e:"rt"}get chromeSidePanelEnabled(){return this.rawChromeSidePanelEnabled&&m.o.isExtension}get sidebarConversationMode(){return this._sidebarConversationMode||"auto"}get chatContextMode(){return m.o.isChatPDF?this.chatPdfContextMode:this.commonChatContextMode}get chatContextModeSaveKey(){return m.o.isChatPDF?"chatPdfContextMode":"chatContextModeV2"}get finalAiPodcastLastSelectLocale(){return this.aiPodcastLastSelectLocale||(h.q.isAiPodcastLocale(c.a.locale)?c.a.locale:"en_US")}get finalSidebarEntryBtnPosition(){var e;return null!==(e=this.sidebarEntryBtnPosition)&&void 0!==e?e:"right"}get whenReady(){return this._whenReady.promise}async init(){await this.loadConfigs(),o.W.on("userLogout",async e=>{let{clearedCookies:t}=e;t&&await a.ll.set("$timestamp",{}),a.ll.set("gpt4Enabled",!1),a.ll.set("showPdfFreeUserUpgradeDialog",!0),a.ll.set("vipPlanKey",null)}),a.ll.on("configChange",e=>{var t,s,i,n,r,o,a,l,u,d,c,h,p,m,g,y,S,_,f,v,T,b,C,P,A,w,E,R,k,x,q,O,I,L,D,M,B,N,F,U,G,V,W,H,K,j,Q,z,Y,J,Z,X,$,ee,et,es,ei,en,er,eo,ea,el,eu,ed,ec,eh,ep,em,eg,ey,eS,e_,ef,ev,eT,eb,eC,eP,eA,ew,eE,eR,ek,ex,eq;void 0!==e.globalRespondLanguage&&(this.globalRespondLanguage=e.globalRespondLanguage),void 0!==e.chatWithPdfRespondLanguage&&(this.chatWithPdfRespondLanguage="default_auto"===e.chatWithPdfRespondLanguage?"auto":e.chatWithPdfRespondLanguage),void 0!==e.quickActionRespondLanguage&&(this.quickActionRespondLanguage="default_auto"===e.quickActionRespondLanguage?"auto":e.quickActionRespondLanguage),void 0!==e.readingSummaryRespondLanguage&&(this.readingSummaryRespondLanguage=e.readingSummaryRespondLanguage),void 0!==e.githubSummaryEnableOption&&(this.githubSummaryEnableOption=e.githubSummaryEnableOption),void 0!==e.compareModelEnableOption&&(this.compareModelEnableOption=e.compareModelEnableOption),void 0!==e.composeLanguage&&(this.composeLanguage=e.composeLanguage),void 0!==e.quickComposeRespondLanguage&&(this.quickComposeRespondLanguage="default_auto"===e.quickComposeRespondLanguage?"auto":e.quickComposeRespondLanguage),void 0!==e.searchRespondLanguage&&(this.searchRespondLanguage=e.searchRespondLanguage),void 0!==e.translationTargetLanguage&&(this.translationTargetLanguage=e.translationTargetLanguage),void 0!==e.quickActionTranslateLanguage&&(this.quickActionTranslateLanguage=e.quickActionTranslateLanguage),void 0!==e.chatPresetPromptLanguage&&(this.chatPresetPromptLanguage=e.chatPresetPromptLanguage),void 0!==e.quickActionEnableOption&&(this.quickActionEnableOption=e.quickActionEnableOption),void 0!==e.contextualToolImageEnableOption&&(this.contextualToolImageEnableOption=e.contextualToolImageEnableOption),void 0!==e.contextualToolbarTriggerMode&&(this.contextualToolbarTriggerMode=e.contextualToolbarTriggerMode),void 0!==e.contextualToolbarTriggerShortcut&&(this.contextualToolbarTriggerShortcut=e.contextualToolbarTriggerShortcut),void 0!==e.contextualToolbarImageToolTriggerMode&&(this.contextualToolbarImageToolTriggerMode=e.contextualToolbarImageToolTriggerMode),void 0!==e.contextualToolbarImageToolTriggerShortcut&&(this.contextualToolbarImageToolTriggerShortcut=e.contextualToolbarImageToolTriggerShortcut),void 0!==e.imageTranslationLang&&(this.imageTranslationLang=e.imageTranslationLang),void 0!==e.gpt4Enabled&&(this.gpt4Enabled=e.gpt4Enabled),void 0!==e.basicModelEnabled&&(this.basicModelEnabled=e.basicModelEnabled),void 0!==e.baseModelKey&&(this.baseModelKey=e.baseModelKey),void 0!==e.imageModelKey&&(this.imageModelKey=e.imageModelKey),void 0!==e.knowledgeSourceKey&&(this.knowledgeSourceKey=e.knowledgeSourceKey),void 0!==e.composeGpt4Enabled&&(this.composeGpt4Enabled=e.composeGpt4Enabled),void 0!==e.quickInputMemoDraft&&(this.quickInputMemoDraft=e.quickInputMemoDraft),void 0!==e.memoNoticeClosed&&(this.memoNoticeClosed=e.memoNoticeClosed),void 0!==e.quickActionGpt4Enabled&&(this.quickActionGpt4Enabled=e.quickActionGpt4Enabled),void 0!==e.searchProEnabled&&(this.searchProEnabled=e.searchProEnabled),void 0!==e.quickAskGpt4Enabled&&(this.quickAskGpt4Enabled=e.quickAskGpt4Enabled),void 0!==e.quickAskWebAccessEnabled&&(this.quickAksWebAccessEnabled=e.quickAskWebAccessEnabled),void 0!==e.writingGpt4Enabled&&(this.writingGpt4Enabled=e.writingGpt4Enabled),void 0!==e.closedRecommendationFeatureName&&(this.closedRecommendationFeatureName=e.closedRecommendationFeatureName),void 0!==e.artifactAutoOpenDialog&&(this.artifactAutoOpenDialog=null!==(t=e.artifactAutoOpenDialog)&&void 0!==t?t:this.artifactAutoOpenDialog),void 0!==e.artifactWidgetsPosition&&(this.artifactWidgetsPosition=null!==(s=e.artifactWidgetsPosition)&&void 0!==s?s:[]),void 0!==e.translationEngine&&(this.translationEngine=e.translationEngine),void 0!==e.translationScene&&(this.translationScene=e.translationScene),void 0!==e.socialMediaPinedTemplate&&(this.socialMediaPinedTemplate=null!==(i=e.socialMediaPinedTemplate)&&void 0!==i?i:null),void 0!==e.emailPinedTemplate&&(this.emailPinedTemplate=null!==(n=e.emailPinedTemplate)&&void 0!==n?n:null),void 0!==e.simpleMode&&(this.simpleMode=null!==(r=e.simpleMode)&&void 0!==r&&r),void 0!==e.memoryResponsePreferenceUpdatedTime&&(this.memoryResponsePreferenceUpdatedTime=null!==(o=e.memoryResponsePreferenceUpdatedTime)&&void 0!==o?o:null),void 0!==e.sidebarEntryBtnPosition&&(this.sidebarEntryBtnPosition=e.sidebarEntryBtnPosition),void 0!==e.uiFlags&&(this.readingEnhanceFirstShownAt=e.uiFlags.readingEnhanceFirstShownAt||null,this.unreadNotificationCount=null!==(a=e.uiFlags.unreadNotificationCount)&&void 0!==a?a:0,this.screenRecognitionFirstUsedAt=null!==(l=e.uiFlags.screenRecognitionFirstUsedAt)&&void 0!==l?l:null,this.youtubeSummaryShareTooltipClosed=null!==(u=e.uiFlags.youtubeSummaryShareTooltipClosed)&&void 0!==u&&u,this.makeItMoreHowToUseDialogClosed=null!==(d=e.uiFlags.makeItMoreHowToUseDialogClosed)&&void 0!==d&&d,this.heightResizedWithinOneHundredMilliseconds||(this.chatInputResizedHeight=null!==(c=e.uiFlags.chatInputResizedHeight)&&void 0!==c?c:0),this.summaryPageDate=null!==(h=e.uiFlags.summaryPageDate)&&void 0!==h?h:null,this.proPlusPromotionShowed=null!==(p=e.uiFlags.proPlusPromotionShowed)&&void 0!==p&&p,this.webFavoriteGuideShowed=null!==(m=e.uiFlags.webFavoriteGuideShowed)&&void 0!==m&&m,this.promotionalAdsCloseConfigs=null!==(g=e.uiFlags.promotionalAdsCloseConfigs)&&void 0!==g?g:{},this.unlimitedPromotionGuideClosed=null!==(y=e.uiFlags.unlimitedPromotionGuideClosed)&&void 0!==y&&y,this.unlimitedPromotionRewardsUnlockedTipClosed=null!==(S=e.uiFlags.unlimitedPromotionRewardsUnlockedTipClosed)&&void 0!==S&&S,this.isAdsUser=null!==(_=e.uiFlags.isAdsUser)&&void 0!==_&&_,this.pdfToolsGuideShowed=null!==(f=e.uiFlags.pdfToolsGuideShowed)&&void 0!==f&&f,this.pdfChatBookmarkGuideClosed=null!==(v=e.uiFlags.pdfChatBookmarkGuideClosed)&&void 0!==v&&v,this.docChatTranslateTipsShowed=null!==(T=e.uiFlags.docChatTranslateTipsShowed)&&void 0!==T&&T,this.grammarCheckGuideShowed=null!==(b=e.uiFlags.grammarCheckGuideShowed)&&void 0!==b&&b,this.grammarSessionNum=null!==(C=e.uiFlags.grammarSessionNum)&&void 0!==C?C:0,this.grammarLanguage=null!==(P=e.uiFlags.grammarLanguage)&&void 0!==P?P:"en-US",this.grammarAutoCheckNoticeShowed=null!==(A=e.uiFlags.grammarAutoCheckNoticeShowed)&&void 0!==A&&A,this.grammarErrorShowed=null!==(w=e.uiFlags.grammarErrorShowed)&&void 0!==w&&w,this.highlightPinned=null===(E=e.uiFlags.highlightPinned)||void 0===E||E,this.webPageMarkColor=null!==(R=e.uiFlags.webPageMarkColor)&&void 0!==R?R:null,this.webPageMarkCurrentId=null!==(k=e.uiFlags.webPageMarkCurrentId)&&void 0!==k?k:null,this.adChatCardShowedDate=null!==(x=e.uiFlags.adChatCardShowedDate)&&void 0!==x?x:null,this.chatSkillIdx=null!==(q=e.uiFlags.chatSkillIdx)&&void 0!==q?q:null,this.chatSkillResearchEnable=null!==(O=e.uiFlags.chatSkillResearchEnable)&&void 0!==O&&O,this.chatSkillTranslateHeaderClosed=null!==(I=e.uiFlags.chatSkillTranslateHeaderClosed)&&void 0!==I&&I,this.chatSkillWritingHeaderClosed=null!==(L=e.uiFlags.chatSkillWritingHeaderClosed)&&void 0!==L&&L,this.chatAppInstallNoticed=null!==(D=e.uiFlags.chatAppInstallNoticed)&&void 0!==D&&D,this.searchEnhancePromotionClosedAt=null!==(M=e.uiFlags.searchEnhancePromotionClosedAt)&&void 0!==M?M:0,this.chatExpandResearchEnable=null!==(B=e.uiFlags.chatExpandResearchEnable)&&void 0!==B&&B,this.featGuideAllModelsClosed=null!==(N=e.uiFlags.featGuideAllModelsClosed)&&void 0!==N&&N,this.featGuideDownloadClosed=null!==(F=e.uiFlags.featGuideDownloadClosedV2)&&void 0!==F&&F,this.featGuideVoiceModelsClosed=null!==(U=e.uiFlags.featGuideVoiceModelsClosed)&&void 0!==U&&U,this.desktopExtensionBadgeClosed=null!==(G=e.uiFlags.desktopExtensionBadgeClosed)&&void 0!==G&&G,this.desktopSidebarBadgeClosed=null!==(V=e.uiFlags.desktopSidebarBadgeClosed)&&void 0!==V&&V,this.desktopSidebarGuideShowed=null!==(W=e.uiFlags.desktopSidebarGuideShowed)&&void 0!==W&&W,this.webTranslationGuideClosed=null!==(H=e.uiFlags.webTranslationGuideClosed)&&void 0!==H&&H,this.aiPodcastGuideClosed=null!==(K=e.uiFlags.aiPodcastGuideClosed)&&void 0!==K&&K,this.webTranslationEngineTipClosed=null!==(j=e.uiFlags.webTranslationEngineTipClosed)&&void 0!==j&&j,this.chatFeedbackShowedTime=null!==(Q=e.uiFlags.chatFeedbackShowedTime)&&void 0!==Q?Q:null,this.onboardingSideEntryGuideShowed=null!==(z=e.uiFlags.onboardingSideEntryGuideShowed)&&void 0!==z&&z,this.socialMediaAdId=e.socialMediaAdId,this.onboardingSideEntryGuideShowed=null!==(Y=e.uiFlags.onboardingSideEntryGuideShowed)&&void 0!==Y&&Y,this.chatFeedbackShowedTime=null!==(J=e.uiFlags.chatFeedbackShowedTime)&&void 0!==J?J:null,this.chatWindowGuideShowed=null!==(Z=e.uiFlags.chatWindowGuideShowed)&&void 0!==Z&&Z,this.mainNavManuallyCollapsed=null!==(X=e.uiFlags.mainNavManuallyCollapsed)&&void 0!==X&&X,this.homeSidebarManuallyCollapsed=null!==($=e.uiFlags.homeSidebarManuallyCollapsed)&&void 0!==$&&$,this.showedImageDisplayDialogV1=null!==(ee=e.uiFlags.showedImageDisplayDialogV1)&&void 0!==ee&&ee,this.showedVideoFeatures=null!==(et=e.uiFlags.showedVideoFeatures)&&void 0!==et?et:[],this.showedImageFeatures=null!==(es=e.uiFlags.showedImageFeatures)&&void 0!==es?es:[],this.noMoreShowedImageDialog=null!==(ei=e.uiFlags.noMoreShowedImageDialog)&&void 0!==ei&&ei,this.noMoreShowedVideoDialog=null!==(en=e.uiFlags.noMoreShowedVideoDialog)&&void 0!==en&&en,this.siderYearlyGuide=null!==(er=e.uiFlags.siderYearlyGuide)&&void 0!==er?er:{},this.billingYearGuide=null!==(eo=e.uiFlags.billingYearGuide)&&void 0!==eo?eo:{}),void 0!==e.inviteBoostDisplayMode&&(this.inviteBoostDisplayMode=e.inviteBoostDisplayMode),void 0!==e.contentFontSize&&(this.contentFontSize=e.contentFontSize),void 0!==e.contentWidthMode&&(this.contentWidthMode=e.contentWidthMode),void 0!==e.chatContextModeV2&&(this.commonChatContextMode=e.chatContextModeV2),void 0!==e.chatPdfContextMode&&(this.chatPdfContextMode=e.chatPdfContextMode),void 0!==e.chatContextCrop&&(this.chatContextCrop=e.chatContextCrop),void 0!==e.chatContextLimit&&(this.chatContextLimit=e.chatContextLimit),void 0!==e.searchEnhanceConfig&&(this.searchEnhanceConfig=e.searchEnhanceConfig),void 0!==e.searchEnhanceDisabledHosts&&(this.searchEnhanceDisabledHosts=e.searchEnhanceDisabledHosts),void 0!==e.videoSummaryConfig&&(this.videoSummaryConfig=e.videoSummaryConfig),void 0!==e.videoSummaryDisabledHosts&&(this.videoSummaryDisabledHosts=e.videoSummaryDisabledHosts),void 0!==e.sidebarEntryBtnVisible&&(this.sidebarEntryBtnVisible=e.sidebarEntryBtnVisible),void 0!==e.sidebarEntryBtnDisabledHosts&&(this.sidebarEntryBtnDisabledHosts=e.sidebarEntryBtnDisabledHosts),void 0!==e.artistAspectRatio&&(this.artistAspectRatio=e.artistAspectRatio),void 0!==e.readingSummaryDisabledAll&&(this.readingSummaryDisabledAll=e.readingSummaryDisabledAll),void 0!==e.readingSummaryDisabledHosts&&(this.readingSummaryDisabledHosts=e.readingSummaryDisabledHosts),void 0!==e.readingSummaryDoNotChat&&(this.readingSummaryDoNotChat=e.readingSummaryDoNotChat),void 0!==e.memoYoutubeSummaryAutoSave&&(this.memoYoutubeSummaryAutoSave=e.memoYoutubeSummaryAutoSave),void 0!==e.memoReadingSummaryAutoSave&&(this.memoReadingSummaryAutoSave=e.memoReadingSummaryAutoSave),void 0!==e.memoDocChatSummaryAutoSave&&(this.memoDocChatSummaryAutoSave=e.memoDocChatSummaryAutoSave),void 0!==e.theme&&(this.theme=e.theme),void 0!==e.chromeSidePanelEnabled&&(this.rawChromeSidePanelEnabled=null!==(ea=e.chromeSidePanelEnabled)&&void 0!==ea?ea:null),void 0!==e.mainWindowStyle&&(this.mainWindowStyle=null!==(el=e.mainWindowStyle)&&void 0!==el?el:this.mainWindowStyle),void 0!==e.enableSslCertCheck&&(this.enableSslCertCheck=e.enableSslCertCheck),void 0!==e.followSystemProxy&&(this.followSystemProxy=e.followSystemProxy),void 0!==e.mainWindowNavKeyList&&(this.mainWindowNavKeyList=e.mainWindowNavKeyList||[]),void 0!==e.disabledNickNameGuide&&(this.disabledNickNameGuide=e.disabledNickNameGuide),void 0!==e.noticeVersion&&(this.noticeVersion=null!==(eu=e.noticeVersion)&&void 0!==eu?eu:null),void 0!==e.speechLang&&(this.speechLang=null!==(ed=e.speechLang)&&void 0!==ed?ed:null),void 0!==e.keyboardShortcutMap&&(this.keyboardShortcutMap=e.keyboardShortcutMap||{}),void 0!==e.upgradeVersion&&(this.upgradeVersion=null!==(ec=e.upgradeVersion)&&void 0!==ec?ec:null),void 0!==e.userJobTitle&&(this.userJobTitle=null!==(eh=e.userJobTitle)&&void 0!==eh?eh:null),void 0!==e.chatScrollStyle&&(this.chatScrollStyle=null!==(ep=e.chatScrollStyle)&&void 0!==ep?ep:this.chatScrollStyle),void 0!==e.chatHomeSuggestionVisible&&(this.chatHomeSuggestionVisible=null!==(em=e.chatHomeSuggestionVisible)&&void 0!==em?em:this.chatHomeSuggestionVisible),void 0!==e.compareModelsVisible&&(this.compareModelVisible=null!==(eg=e.compareModelsVisible)&&void 0!==eg?eg:this.compareModelVisible),void 0!==e.autoOptPromptHotKeyEnable&&(this.autoOptPromptHotKeyEnable=null!==(ey=e.autoOptPromptHotKeyEnable)&&void 0!==ey?ey:this.autoOptPromptHotKeyEnable),void 0!==e.memorySuggestionLastViewedAt&&(this.memorySuggestionLastViewedAt=null!==(eS=e.memorySuggestionLastViewedAt)&&void 0!==eS?eS:null),void 0!==e.enableCodeTools&&(this.enableCodeTools=null===(e_=e.enableCodeTools)||void 0===e_||e_),void 0!==e.codeToolsDisableHosts&&(this.codeToolsDisableHosts=null===(ef=e.codeToolsDisableHosts)||void 0===ef||ef),void 0!==e.imageToolModelList&&(this.imageToolModelList=null!==(ev=e.imageToolModelList)&&void 0!==ev?ev:[]),void 0!==e.showPdfScreenshotGuide&&(this.showPdfScreenshotGuide=e.showPdfScreenshotGuide),void 0!==e.chatNoticeClosedStatus&&(this.chatNoticeClosedStatus=e.chatNoticeClosedStatus),void 0!==e.showPdfFreeUserUpgradeDialog&&(this.showPdfFreeUserUpgradeDialog=e.showPdfFreeUserUpgradeDialog),void 0!==e.textToolEnabled&&(this.textToolEnabled=e.textToolEnabled),void 0!==e.textToolDisabledApps&&(this.textToolDisabledApps=e.textToolDisabledApps),void 0!==e.sidebarEnabled&&(this.sidebarEnabled=e.sidebarEnabled),void 0!==e.sidebarPin&&(this.sidebarPin=e.sidebarPin),void 0!==e.sidebarWindowPin&&(this.sidebarWindowPin=e.sidebarWindowPin),void 0!==e.sidebarDisplayPosition&&(this.sidebarDisplayPosition=e.sidebarDisplayPosition),void 0!==e.showFreeTranslateLimitTip&&(this.showFreeTranslateLimitTip=e.showFreeTranslateLimitTip),void 0!==e.pdfEnhanceToolbar&&(this.pdfEnhanceToolbar=e.pdfEnhanceToolbar),void 0!==e.showArxivTranslate&&(this.showArxivTranslate=e.showArxivTranslate),void 0!==e.equalsSignCommandEnabled&&(this.equalsSignCommandEnabled=e.equalsSignCommandEnabled),void 0!==e.equalsSignCommandActionDefaultKey&&(this.equalsSignCommandActionDefaultKey=e.equalsSignCommandActionDefaultKey),void 0!==e.equalsSignCommandActionKeys&&(this.equalsSignCommandActionKeys=e.equalsSignCommandActionKeys),void 0!==e.autoFavoriteActionTool&&(this.autoFavoriteActionTool=null===(eT=e.autoFavoriteActionTool)||void 0===eT||eT),void 0!==e.realtimeIntroduceShowed&&(this.realtimeIntroduceShowed=null!==(eb=e.realtimeIntroduceShowed)&&void 0!==eb&&eb),void 0!==e.globalScreenshotGuideShowed&&(this.globalScreenshotGuideShowed=null!==(eC=e.globalScreenshotGuideShowed)&&void 0!==eC&&eC),void 0!==e.customFormat&&(this.customFormat=null!==(eP=e.customFormat)&&void 0!==eP?eP:[]),void 0!==e.memoListType&&(this._memoListType=null!==(eA=e.memoListType)&&void 0!==eA?eA:"list"),void 0!==e.uvcsLastReportTimeMap&&(this.uvcsLastReportTimeMap=null!==(ew=e.uvcsLastReportTimeMap)&&void 0!==ew?ew:null),void 0!==e.sidebarConversationMode&&(this._sidebarConversationMode=e.sidebarConversationMode||null),void 0!==e.pinnedTools&&(this.pinnedTools=null!==(eE=e.pinnedTools)&&void 0!==eE?eE:this.pinnedTools),void 0!==e.chatHomeRecommendationVisible&&(this.chatHomeRecommendationVisible=null===(eR=e.chatHomeRecommendationVisible)||void 0===eR||eR),void 0!==e.imageOnboardingShowed&&(this.imageOnboardingShowed=e.imageOnboardingShowed||!1),void 0!==e.imageDetailBackShowed&&(this.imageDetailBackShowed=e.imageDetailBackShowed||!1),void 0!==e.generateImageModelShowed&&(this.generateImageModelShowed=e.generateImageModelShowed||!1),void 0!==e.generateVideoModelShowed&&(this.generateVideoModelShowed=e.generateVideoModelShowed||!1),void 0!==e.generateImageScenarioShowed&&(this.generateImageScenarioShowed=e.generateImageScenarioShowed||!1),void 0!==e.imageTemplateShowed&&(this.imageTemplateShowed=e.imageTemplateShowed||!1),void 0!==e.pinBotIds&&(this.pinBotIds=null!==(ek=e.pinBotIds)&&void 0!==ek?ek:[]),void 0!==e.saveToMemoForTwitterVisible&&(this.saveToMemoForTwitterVisible=null===(ex=e.saveToMemoForTwitterVisible)||void 0===ex||ex),void 0!==e.translationGlossaryEnabled&&(this.translationGlossaryEnabled=null===(eq=e.translationGlossaryEnabled)||void 0===eq||eq),void 0!==e.aiPodcastLastSelectLocale&&(this.aiPodcastLastSelectLocale=e.aiPodcastLastSelectLocale),void 0!==e.aiPodcastSampleAudioList&&(this.aiPodcastSampleAudioList=e.aiPodcastSampleAudioList||[])}),this._whenReady.resolve()}async loadConfigs(){var e,t,s,i,n,r,o,l,u,d,c,h,p,y,S,_,v,T,b,C,P,A,w,E,R,k,x,q,O,I,L,D,M,B,N,F,U,G,V,W,H,K,j,Q,z,Y,J,Z,X,$,ee,et,es,ei,en,er,eo,ea,el,eu,ed,ec,eh,ep,em,eg,ey,eS,e_,ef,ev,eT,eb,eC,eP,eA,ew,eE,eR,ek,ex,eq,eO,eI,eL,eD,eM,eB,eN,eF,eU,eG,eV,eW,eH,eK,ej,eQ,ez,eY,eJ,eZ,eX,e$,e0,e1,e2,e6,e4,e3,e5,e9,e8;this.initKeyboardShortcut();let e7=await a.ll.getAll();this.globalRespondLanguage=e7.globalRespondLanguage,this.chatWithPdfRespondLanguage="default_auto"===e7.chatWithPdfRespondLanguage?"auto":e7.chatWithPdfRespondLanguage,this.quickActionRespondLanguage="default_auto"===e7.quickActionRespondLanguage?"auto":e7.quickActionRespondLanguage,this.readingSummaryRespondLanguage=e7.readingSummaryRespondLanguage,this.githubSummaryEnableOption=e7.githubSummaryEnableOption,this.compareModelEnableOption=e7.compareModelEnableOption,this.composeLanguage=e7.composeLanguage,this.translationTargetLanguage=e7.translationTargetLanguage,this.quickActionTranslateLanguage=e7.quickActionTranslateLanguage,this.quickComposeRespondLanguage="default_auto"===e7.quickComposeRespondLanguage?"auto":e7.quickComposeRespondLanguage,this.searchRespondLanguage=e7.searchRespondLanguage,this.chatPresetPromptLanguage=e7.chatPresetPromptLanguage,this.gpt4Enabled=e7.gpt4Enabled,this.basicModelEnabled=e7.basicModelEnabled,this.baseModelKey=e7.baseModelKey,this.knowledgeSourceKey=e7.knowledgeSourceKey,this.imageModelKey=e7.imageModelKey,this.composeGpt4Enabled=e7.composeGpt4Enabled,this.quickActionGpt4Enabled=e7.quickActionGpt4Enabled,this.quickInputMemoDraft=null!==(e=e7.quickInputMemoDraft)&&void 0!==e?e:"",this.memoNoticeClosed=null!==(t=e7.memoNoticeClosed)&&void 0!==t&&t,this.searchProEnabled=e7.searchProEnabled,this.quickAskGpt4Enabled=e7.quickAskGpt4Enabled,this.quickAksWebAccessEnabled=e7.quickAskWebAccessEnabled,this.writingGpt4Enabled=e7.writingGpt4Enabled,this.quickActionEnableOption=e7.quickActionEnableOption,this.contextualToolImageEnableOption=e7.contextualToolImageEnableOption,this.contextualToolbarTriggerMode=e7.contextualToolbarTriggerMode,this.contextualToolbarTriggerShortcut=e7.contextualToolbarTriggerShortcut,this.contextualToolbarImageToolTriggerMode=e7.contextualToolbarImageToolTriggerMode,this.contextualToolbarImageToolTriggerShortcut=e7.contextualToolbarImageToolTriggerShortcut,this.imageTranslationLang=e7.imageTranslationLang,this.contentFontSize=e7.contentFontSize,this.contentWidthMode=e7.contentWidthMode,this.commonChatContextMode=e7.chatContextModeV2,this.chatPdfContextMode=e7.chatPdfContextMode,this.chatContextCrop=e7.chatContextCrop,this.chatContextLimit=e7.chatContextLimit,this.sidebarEntryBtnVisible=e7.sidebarEntryBtnVisible,this.sidebarEntryBtnDisabledHosts=e7.sidebarEntryBtnDisabledHosts,this.searchEnhanceConfig=e7.searchEnhanceConfig,this.searchEnhanceDisabledHosts=e7.searchEnhanceDisabledHosts,this.videoSummaryConfig=e7.videoSummaryConfig,this.videoSummaryDisabledHosts=e7.videoSummaryDisabledHosts,this.rawChromeSidePanelEnabled=null!==(s=e7.chromeSidePanelEnabled)&&void 0!==s?s:null,this.speechLang=null!==(i=e7.speechLang)&&void 0!==i?i:null,this.translationEngine=e7.translationEngine,this.translationScene=e7.translationScene,this.translationGlossaryEnabled=null===(n=e7.translationGlossaryEnabled)||void 0===n||n,this.aiPodcastLastSelectLocale=null!==(r=e7.aiPodcastLastSelectLocale)&&void 0!==r?r:null,this.aiPodcastSampleAudioList=null!==(o=e7.aiPodcastSampleAudioList)&&void 0!==o?o:[],this.sidebarEntryBtnPosition=e7.sidebarEntryBtnPosition,m.o.isWeb&&!f()?this.theme=g.Q2.Light:this.theme=e7.theme;let te=e7.uiFlags||{};this.readingEnhanceFirstShownAt=te.readingEnhanceFirstShownAt||null,this.unreadNotificationCount=null!==(l=te.unreadNotificationCount)&&void 0!==l?l:0,this.screenRecognitionFirstUsedAt=null!==(u=te.screenRecognitionFirstUsedAt)&&void 0!==u?u:null,this.youtubeSummaryShareTooltipClosed=null!==(d=te.youtubeSummaryShareTooltipClosed)&&void 0!==d&&d,this.chatInputResizedHeight=null!==(c=te.chatInputResizedHeight)&&void 0!==c?c:0,this.makeItMoreHowToUseDialogClosed=null!==(h=te.makeItMoreHowToUseDialogClosed)&&void 0!==h&&h,this.summaryPageDate=null!==(p=te.summaryPageDate)&&void 0!==p?p:null,this.proPlusPromotionShowed=null!==(y=te.proPlusPromotionShowed)&&void 0!==y&&y,this.webFavoriteGuideShowed=null!==(S=te.webFavoriteGuideShowed)&&void 0!==S&&S,this.pdfToolsGuideShowed=null!==(_=te.pdfToolsGuideShowed)&&void 0!==_&&_,this.pdfChatBookmarkGuideClosed=null!==(v=te.pdfChatBookmarkGuideClosed)&&void 0!==v&&v,this.docChatTranslateTipsShowed=null!==(T=te.docChatTranslateTipsShowed)&&void 0!==T&&T,this.searchEnhancePromotionClosedAt=null!==(b=te.searchEnhancePromotionClosedAt)&&void 0!==b?b:0,this.promotionalAdsCloseConfigs=null!==(C=te.promotionalAdsCloseConfigs)&&void 0!==C?C:{},this.unlimitedPromotionGuideClosed=null!==(P=te.unlimitedPromotionGuideClosed)&&void 0!==P&&P,this.highlightPinned=null===(A=te.highlightPinned)||void 0===A||A,this.unlimitedPromotionRewardsUnlockedTipClosed=null!==(w=te.unlimitedPromotionRewardsUnlockedTipClosed)&&void 0!==w&&w,this.isAdsUser=null!==(E=te.isAdsUser)&&void 0!==E&&E,this.grammarCheckGuideShowed=null!==(R=te.grammarCheckGuideShowed)&&void 0!==R&&R,this.grammarSessionNum=null!==(k=te.grammarSessionNum)&&void 0!==k?k:0,this.grammarLanguage=null!==(x=te.grammarLanguage)&&void 0!==x?x:"en-US",this.grammarAutoCheckNoticeShowed=null!==(q=te.grammarAutoCheckNoticeShowed)&&void 0!==q&&q,this.grammarErrorShowed=null!==(O=te.grammarErrorShowed)&&void 0!==O&&O,this.webPageMarkColor=null!==(I=te.webPageMarkColor)&&void 0!==I?I:"",this.webPageMarkCurrentId=null!==(L=te.webPageMarkCurrentId)&&void 0!==L?L:null,this.adChatCardShowedDate=null!==(D=te.adChatCardShowedDate)&&void 0!==D?D:null,this.chatSkillIdx=null!==(M=te.chatSkillIdx)&&void 0!==M?M:null,this.chatSkillResearchEnable=null!==(B=te.chatSkillResearchEnable)&&void 0!==B&&B,this.chatSkillTranslateHeaderClosed=null!==(N=te.chatSkillTranslateHeaderClosed)&&void 0!==N&&N,this.chatSkillWritingHeaderClosed=null!==(F=te.chatSkillWritingHeaderClosed)&&void 0!==F&&F,this.chatAppInstallNoticed=null!==(U=te.chatAppInstallNoticed)&&void 0!==U&&U,this.chatExpandResearchEnable=null!==(G=te.chatExpandResearchEnable)&&void 0!==G&&G,this.featGuideAllModelsClosed=null!==(V=te.featGuideAllModelsClosed)&&void 0!==V&&V,this.featGuideDownloadClosed=null!==(W=te.featGuideDownloadClosedV2)&&void 0!==W&&W,this.featGuideVoiceModelsClosed=null!==(H=te.featGuideVoiceModelsClosed)&&void 0!==H&&H,this.desktopExtensionBadgeClosed=null!==(K=te.desktopExtensionBadgeClosed)&&void 0!==K&&K,this.desktopSidebarBadgeClosed=null!==(j=te.desktopSidebarBadgeClosed)&&void 0!==j&&j,this.desktopSidebarGuideShowed=null!==(Q=te.desktopSidebarGuideShowed)&&void 0!==Q&&Q,this.webTranslationGuideClosed=null!==(z=te.webTranslationGuideClosed)&&void 0!==z&&z,this.aiPodcastGuideClosed=null!==(Y=te.aiPodcastGuideClosed)&&void 0!==Y&&Y,this.webTranslationEngineTipClosed=null!==(J=te.webTranslationEngineTipClosed)&&void 0!==J&&J,this.chatFeedbackShowedTime=null!==(Z=te.chatFeedbackShowedTime)&&void 0!==Z?Z:null,this.onboardingSideEntryGuideShowed=null!==(X=te.onboardingSideEntryGuideShowed)&&void 0!==X&&X,this.onboardingSideEntryGuideShowed=null!==($=te.onboardingSideEntryGuideShowed)&&void 0!==$&&$,this.chatFeedbackShowedTime=null!==(ee=te.chatFeedbackShowedTime)&&void 0!==ee?ee:null,this.chatWindowGuideShowed=null!==(et=te.chatWindowGuideShowed)&&void 0!==et&&et,this.mainNavManuallyCollapsed=null!==(es=e7.uiFlags.mainNavManuallyCollapsed)&&void 0!==es&&es,this.homeSidebarManuallyCollapsed=null!==(ei=e7.uiFlags.homeSidebarManuallyCollapsed)&&void 0!==ei&&ei,this.showedImageDisplayDialogV1=null!==(en=e7.uiFlags.showedImageDisplayDialogV1)&&void 0!==en&&en,this.showedVideoFeatures=null!==(er=e7.uiFlags.showedVideoFeatures)&&void 0!==er?er:[],this.showedImageFeatures=null!==(eo=e7.uiFlags.showedImageFeatures)&&void 0!==eo?eo:[],this.noMoreShowedImageDialog=null!==(ea=e7.uiFlags.noMoreShowedImageDialog)&&void 0!==ea&&ea,this.noMoreShowedVideoDialog=null!==(el=e7.uiFlags.noMoreShowedVideoDialog)&&void 0!==el&&el,this.siderYearlyGuide=null!==(eu=e7.uiFlags.siderYearlyGuide)&&void 0!==eu?eu:{},this.billingYearGuide=null!==(ed=e7.uiFlags.billingYearGuide)&&void 0!==ed?ed:{},this.socialMediaAdId=e7.socialMediaAdId,this.inviteBoostDisplayMode=e7.inviteBoostDisplayMode,this.artistAspectRatio=e7.artistAspectRatio,this.readingSummaryDisabledAll=e7.readingSummaryDisabledAll,this.readingSummaryDisabledHosts=e7.readingSummaryDisabledHosts,this.readingSummaryDoNotChat=e7.readingSummaryDoNotChat,this.memoYoutubeSummaryAutoSave=e7.memoYoutubeSummaryAutoSave,this.memoReadingSummaryAutoSave=e7.memoReadingSummaryAutoSave,this.memoDocChatSummaryAutoSave=e7.memoDocChatSummaryAutoSave,this.mainWindowStyle=null!==(ec=e7.mainWindowStyle)&&void 0!==ec?ec:this.mainWindowStyle,this.userJobTitle=null!==(eh=e7.userJobTitle)&&void 0!==eh?eh:null,this.chatScrollStyle=null!==(ep=e7.chatScrollStyle)&&void 0!==ep?ep:this.chatScrollStyle,this.chatHomeSuggestionVisible=null!==(em=e7.chatHomeSuggestionVisible)&&void 0!==em?em:this.chatHomeSuggestionVisible,this.compareModelVisible=null!==(eg=e7.compareModelsVisible)&&void 0!==eg?eg:this.compareModelVisible,this.autoOptPromptHotKeyEnable=null!==(ey=e7.autoOptPromptHotKeyEnable)&&void 0!==ey?ey:this.autoOptPromptHotKeyEnable,this.enableSslCertCheck=e7.enableSslCertCheck,this.followSystemProxy=e7.followSystemProxy,this.mainWindowNavKeyList=null!==(eS=e7.mainWindowNavKeyList)&&void 0!==eS?eS:[],this.disabledNickNameGuide=e7.disabledNickNameGuide,this.noticeVersion=null!==(e_=e7.noticeVersion)&&void 0!==e_?e_:null,this.keyboardShortcutMap=e7.keyboardShortcutMap||{},this.upgradeVersion=null!==(ef=e7.upgradeVersion)&&void 0!==ef?ef:null,this.memorySuggestionLastViewedAt=null!==(ev=e7.memorySuggestionLastViewedAt)&&void 0!==ev?ev:null,this.enableCodeTools=null===(eT=e7.enableCodeTools)||void 0===eT||eT,this.codeToolsDisableHosts=null!==(eb=e7.codeToolsDisableHosts)&&void 0!==eb?eb:[],this.closedRecommendationFeatureName=null!==(eC=e7.closedRecommendationFeatureName)&&void 0!==eC?eC:null,this.artifactAutoOpenDialog=null!==(eP=e7.artifactAutoOpenDialog)&&void 0!==eP?eP:this.artifactAutoOpenDialog,this.artifactWidgetsPosition=null!==(eA=e7.artifactWidgetsPosition)&&void 0!==eA?eA:[],this.showPdfScreenshotGuide=null===(ew=e7.showPdfScreenshotGuide)||void 0===ew||ew,this.chatNoticeClosedStatus=null!==(eE=e7.chatNoticeClosedStatus)&&void 0!==eE?eE:this.chatNoticeClosedStatus,this.showPdfFreeUserUpgradeDialog=null===(eR=e7.showPdfFreeUserUpgradeDialog)||void 0===eR||eR,this.textToolEnabled=null!==(ek=e7.textToolEnabled)&&void 0!==ek&&ek,this.textToolDisabledApps=null!==(ex=e7.textToolDisabledApps)&&void 0!==ex?ex:[],this.sidebarEnabled=null!==(eq=e7.sidebarEnabled)&&void 0!==eq&&eq,this.sidebarPin=null!==(eO=e7.sidebarPin)&&void 0!==eO?eO:null,this.sidebarWindowPin=null!==(eI=e7.sidebarWindowPin)&&void 0!==eI?eI:null,this.sidebarDisplayPosition=null!==(eL=e7.sidebarDisplayPosition)&&void 0!==eL?eL:null,this.showFreeTranslateLimitTip=null===(eD=e7.showFreeTranslateLimitTip)||void 0===eD||eD,this.pdfEnhanceToolbar=null===(eM=e7.pdfEnhanceToolbar)||void 0===eM||eM,this.showArxivTranslate=null===(eB=e7.showArxivTranslate)||void 0===eB||eB,this.equalsSignCommandEnabled=null!==(eN=e7.equalsSignCommandEnabled)&&void 0!==eN&&eN,this.equalsSignCommandActionDefaultKey=null!==(eF=e7.equalsSignCommandActionDefaultKey)&&void 0!==eF?eF:null,this.equalsSignCommandActionKeys=null!==(eU=e7.equalsSignCommandActionKeys)&&void 0!==eU?eU:null,this.autoFavoriteActionTool=null===(eG=e7.autoFavoriteActionTool)||void 0===eG||eG,this.imageToolModelList=null!==(eV=e7.imageToolModelList)&&void 0!==eV?eV:[],this.realtimeIntroduceShowed=null!==(eW=e7.realtimeIntroduceShowed)&&void 0!==eW&&eW,this.globalScreenshotGuideShowed=null!==(eH=e7.globalScreenshotGuideShowed)&&void 0!==eH&&eH,this.customFormat=null!==(eK=e7.customFormat)&&void 0!==eK?eK:[],this._memoListType=null!==(ej=e7.memoListType)&&void 0!==ej?ej:"list",this.uvcsLastReportTimeMap=null!==(eQ=e7.uvcsLastReportTimeMap)&&void 0!==eQ?eQ:null,this._sidebarConversationMode=null!==(ez=e7.sidebarConversationMode)&&void 0!==ez?ez:null,this.pinnedTools=null!==(eY=e7.pinnedTools)&&void 0!==eY?eY:this.pinnedTools,this.chatHomeRecommendationVisible=null===(eJ=e7.chatHomeRecommendationVisible)||void 0===eJ||eJ,this.imageOnboardingShowed=null!==(eZ=e7.imageOnboardingShowed)&&void 0!==eZ&&eZ,this.imageDetailBackShowed=null!==(eX=e7.imageDetailBackShowed)&&void 0!==eX&&eX,this.generateImageModelShowed=null!==(e$=e7.generateImageModelShowed)&&void 0!==e$&&e$,this.generateVideoModelShowed=null!==(e0=e7.generateVideoModelShowed)&&void 0!==e0&&e0,this.generateImageScenarioShowed=null!==(e1=e7.generateImageScenarioShowed)&&void 0!==e1&&e1,this.imageTemplateShowed=null!==(e2=e7.imageTemplateShowed)&&void 0!==e2&&e2,this.socialMediaPinedTemplate=null!==(e6=e7.socialMediaPinedTemplate)&&void 0!==e6?e6:null,this.emailPinedTemplate=null!==(e4=e7.emailPinedTemplate)&&void 0!==e4?e4:null,this.pinBotIds=null!==(e3=e7.pinBotIds)&&void 0!==e3?e3:[],this.saveToMemoForTwitterVisible=null===(e5=e7.saveToMemoForTwitterVisible)||void 0===e5||e5,this.simpleMode=null!==(e9=e7.simpleMode)&&void 0!==e9&&e9,this.memoryResponsePreferenceUpdatedTime=null!==(e8=e7.memoryResponsePreferenceUpdatedTime)&&void 0!==e8?e8:null,this.inited=!0}async initKeyboardShortcut(){if(m.o.isExtension&&((await a.ll.getCommands()).forEach(e=>{"_execute_action"===e.name&&e.shortcut&&(this.keyboardShortcut=e.shortcut),"run-monica-on-new-tab"===e.name&&e.shortcut&&(this.openChatTabPageKeyboardShortcut=e.shortcut)}),!this.keyboardShortcut)){let e=p.m.getDefaultShortcutKey().toUpperCase();this.softKeyboardShortcutsEnabled=!0,this.keyboardShortcut="OSX"===p.m.getOsType()?"⌃".concat(e):"Ctrl+".concat(e)}}async setKeyboardShortcut(e,t){await a.ll.update({keyboardShortcutMap:{...this.keyboardShortcutMap,[e]:t}})}getKeyBoardShortcut(e){let t=this.keyboardShortcutMap[e];return t||(null===t?"":"switchBot"===e?"mod+b":"quickAsk"===e?"mod+j":"takeScreenshot"===e?"mod+shift+1":"newChat"===e?"mod+k":"incognitoChat"===e?"mod+shift+k":"reading"===e?"mod+shift+2":"chatSend"===e?"enter":"")}setChatSendHotKeys(e){this.setKeyboardShortcut("chatSend",e)}getChatSendHotKeys(){let e=this.getKeyBoardShortcut("chatSend");return e===l.e.KeyboardChatSendType.EnterWithCtrl?["mod+enter","ctrl+enter"]:e===l.e.KeyboardChatSendType.EnterWithAlt?["option+enter","alt+enter"]:["enter"]}getChatSendHotKeysLabel(e,t){let s="OSX"===p.m.getOsType(),i="";if(e===l.e.KeyboardChatSendType.EnterWithCtrl&&(i=s?y.t.prettifyHotkey("CommandOrControl"):y.t.prettifyHotkey("Control")),e===l.e.KeyboardChatSendType.EnterWithAlt&&(i=y.t.prettifyHotkey("alt")),t)return i?"".concat(i," + Enter"):"Enter";let n=y.t.prettifyHotkey("enter");return i?s?"".concat(i).concat(n):"".concat(i," + ").concat(n):n}withShortcutLabel(e,t){let s=this.getKeyBoardShortcut(t);return s?"".concat(e," (").concat(y.t.prettifyHotkey(s),")"):e}isShortCutTriggered(e,t){let s=b.getKeyBoardShortcut(t);return!!s&&y.t.isHotkey(e,[s])}shouldEnable(e,t){let s=this[t].disabledHosts[e];return!this[t].disabledAll&&!s}toggleFeatureOpenStatus(e,t,s,i){let n=(0,_.ZN)(this[e]);if("thisPage"===t){let e=i||window.location.host;s?n.disabledHosts[e]=!0:delete n.disabledHosts[e]}else n.disabledAll=s;a.ll.update({[e]:n})}setSpeechLang(e){a.ll.set("speechLang",e)}setQuickActionDisableValue(e,t,s){let i=(0,_.ZN)(this.quickActionEnableOption);if("thisPage"===e){let e=s||window.location.host;t?i.disabledHosts[e]=!0:delete i.disabledHosts[e]}else i.disabledAll=t;a.ll.update({quickActionEnableOption:i})}async clearToolsDisabledHosts(){await a.ll.update({quickActionEnableOption:{disabledHosts:{},disabledAll:this.quickActionEnableOption.disabledAll}}),u.v.clearDisabledHosts()}async setGpt4Enabled(e){return e===this.gpt4Enabled?null:a.ll.set("gpt4Enabled",e)}async setBasicModelEnabled(e){return e===this.basicModelEnabled?null:a.ll.set("basicModelEnabled",e)}async setBaseModelKey(e){return e===this.baseModelKey?null:a.ll.set("baseModelKey",e)}setImageModelKey(e){a.ll.set("imageModelKey",e)}setKnowledgeSourceKey(e){a.ll.set("knowledgeSourceKey",e)}setComposeGpt4Enabled(e){a.ll.set("composeGpt4Enabled",e)}setQuickInputMemoDraft(e){a.ll.set("quickInputMemoDraft",e)}makeMemoNoticeClosed(){a.ll.set("memoNoticeClosed",!0)}setSearchEnhanceTrigger(e){a.ll.setSearchEnhanceConfigs("trigger",e)}setSearchEnhanceAnswerType(e){a.ll.setSearchEnhanceConfigs("answerType",e)}setInviteBoostDisplayMode(e){a.ll.update({inviteBoostDisplayMode:e}),e===l.e.InviteBoostDisplayMode.Normal&&d.M.createUserBehaviorEvent({eventName:"expand_invite_panel"})}setArtistAspectRatio(e){a.ll.update({artistAspectRatio:e})}setReadingSummaryDisableValue(e,t,s){if("thisSite"===e){let e=(0,_.ZN)(this.readingSummaryDisabledHosts),i=s||window.location.host;t?e[i]=!0:delete e[i],a.ll.update({readingSummaryDisabledHosts:e})}else a.ll.update({readingSummaryDisabledAll:t})}setMemoAutoSaveConfig(e,t){a.ll.update({[e]:t})}setSearchEnhanceDisableValue(e,t){return this.setDisabledHostsValue("searchEnhanceDisabledHosts",e,t)}setVideoSummaryDisableValue(e,t){return this.setDisabledHostsValue("videoSummaryDisabledHosts",e,t)}setSidebarEntryBtnDisableValue(e,t){return this.setDisabledHostsValue("sidebarEntryBtnDisabledHosts",e,t)}setGlobalRespondLanguage(e){a.ll.update({globalRespondLanguage:e})}setChatRespondLanguage(e){this.respondLanguage=e}setChatWithPdfRespondLanguage(e){a.ll.update({chatWithPdfRespondLanguage:e})}async setQuickActionRespondLanguage(e){await a.ll.update({quickActionRespondLanguage:e})}async setQuickActionTranslateLanguage(e){this.quickActionTranslateLanguage=e,await a.ll.update({quickActionTranslateLanguage:e})}async setImageToolModelList(e){await a.ll.update({imageToolModelList:e})}setReadingSummaryRespondLanguage(e){a.ll.update({readingSummaryRespondLanguage:e})}setComposeRespondLanguage(e){a.ll.update({composeLanguage:e})}async setTranslationTargetRespondLanguage(e){await a.ll.update({translationTargetLanguage:e})}setQuickComposeRespondLanguage(e){a.ll.update({quickComposeRespondLanguage:e})}setReadingSummaryDoNotChat(e){a.ll.update({readingSummaryDoNotChat:e})}setContextualToolbarTriggerMode(e){"manual"===e&&a.ll.getUiFlag("firstSwitchContextualToolModeToManual").then(async e=>{e||(await this.clearToolsDisabledHosts(),a.ll.setUiFlag("firstSwitchContextualToolModeToManual",!0))}),a.ll.update({contextualToolbarTriggerMode:e})}setContextualToolbarImageToolTriggerMode(e){"manual"===e&&a.ll.getUiFlag("firstSwitchContextualToolImageModeToManual").then(async e=>{e||(await a.ll.update({contextualToolImageEnableOption:{disabledHosts:{},disabledAll:this.contextualToolImageEnableOption.disabledAll}}),a.ll.setUiFlag("firstSwitchContextualToolImageModeToManual",!0))}),a.ll.update({contextualToolbarImageToolTriggerMode:e})}setContextualToolbarTriggerShortcut(e){a.ll.update({contextualToolbarTriggerShortcut:e})}setTextToolEnabled(e){a.ll.set("textToolEnabled",e)}setEqualsSignCommandEnabled(e){a.ll.set("equalsSignCommandEnabled",e)}async updateSummaryPageDate(e){a.ll.setUiFlag("summaryPageDate",e)}async updateShowMonicaSearchTips(e){a.ll.setUiFlag("showMonicaSearchTips",e)}makeProPlusPromotionShowed(){a.ll.setUiFlag("proPlusPromotionShowed",!0)}makeWebFavoriteGuideShowed(){a.ll.setUiFlag("webFavoriteGuideShowed",!0),this.webFavoriteGuideShowed=!0}updatePromotionalAdsCloseConfigs(e,t){let s={...this.promotionalAdsCloseConfigs,[e]:t};a.ll.setUiFlag("promotionalAdsCloseConfigs",s)}setHighlightPinned(e){a.ll.setUiFlag("highlightPinned",e)}updateUnlimitedPromotionRewardsUnlockedTipClosed(e){a.ll.setUiFlag("unlimitedPromotionRewardsUnlockedTipClosed",e)}markPdfToolsGuideShowed(){a.ll.setUiFlag("pdfToolsGuideShowed",!0)}makeGrammarCheckGuideShowed(){a.ll.setUiFlag("grammarCheckGuideShowed",!0)}makeChatAppInstallNoticed(){a.ll.setUiFlag("chatAppInstallNoticed",!0)}setGrammarLanguage(e){a.ll.setUiFlag("grammarLanguage",e)}markGrammarAutoCheckNoticeShowed(){a.ll.setUiFlag("grammarAutoCheckNoticeShowed",!0)}makeGrammarErrorShowed(){a.ll.setUiFlag("grammarErrorShowed",!0)}increaseGrammarSessionNum(){a.ll.setUiFlag("grammarSessionNum",this.grammarSessionNum+1)}setWebPageMarkColor(e){a.ll.setUiFlag("webPageMarkColor",e)}setWebPageMarkCurrentId(e){a.ll.setUiFlag("webPageMarkCurrentId",e)}markSearchEnhancePromotionClosedTime(){a.ll.setUiFlag("searchEnhancePromotionClosedAt",Date.now())}setShowFreeTranslateLimitTip(e){a.ll.update({showFreeTranslateLimitTip:e})}async closeChatNotice(e){let t=this.chatNoticeClosedStatus||{};t[e]=!0,await a.ll.set("chatNoticeClosedStatus",(0,_.ZN)(t))}async setChatContextLimit(e){this.chatContextLimit=e,await a.ll.set("chatContextLimit",e)}async setChatContextCrop(e){this.chatContextCrop=e,await a.ll.set("chatContextCrop",e)}addTextToolDisabledApp(e){let t=this.textToolDisabledApps;t.find(t=>t.id===e.id)||(t.push(e),a.ll.set("textToolDisabledApps",t))}deleteTextToolDisabledApp(e){let t=this.textToolDisabledApps,s=t.findIndex(t=>t.id===e.id);-1!==s&&(t.splice(s,1),a.ll.set("textToolDisabledApps",t))}async setRealtimeIntroduceShowed(e){await a.ll.set("realtimeIntroduceShowed",e)}async setGlobalScreenshotGuideShowed(e){await a.ll.set("globalScreenshotGuideShowed",e)}async setChatWindowGuideShowed(e){await a.ll.setUiFlag("chatWindowGuideShowed",e)}addCustomFormat(e){let t={id:p.m.genId(),name:e};this.customFormat.push(t),a.ll.set("customFormat",this.customFormat)}async deleteCustomFormat(e){let t=this.customFormat.flatMap(t=>t.id===e?[]:[t]);this.customFormat=t,await a.ll.set("customFormat",this.customFormat)}setIncognitoMode(e){this.isIncognitoMode=e}setImageOnboardingShowed(e){this.imageOnboardingShowed=e,a.ll.set("imageOnboardingShowed",e)}setImageDetailBackShowed(e){this.imageDetailBackShowed=e,a.ll.set("imageDetailBackShowed",e)}setGenerateImageModelShowed(e){this.generateImageModelShowed=e,a.ll.set("generateImageModelShowed",e)}setGenerateVideoModelShowed(e){this.generateVideoModelShowed=e,a.ll.set("generateVideoModelShowed",e)}setGenerateImageScenarioShowed(e){this.generateImageScenarioShowed=e,a.ll.set("generateImageScenarioShowed",e)}setImageTemplateShowed(e){this.imageTemplateShowed=e,a.ll.set("imageTemplateShowed",e)}setTranslationGlossaryEnabled(e){a.ll.set("translationGlossaryEnabled",e)}setAiPodcastLastLocale(e){a.ll.set("aiPodcastLastSelectLocale",e)}setAiPodcastAudioSampleList(e){a.ll.set("aiPodcastSampleAudioList",e)}setDisabledHostsValue(e,t,s){let i=(0,_.ZN)(this[e]),n=s||window.location.host;t?i[n]=!0:delete i[n],a.ll.update({[e]:i})}findSpeechLang(e){for(let t of v.wL){let[s,...i]=t;for(let t of i)if(h.q.compareLocale(e,t[0]))return i[0][0]}return"en-US"}constructor(){(0,i._)(this,"globalRespondLanguage",null),(0,i._)(this,"respondLanguage","auto"),(0,i._)(this,"chatWithPdfRespondLanguage",null),(0,i._)(this,"quickActionRespondLanguage",null),(0,i._)(this,"readingSummaryRespondLanguage",null),(0,i._)(this,"githubSummaryEnableOption",{disabledAll:!1,disabledHosts:{}}),(0,i._)(this,"compareModelEnableOption",{disabledAll:!1,disabledHosts:{}}),(0,i._)(this,"composeLanguage",null),(0,i._)(this,"quickComposeRespondLanguage",null),(0,i._)(this,"searchRespondLanguage",null),(0,i._)(this,"translationTargetLanguage",null),(0,i._)(this,"quickActionTranslateLanguage",null),(0,i._)(this,"chatPresetPromptLanguage",null),(0,i._)(this,"gpt4Enabled",!1),(0,i._)(this,"basicModelEnabled",null),(0,i._)(this,"baseModelKey",null),(0,i._)(this,"knowledgeSourceKey",null),(0,i._)(this,"imageModelKey",null),(0,i._)(this,"composeGpt4Enabled",!1),(0,i._)(this,"quickInputMemoDraft",""),(0,i._)(this,"memoNoticeClosed",!1),(0,i._)(this,"quickActionGpt4Enabled",!1),(0,i._)(this,"quickAskGpt4Enabled",!1),(0,i._)(this,"quickAksWebAccessEnabled",null),(0,i._)(this,"writingGpt4Enabled",!1),(0,i._)(this,"searchProEnabled",!1),(0,i._)(this,"disabledMonicaChatSkills",{memory:!0}),(0,i._)(this,"quickActionEnableOption",{disabledAll:!1,disabledHosts:{}}),(0,i._)(this,"contextualToolImageEnableOption",{disabledAll:!1,disabledHosts:{}}),(0,i._)(this,"readingEnhanceFirstShownAt",null),(0,i._)(this,"inviteBoostDisplayMode",null),(0,i._)(this,"permissionGranted",!1),(0,i._)(this,"speechLang",null),(0,i._)(this,"contentFontSize",g.Cd.Normal),(0,i._)(this,"contentWidthMode",g.Ni.MaxWidth),(0,i._)(this,"commonChatContextMode",g.p5.Auto),(0,i._)(this,"chatPdfContextMode",g.p5.Auto),(0,i._)(this,"chatContextCrop",g.vH.NoLimit),(0,i._)(this,"chatContextLimit",null),(0,i._)(this,"softKeyboardShortcutsEnabled",!1),(0,i._)(this,"keyboardShortcut",""),(0,i._)(this,"openChatTabPageKeyboardShortcut",""),(0,i._)(this,"searchEnhanceConfig",null),(0,i._)(this,"searchEnhanceDisabledHosts",{}),(0,i._)(this,"videoSummaryConfig",null),(0,i._)(this,"videoSummaryDisabledHosts",{}),(0,i._)(this,"sidebarEntryBtnVisible",!0),(0,i._)(this,"sidebarEntryBtnDisabledHosts",{}),(0,i._)(this,"highlightPinned",!0),(0,i._)(this,"artistAspectRatio",null),(0,i._)(this,"readingSummaryDisabledAll",!1),(0,i._)(this,"readingSummaryDisabledHosts",{}),(0,i._)(this,"readingSummaryDoNotChat",!1),(0,i._)(this,"unreadNotificationCount",0),(0,i._)(this,"memoYoutubeSummaryAutoSave",!0),(0,i._)(this,"memoReadingSummaryAutoSave",!0),(0,i._)(this,"memoDocChatSummaryAutoSave",!0),(0,i._)(this,"rawChromeSidePanelEnabled",null),(0,i._)(this,"mainWindowStyle","new"),(0,i._)(this,"screenRecognitionFirstUsedAt",null),(0,i._)(this,"youtubeSummaryShareTooltipClosed",!1),(0,i._)(this,"pdfToolsGuideShowed",!0),(0,i._)(this,"sidebarEntryBtnPosition",null),(0,i._)(this,"contextualToolbarTriggerMode",null),(0,i._)(this,"contextualToolbarImageToolTriggerMode",null),(0,i._)(this,"contextualToolbarTriggerShortcut",null),(0,i._)(this,"contextualToolbarImageToolTriggerShortcut",null),(0,i._)(this,"imageTranslationLang",null),(0,i._)(this,"contextualToolbarClosedTimes",0),(0,i._)(this,"contextualToolbarLastClosedAt",0),(0,i._)(this,"contextualToolbarKeepReminderClosed",!0),(0,i._)(this,"contextualToolbarDisableReminderClosed",!0),(0,i._)(this,"makeItMoreHowToUseDialogClosed",!1),(0,i._)(this,"chatInputResizedHeight",0),(0,i._)(this,"chatInputHasResized",!1),(0,i._)(this,"heightResizedWithinOneHundredMilliseconds",!1),(0,i._)(this,"enableSslCertCheck",!0),(0,i._)(this,"followSystemProxy",!0),(0,i._)(this,"mainWindowNavKeyList",[]),(0,i._)(this,"disabledNickNameGuide",null),(0,i._)(this,"noticeVersion",null),(0,i._)(this,"summaryPageDate",null),(0,i._)(this,"proPlusPromotionShowed",!0),(0,i._)(this,"webFavoriteGuideShowed",!1),(0,i._)(this,"textToolEnabled",!1),(0,i._)(this,"textToolDisabledApps",[]),(0,i._)(this,"sidebarEnabled",!1),(0,i._)(this,"sidebarPin",null),(0,i._)(this,"sidebarWindowPin",null),(0,i._)(this,"sidebarDisplayPosition",null),(0,i._)(this,"grammarCheckGuideShowed",!0),(0,i._)(this,"grammarLanguage","en-US"),(0,i._)(this,"grammarAutoCheckNoticeShowed",!1),(0,i._)(this,"grammarErrorShowed",!0),(0,i._)(this,"grammarSessionNum",0),(0,i._)(this,"socialMediaPinedTemplate",null),(0,i._)(this,"emailPinedTemplate",null),(0,i._)(this,"promotionalAdsCloseConfigs",{}),(0,i._)(this,"unlimitedPromotionGuideClosed",!0),(0,i._)(this,"unlimitedPromotionRewardsUnlockedTipClosed",!0),(0,i._)(this,"isAdsUser",null),(0,i._)(this,"upgradeVersion",null),(0,i._)(this,"pdfChatBookmarkGuideClosed",!1),(0,i._)(this,"docChatTranslateTipsShowed",!1),(0,i._)(this,"userJobTitle",null),(0,i._)(this,"adChatCardShowedDate",null),(0,i._)(this,"searchEnhancePromotionClosedAt",0),(0,i._)(this,"chatScrollStyle","toLastQuestion"),(0,i._)(this,"chatHomeSuggestionVisible",!0),(0,i._)(this,"compareModelVisible",!0),(0,i._)(this,"autoOptPromptHotKeyEnable",!0),(0,i._)(this,"webPageMarkColor",null),(0,i._)(this,"webPageMarkCurrentId",null),(0,i._)(this,"theme",g.Q2.Auto),(0,i._)(this,"inited",!1),(0,i._)(this,"keyboardShortcutMap",{}),(0,i._)(this,"monicaSearchGuideEntryShow",!1),(0,i._)(this,"memorySuggestionLastViewedAt",null),(0,i._)(this,"enableCodeTools",!0),(0,i._)(this,"codeToolsDisableHosts",[]),(0,i._)(this,"imageToolModelList",[]),(0,i._)(this,"chatSkillIdx",null),(0,i._)(this,"chatSkillResearchEnable",!1),(0,i._)(this,"chatSkillTranslateHeaderClosed",!1),(0,i._)(this,"chatSkillWritingHeaderClosed",!1),(0,i._)(this,"chatAppInstallNoticed",!1),(0,i._)(this,"chatExpandResearchEnable",!1),(0,i._)(this,"closedRecommendationFeatureName",null),(0,i._)(this,"artifactAutoOpenDialog",!0),(0,i._)(this,"artifactWidgetsPosition",[]),(0,i._)(this,"chatNoticeClosedStatus",{}),(0,i._)(this,"showPdfScreenshotGuide",!0),(0,i._)(this,"showPdfFreeUserUpgradeDialog",!0),(0,i._)(this,"showFreeTranslateLimitTip",!0),(0,i._)(this,"pdfEnhanceToolbar",!0),(0,i._)(this,"showArxivTranslate",!0),(0,i._)(this,"equalsSignCommandEnabled",!1),(0,i._)(this,"equalsSignCommandActionDefaultKey",null),(0,i._)(this,"equalsSignCommandActionKeys",null),(0,i._)(this,"autoFavoriteActionTool",!0),(0,i._)(this,"featGuideAllModelsClosed",!1),(0,i._)(this,"featGuideDownloadClosed",!1),(0,i._)(this,"featGuideVoiceModelsClosed",!1),(0,i._)(this,"desktopExtensionBadgeClosed",!1),(0,i._)(this,"desktopSidebarBadgeClosed",!1),(0,i._)(this,"desktopSidebarGuideShowed",!1),(0,i._)(this,"translationEngine",null),(0,i._)(this,"translationScene",null),(0,i._)(this,"webTranslationGuideClosed",!1),(0,i._)(this,"aiPodcastGuideClosed",!1),(0,i._)(this,"webTranslationEngineTipClosed",!1),(0,i._)(this,"chatFeedbackShowedTime",null),(0,i._)(this,"translationGlossaryEnabled",!0),(0,i._)(this,"aiPodcastLastSelectLocale",null),(0,i._)(this,"aiPodcastSampleAudioList",[]),(0,i._)(this,"customFormat",[]),(0,i._)(this,"onboardingSideEntryGuideShowed",!1),(0,i._)(this,"socialMediaAdId",void 0),(0,i._)(this,"realtimeIntroduceShowed",!1),(0,i._)(this,"chatWindowGuideShowed",!1),(0,i._)(this,"globalScreenshotGuideShowed",!1),(0,i._)(this,"isIncognitoMode",!1),(0,i._)(this,"_memoListType","list"),(0,i._)(this,"simpleMode",!1),(0,i._)(this,"uvcsLastReportTimeMap",null),(0,i._)(this,"_sidebarConversationMode",null),(0,i._)(this,"pinnedTools",null),(0,i._)(this,"chatHomeRecommendationVisible",!0),(0,i._)(this,"mainNavManuallyCollapsed",!1),(0,i._)(this,"homeSidebarManuallyCollapsed",!1),(0,i._)(this,"imageOnboardingShowed",!1),(0,i._)(this,"imageDetailBackShowed",!1),(0,i._)(this,"imageTemplateShowed",!1),(0,i._)(this,"generateImageModelShowed",!1),(0,i._)(this,"generateVideoModelShowed",!1),(0,i._)(this,"generateImageScenarioShowed",!1),(0,i._)(this,"showedImageDisplayDialogV1",!1),(0,i._)(this,"showedVideoFeatures",[]),(0,i._)(this,"showedImageFeatures",[]),(0,i._)(this,"noMoreShowedImageDialog",!1),(0,i._)(this,"noMoreShowedVideoDialog",!1),(0,i._)(this,"pinBotIds",[]),(0,i._)(this,"saveToMemoForTwitterVisible",!0),(0,i._)(this,"siderYearlyGuide",{}),(0,i._)(this,"billingYearGuide",{}),(0,i._)(this,"memoryResponsePreferenceUpdatedTime",null),(0,i._)(this,"_whenReady",new S.B),(0,_.rC)(this)}}(0,n.gn)([r.SB],T.prototype,"globalRespondLanguage",void 0),(0,n.gn)([r.SB],T.prototype,"respondLanguage",void 0),(0,n.gn)([r.SB],T.prototype,"chatWithPdfRespondLanguage",void 0),(0,n.gn)([r.SB],T.prototype,"quickActionRespondLanguage",void 0),(0,n.gn)([r.SB],T.prototype,"readingSummaryRespondLanguage",void 0),(0,n.gn)([r.SB],T.prototype,"githubSummaryEnableOption",void 0),(0,n.gn)([r.SB],T.prototype,"compareModelEnableOption",void 0),(0,n.gn)([r.SB],T.prototype,"composeLanguage",void 0),(0,n.gn)([r.SB],T.prototype,"quickComposeRespondLanguage",void 0),(0,n.gn)([r.SB],T.prototype,"searchRespondLanguage",void 0),(0,n.gn)([r.SB],T.prototype,"translationTargetLanguage",void 0),(0,n.gn)([r.SB],T.prototype,"quickActionTranslateLanguage",void 0),(0,n.gn)([r.SB],T.prototype,"chatPresetPromptLanguage",void 0),(0,n.gn)([r.SB],T.prototype,"gpt4Enabled",void 0),(0,n.gn)([r.SB],T.prototype,"basicModelEnabled",void 0),(0,n.gn)([r.SB],T.prototype,"baseModelKey",void 0),(0,n.gn)([r.SB],T.prototype,"knowledgeSourceKey",void 0),(0,n.gn)([r.SB],T.prototype,"imageModelKey",void 0),(0,n.gn)([r.SB],T.prototype,"composeGpt4Enabled",void 0),(0,n.gn)([r.SB],T.prototype,"quickInputMemoDraft",void 0),(0,n.gn)([r.SB],T.prototype,"memoNoticeClosed",void 0),(0,n.gn)([r.SB],T.prototype,"quickActionGpt4Enabled",void 0),(0,n.gn)([r.SB],T.prototype,"quickAskGpt4Enabled",void 0),(0,n.gn)([r.SB],T.prototype,"quickAksWebAccessEnabled",void 0),(0,n.gn)([r.SB],T.prototype,"writingGpt4Enabled",void 0),(0,n.gn)([r.SB],T.prototype,"searchProEnabled",void 0),(0,n.gn)([r.SB],T.prototype,"disabledMonicaChatSkills",void 0),(0,n.gn)([r.SB],T.prototype,"quickActionEnableOption",void 0),(0,n.gn)([r.SB],T.prototype,"contextualToolImageEnableOption",void 0),(0,n.gn)([r.SB],T.prototype,"readingEnhanceFirstShownAt",void 0),(0,n.gn)([r.SB],T.prototype,"inviteBoostDisplayMode",void 0),(0,n.gn)([r.SB],T.prototype,"permissionGranted",void 0),(0,n.gn)([r.SB],T.prototype,"speechLang",void 0),(0,n.gn)([r.SB],T.prototype,"contentFontSize",void 0),(0,n.gn)([r.SB],T.prototype,"contentWidthMode",void 0),(0,n.gn)([r.SB],T.prototype,"commonChatContextMode",void 0),(0,n.gn)([r.SB],T.prototype,"chatPdfContextMode",void 0),(0,n.gn)([r.SB],T.prototype,"chatContextCrop",void 0),(0,n.gn)([r.SB],T.prototype,"chatContextLimit",void 0),(0,n.gn)([r.SB],T.prototype,"softKeyboardShortcutsEnabled",void 0),(0,n.gn)([r.SB],T.prototype,"keyboardShortcut",void 0),(0,n.gn)([r.SB],T.prototype,"openChatTabPageKeyboardShortcut",void 0),(0,n.gn)([r.SB],T.prototype,"searchEnhanceConfig",void 0),(0,n.gn)([r.SB],T.prototype,"searchEnhanceDisabledHosts",void 0),(0,n.gn)([r.SB],T.prototype,"videoSummaryConfig",void 0),(0,n.gn)([r.SB],T.prototype,"videoSummaryDisabledHosts",void 0),(0,n.gn)([r.SB],T.prototype,"sidebarEntryBtnVisible",void 0),(0,n.gn)([r.SB],T.prototype,"sidebarEntryBtnDisabledHosts",void 0),(0,n.gn)([r.SB],T.prototype,"highlightPinned",void 0),(0,n.gn)([r.SB],T.prototype,"artistAspectRatio",void 0),(0,n.gn)([r.SB],T.prototype,"readingSummaryDisabledAll",void 0),(0,n.gn)([r.SB],T.prototype,"readingSummaryDisabledHosts",void 0),(0,n.gn)([r.SB],T.prototype,"readingSummaryDoNotChat",void 0),(0,n.gn)([r.SB],T.prototype,"unreadNotificationCount",void 0),(0,n.gn)([r.SB],T.prototype,"memoYoutubeSummaryAutoSave",void 0),(0,n.gn)([r.SB],T.prototype,"memoReadingSummaryAutoSave",void 0),(0,n.gn)([r.SB],T.prototype,"memoDocChatSummaryAutoSave",void 0),(0,n.gn)([r.SB],T.prototype,"rawChromeSidePanelEnabled",void 0),(0,n.gn)([r.SB],T.prototype,"mainWindowStyle",void 0),(0,n.gn)([r.SB],T.prototype,"screenRecognitionFirstUsedAt",void 0),(0,n.gn)([r.SB],T.prototype,"youtubeSummaryShareTooltipClosed",void 0),(0,n.gn)([r.SB],T.prototype,"pdfToolsGuideShowed",void 0),(0,n.gn)([r.SB],T.prototype,"sidebarEntryBtnPosition",void 0),(0,n.gn)([r.SB],T.prototype,"contextualToolbarTriggerMode",void 0),(0,n.gn)([r.SB],T.prototype,"contextualToolbarImageToolTriggerMode",void 0),(0,n.gn)([r.SB],T.prototype,"contextualToolbarTriggerShortcut",void 0),(0,n.gn)([r.SB],T.prototype,"contextualToolbarImageToolTriggerShortcut",void 0),(0,n.gn)([r.SB],T.prototype,"imageTranslationLang",void 0),(0,n.gn)([r.SB],T.prototype,"contextualToolbarClosedTimes",void 0),(0,n.gn)([r.SB],T.prototype,"contextualToolbarLastClosedAt",void 0),(0,n.gn)([r.SB],T.prototype,"contextualToolbarKeepReminderClosed",void 0),(0,n.gn)([r.SB],T.prototype,"contextualToolbarDisableReminderClosed",void 0),(0,n.gn)([r.SB],T.prototype,"makeItMoreHowToUseDialogClosed",void 0),(0,n.gn)([r.SB],T.prototype,"chatInputResizedHeight",void 0),(0,n.gn)([r.SB],T.prototype,"chatInputHasResized",void 0),(0,n.gn)([r.SB],T.prototype,"heightResizedWithinOneHundredMilliseconds",void 0),(0,n.gn)([r.SB],T.prototype,"enableSslCertCheck",void 0),(0,n.gn)([r.SB],T.prototype,"followSystemProxy",void 0),(0,n.gn)([r.SB],T.prototype,"mainWindowNavKeyList",void 0),(0,n.gn)([r.SB],T.prototype,"disabledNickNameGuide",void 0),(0,n.gn)([r.SB],T.prototype,"noticeVersion",void 0),(0,n.gn)([r.SB],T.prototype,"summaryPageDate",void 0),(0,n.gn)([r.SB],T.prototype,"proPlusPromotionShowed",void 0),(0,n.gn)([r.SB],T.prototype,"webFavoriteGuideShowed",void 0),(0,n.gn)([r.SB],T.prototype,"textToolEnabled",void 0),(0,n.gn)([r.SB],T.prototype,"textToolDisabledApps",void 0),(0,n.gn)([r.SB],T.prototype,"sidebarEnabled",void 0),(0,n.gn)([r.SB],T.prototype,"sidebarPin",void 0),(0,n.gn)([r.SB],T.prototype,"sidebarWindowPin",void 0),(0,n.gn)([r.SB],T.prototype,"sidebarDisplayPosition",void 0),(0,n.gn)([r.SB],T.prototype,"grammarCheckGuideShowed",void 0),(0,n.gn)([r.SB],T.prototype,"grammarLanguage",void 0),(0,n.gn)([r.SB],T.prototype,"grammarAutoCheckNoticeShowed",void 0),(0,n.gn)([r.SB],T.prototype,"grammarErrorShowed",void 0),(0,n.gn)([r.SB],T.prototype,"grammarSessionNum",void 0),(0,n.gn)([r.SB],T.prototype,"socialMediaPinedTemplate",void 0),(0,n.gn)([r.SB],T.prototype,"emailPinedTemplate",void 0),(0,n.gn)([r.SB],T.prototype,"promotionalAdsCloseConfigs",void 0),(0,n.gn)([r.SB],T.prototype,"unlimitedPromotionGuideClosed",void 0),(0,n.gn)([r.SB],T.prototype,"unlimitedPromotionRewardsUnlockedTipClosed",void 0),(0,n.gn)([r.SB],T.prototype,"isAdsUser",void 0),(0,n.gn)([r.SB],T.prototype,"upgradeVersion",void 0),(0,n.gn)([r.SB],T.prototype,"pdfChatBookmarkGuideClosed",void 0),(0,n.gn)([r.SB],T.prototype,"docChatTranslateTipsShowed",void 0),(0,n.gn)([r.SB],T.prototype,"userJobTitle",void 0),(0,n.gn)([r.SB],T.prototype,"adChatCardShowedDate",void 0),(0,n.gn)([r.SB],T.prototype,"searchEnhancePromotionClosedAt",void 0),(0,n.gn)([r.SB],T.prototype,"chatScrollStyle",void 0),(0,n.gn)([r.SB],T.prototype,"chatHomeSuggestionVisible",void 0),(0,n.gn)([r.SB],T.prototype,"compareModelVisible",void 0),(0,n.gn)([r.SB],T.prototype,"autoOptPromptHotKeyEnable",void 0),(0,n.gn)([r.SB],T.prototype,"webPageMarkColor",void 0),(0,n.gn)([r.SB],T.prototype,"webPageMarkCurrentId",void 0),(0,n.gn)([r.SB],T.prototype,"theme",void 0),(0,n.gn)([r.SB],T.prototype,"inited",void 0),(0,n.gn)([r.SB],T.prototype,"keyboardShortcutMap",void 0),(0,n.gn)([r.SB],T.prototype,"monicaSearchGuideEntryShow",void 0),(0,n.gn)([r.SB],T.prototype,"memorySuggestionLastViewedAt",void 0),(0,n.gn)([r.SB],T.prototype,"enableCodeTools",void 0),(0,n.gn)([r.SB],T.prototype,"codeToolsDisableHosts",void 0),(0,n.gn)([r.SB],T.prototype,"imageToolModelList",void 0),(0,n.gn)([r.SB],T.prototype,"chatSkillIdx",void 0),(0,n.gn)([r.SB],T.prototype,"chatSkillResearchEnable",void 0),(0,n.gn)([r.SB],T.prototype,"chatSkillTranslateHeaderClosed",void 0),(0,n.gn)([r.SB],T.prototype,"chatSkillWritingHeaderClosed",void 0),(0,n.gn)([r.SB],T.prototype,"chatAppInstallNoticed",void 0),(0,n.gn)([r.SB],T.prototype,"chatExpandResearchEnable",void 0),(0,n.gn)([r.SB],T.prototype,"closedRecommendationFeatureName",void 0),(0,n.gn)([r.SB],T.prototype,"artifactAutoOpenDialog",void 0),(0,n.gn)([r.SB],T.prototype,"artifactWidgetsPosition",void 0),(0,n.gn)([r.SB],T.prototype,"chatNoticeClosedStatus",void 0),(0,n.gn)([r.SB],T.prototype,"showPdfScreenshotGuide",void 0),(0,n.gn)([r.SB],T.prototype,"showPdfFreeUserUpgradeDialog",void 0),(0,n.gn)([r.SB],T.prototype,"showFreeTranslateLimitTip",void 0),(0,n.gn)([r.SB],T.prototype,"pdfEnhanceToolbar",void 0),(0,n.gn)([r.SB],T.prototype,"showArxivTranslate",void 0),(0,n.gn)([r.SB],T.prototype,"equalsSignCommandEnabled",void 0),(0,n.gn)([r.SB],T.prototype,"equalsSignCommandActionDefaultKey",void 0),(0,n.gn)([r.SB],T.prototype,"equalsSignCommandActionKeys",void 0),(0,n.gn)([r.SB],T.prototype,"autoFavoriteActionTool",void 0),(0,n.gn)([r.SB],T.prototype,"featGuideAllModelsClosed",void 0),(0,n.gn)([r.SB],T.prototype,"featGuideDownloadClosed",void 0),(0,n.gn)([r.SB],T.prototype,"featGuideVoiceModelsClosed",void 0),(0,n.gn)([r.SB],T.prototype,"desktopExtensionBadgeClosed",void 0),(0,n.gn)([r.SB],T.prototype,"desktopSidebarBadgeClosed",void 0),(0,n.gn)([r.SB],T.prototype,"desktopSidebarGuideShowed",void 0),(0,n.gn)([r.SB],T.prototype,"translationEngine",void 0),(0,n.gn)([r.SB],T.prototype,"translationScene",void 0),(0,n.gn)([r.SB],T.prototype,"webTranslationGuideClosed",void 0),(0,n.gn)([r.SB],T.prototype,"aiPodcastGuideClosed",void 0),(0,n.gn)([r.SB],T.prototype,"webTranslationEngineTipClosed",void 0),(0,n.gn)([r.SB],T.prototype,"chatFeedbackShowedTime",void 0),(0,n.gn)([r.SB],T.prototype,"translationGlossaryEnabled",void 0),(0,n.gn)([r.SB],T.prototype,"aiPodcastLastSelectLocale",void 0),(0,n.gn)([r.SB],T.prototype,"aiPodcastSampleAudioList",void 0),(0,n.gn)([r.SB],T.prototype,"customFormat",void 0),(0,n.gn)([r.SB],T.prototype,"onboardingSideEntryGuideShowed",void 0),(0,n.gn)([r.SB],T.prototype,"socialMediaAdId",void 0),(0,n.gn)([r.SB],T.prototype,"realtimeIntroduceShowed",void 0),(0,n.gn)([r.SB],T.prototype,"chatWindowGuideShowed",void 0),(0,n.gn)([r.SB],T.prototype,"globalScreenshotGuideShowed",void 0),(0,n.gn)([r.SB],T.prototype,"isIncognitoMode",void 0),(0,n.gn)([r.SB],T.prototype,"_memoListType",void 0),(0,n.gn)([r.SB],T.prototype,"simpleMode",void 0),(0,n.gn)([r.SB],T.prototype,"uvcsLastReportTimeMap",void 0),(0,n.gn)([r.SB],T.prototype,"_sidebarConversationMode",void 0),(0,n.gn)([r.SB],T.prototype,"pinnedTools",void 0),(0,n.gn)([r.SB],T.prototype,"chatHomeRecommendationVisible",void 0),(0,n.gn)([r.SB],T.prototype,"mainNavManuallyCollapsed",void 0),(0,n.gn)([r.SB],T.prototype,"homeSidebarManuallyCollapsed",void 0),(0,n.gn)([r.SB],T.prototype,"imageOnboardingShowed",void 0),(0,n.gn)([r.SB],T.prototype,"imageDetailBackShowed",void 0),(0,n.gn)([r.SB],T.prototype,"imageTemplateShowed",void 0),(0,n.gn)([r.SB],T.prototype,"generateImageModelShowed",void 0),(0,n.gn)([r.SB],T.prototype,"generateVideoModelShowed",void 0),(0,n.gn)([r.SB],T.prototype,"generateImageScenarioShowed",void 0),(0,n.gn)([r.SB],T.prototype,"showedImageDisplayDialogV1",void 0),(0,n.gn)([r.SB],T.prototype,"showedVideoFeatures",void 0),(0,n.gn)([r.SB],T.prototype,"showedImageFeatures",void 0),(0,n.gn)([r.SB],T.prototype,"noMoreShowedImageDialog",void 0),(0,n.gn)([r.SB],T.prototype,"noMoreShowedVideoDialog",void 0),(0,n.gn)([r.SB],T.prototype,"pinBotIds",void 0),(0,n.gn)([r.SB],T.prototype,"saveToMemoForTwitterVisible",void 0),(0,n.gn)([r.SB],T.prototype,"siderYearlyGuide",void 0),(0,n.gn)([r.SB],T.prototype,"billingYearGuide",void 0),(0,n.gn)([r.SB],T.prototype,"memoryResponsePreferenceUpdatedTime",void 0),(0,n.gn)([_.Fl],T.prototype,"finalGlobalRespondLanguage",null),(0,n.gn)([_.Fl],T.prototype,"finalSearchRespondLanguage",null),(0,n.gn)([_.Fl],T.prototype,"finalChatRespondLanguage",null),(0,n.gn)([_.Fl],T.prototype,"finalChatWithPdfRespondLanguage",null),(0,n.gn)([_.Fl],T.prototype,"finalQuickActionRespondLanguage",null),(0,n.gn)([_.Fl],T.prototype,"finalReadingSummaryRespondLanguage",null),(0,n.gn)([_.Fl],T.prototype,"finalComposeRespondLanguage",null),(0,n.gn)([_.Fl],T.prototype,"finalQuickComposeRespondLanguage",null),(0,n.gn)([_.Fl],T.prototype,"finalTranslationTargetRespondLanguage",null),(0,n.gn)([_.Fl],T.prototype,"finalQuickActionTranslateLanguage",null),(0,n.gn)([_.Fl],T.prototype,"finalChatPresetPromptLanguage",null),(0,n.gn)([_.Fl],T.prototype,"finalContextualToolbarTriggerMode",null),(0,n.gn)([_.Fl],T.prototype,"finalContextualToolbarTriggerShortcut",null),(0,n.gn)([_.Fl],T.prototype,"finalContextualToolbarImageToolTriggerMode",null),(0,n.gn)([_.Fl],T.prototype,"finalContextualToolbarImageToolTriggerShortcut",null),(0,n.gn)([_.Fl],T.prototype,"finalImageTranslationLang",null),(0,n.gn)([_.Fl],T.prototype,"finalSpeechLang",null),(0,n.gn)([_.Fl],T.prototype,"finalTextToolEnabled",null),(0,n.gn)([_.Fl],T.prototype,"finalSidebarPin",null),(0,n.gn)([_.Fl],T.prototype,"finalSidebarWindowPin",null),(0,n.gn)([_.Fl],T.prototype,"finalSidebarDisplayPosition",null),(0,n.gn)([_.Fl],T.prototype,"chromeSidePanelEnabled",null),(0,n.gn)([_.Fl],T.prototype,"sidebarConversationMode",null),(0,n.gn)([_.Fl],T.prototype,"chatContextMode",null),(0,n.gn)([_.Fl],T.prototype,"chatContextModeSaveKey",null),(0,n.gn)([_.Fl],T.prototype,"finalAiPodcastLastSelectLocale",null),(0,n.gn)([_.Fl],T.prototype,"finalSidebarEntryBtnPosition",null);let b=new T},18245:function(e,t,s){s.d(t,{K:function(){return f}});var i=s(66084),n=s(52921),r=s(34491),o=s(92235),a=s(56607),l=s(82270),u=s(76469),d=s(73047),c=s(13942),h=s(38172),p=s(73361),m=s(50209),g=s(47720),y=s(18918),S=s(67061);class _{get featureMap(){let e=g.serverConfigController.getStaticConfig("taskTypeList");if(!e)return{};let t={};for(let[s,i]of Object.entries(e))t[o.m.underlizeKey(s)]=i;return t}setViews(e){this.views=e}async init(e){this.inited||(this.inited=!0,this.userController=e,p.gM.on("configChanges",e=>{var t;this.handleUsageInfosChange(null!==(t=e.usageInfos)&&void 0!==t?t:[])}),p.gM.getUsageInfos().then(e=>{this.handleUsageInfosChange(e)}),h.W.on("userLogout",()=>{this.usageInfos=[],p.gM.removeUsageInfos()}))}getUsageInfo(e){var t,s;let i={module:e,finallyCanUsed:0,finallyTotal:0,finallyUsed:0,planPeriod:"monthly",planCanUsed:0,planUsed:0,planTotal:0,rewardCanUsed:0,rewardUsed:0,rewardTotal:0,extCanUsed:0,extUsed:0,extTotal:0,displayFinallyCanUsed:0,displayFinallyTotal:0,overdraftCanUsed:0,overdraftTotal:0,overdraftUsed:0};return this.usageInfos.forEach(t=>{var s;t.module===e&&(null===(s=t.quotas)||void 0===s||s.forEach(e=>{var t,s;let n=this.serializeCredit(null!==(t=e.defaultQuota)&&void 0!==t?t:0),r=this.serializeCredit(null!==(s=e.currentQuota)&&void 0!==s?s:0),o=n-r;"plan"===e.scene?(i.planPeriod=e.resetFrequency||"monthly",i.planTotal=n,i.planUsed=o,i.planCanUsed=r):"gift"===e.scene?(i.rewardTotal=n,i.rewardUsed=o,i.rewardCanUsed=r):"ext"===e.scene?(i.extTotal=n,i.extUsed=o,i.extCanUsed=r):"overdraft"===e.scene&&(i.overdraftTotal=n,i.overdraftUsed=o,i.overdraftCanUsed=r)}))}),"basic_query"===e&&(null===(t=this.userController)||void 0===t?void 0:t.isFreeUser)&&(null===(s=this.userController)||void 0===s?void 0:s.isChatPdfAdsUser)&&(i.planTotal=3,i.planUsed=Math.min(3,i.planUsed),i.planCanUsed=i.planTotal-i.planUsed,i.rewardCanUsed=0,i.rewardUsed=0,i.rewardTotal=0),i.finallyTotal=i.planTotal+i.rewardTotal+i.extTotal+i.overdraftTotal,i.finallyUsed=i.planUsed+i.rewardUsed+i.extUsed+i.overdraftUsed,i.finallyCanUsed=i.finallyTotal-i.finallyUsed,i.displayFinallyCanUsed=i.finallyCanUsed-i.overdraftTotal,i.displayFinallyTotal=i.finallyTotal-i.overdraftTotal,i}checkCredits(e){let{module:t,maxUsed:s,cost:i,ignoreSeo:n}=e,r=!0;if(!n){let t=this.checkSeoCredits(e);if(t)return t}let o=this.getUsageInfo(t);return o.finallyCanUsed<=0&&(r=!1),i&&o.finallyCanUsed<i&&(r=!1),"number"==typeof s&&(o.finallyUsed>=s&&(r=!1),r&&i&&(r=i<=s)),this.checkAutoDeduction(e),{isEnough:r,handleCreditsNotEnough:()=>{this.handleCreditsNotEnough(e)}}}handleCreditsNotEnough(e){var t,s;let{module:i,source:n,featureName:r="default",reportExtData:o}=e,l=this.getInsertTarget();if("aiTranslate"===r&&(l="dialogRoot"),y.teamController.isTeamAccount){this.views.openTeamCreditsNotEnoughDialog({insertTarget:l});return}if(null===(t=this.userController)||void 0===t?void 0:t.isUnlimitedUser){this.views.openBuyCreditsDialog({insertTarget:l,source:n,eventData:o});return}let u=r;if("default"===u&&("basic_query"===i?(u="basicQuery",a.o.isChatPDF&&(u="pdfQueryLimit")):"genius_bot"===i?u="gpt4":"credits"===i?u="credits":"image_gen"===i?u="artist":"web_search"===i?u="webAccess":"image_translate"===i?u="imageTranslation":"reading_pdf"===i?u="pdfUploadLimit":"youtube_summarize"===i&&(u="reading")),"aiTranslate"===u||"quickActionTranslate"===u){this.views.openWebTranslateUpgradeDialog({insertTarget:l,source:n});return}if(("imageGenerate"===u||"animationGenerate"===u)&&(null===(s=this.userController)||void 0===s?void 0:s.isFreeUser)){c.P.isExtensionInstalled||"image_tools_remove_watermark"===n?this.views.openImageToolUpgradeDialog({insertTarget:l,source:n}):this.views.openSeoInstallGuideDialog({scene:"quota",source:n,featureName:u,insertTarget:l});return}this.views.openUpgradeDialog({source:n,insertTarget:l,type:u,eventData:o})}isQuotaExceedError(e){var t,s;if(!e)return!1;let i="string"==typeof e?e:null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.msg;if("object"==typeof e){let t=null==e?void 0:null===(s=e.data)||void 0===s?void 0:s.code;if(t&&[l.E0.creditsQuotaExceed,l.E0.quotaExceeded].includes(t))return!0}return i===l.Eg.creditsQuotaExceed||i===l.Eg.quotaExceeded}checkQuotaIsUnlimited(e){return e>=this.eliteQueryQuota}serializeCredit(e){return e/100>>0}formatCredits(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?t?e%100==0?e/100:(e/100).toFixed(2):e/100>>0:e}async canShowSeoGuide(){return!o.m.getIsMonicaApp()&&(!!o.m.getIsMobile()||!await c.P.getIsExtInstalled())}handleUsageInfosChange(e){this.usageInfos=e,this.eventEmitter.emit("usageInfoChange")}checkSeoCredits(e){let{module:t,featureName:s}=e,{finallyUsed:i}=this.getUsageInfo(t),n=!0,r=t=>e.cost?t*e.cost:t;if(["youtube_summarize","bypass","ai_content_detect","image_gen","reading_pdf","podcast","mindmap","ai_form"].includes(t)||s&&["chatCompare","aiMathResolver"].includes(s)){var a;let l=o.m.getIsMobile(),u=o.m.getIsMonicaApp();if((null===(a=this.userController)||void 0===a?void 0:a.isVipUser)||u)return null;if(!c.P.isExtensionInstalled||l)return"youtube_summarize"===t?n=i<r(1):"mindmap"===t?n=i<r(2):"bypass"===t?n=i<r(1e3):"ai_content_detect"===t?n=i<r(1e3):"image_gen"===t?n=e.maxUsed?i<e.maxUsed:i<r(1):"reading_pdf"===t?n=i<r(1):"podcast"===t?n=i<r(1):"ai_form"===t?n=i<r(1):"chatCompare"===s?n=i<r(20):"aiMathResolver"===s&&(n=i<r(20)),{isEnough:n,handleCreditsNotEnough:()=>{let s;"youtube_summarize"===t?s="youtubeSummary":"bypass"===t||"ai_content_detect"===t?s="bypass":"image_gen"===t?s=e.featureName||"artist":"reading_pdf"===t?s="pdfUploadLimit":"podcast"===t?s="aiPodcast":"mindmap"===t?s="mindmap":"ai_form"===t?s="aiForm":"chatCompare"===e.featureName?s="chatCompare":"aiMathResolver"===e.featureName&&(s="aiMathResolver"),s?this.views.openSeoInstallGuideDialog({featureName:s,insertTarget:this.getInsertTarget(),source:s,scene:"quota"}):this.handleCreditsNotEnough(e)}}}return null}checkAutoDeduction(e){let{module:t}=e,s=this.getUsageInfo(t);"credits"===t&&s.displayFinallyCanUsed<=0&&y.teamController.isTeamAccount&&!this.autoDeductionLoading&&m.H.teamDeduction().then(()=>{p.gM.updateUsageInfos().finally(()=>{this.autoDeductionLoading=!1})}).catch(()=>{this.autoDeductionLoading=!1})}getInsertTarget(){var e;let t=(null===(e=this.getMainWindowIsOpen)||void 0===e?void 0:e.call(this))||!1;return"sidebar"===S.L.mainWindowMode&&t?"mainWindow":"dialogRoot"}constructor(){(0,i._)(this,"eventEmitter",new u.v),(0,i._)(this,"eliteQueryQuota",99999),(0,i._)(this,"getMainWindowIsOpen",void 0),(0,i._)(this,"usageInfos",[]),(0,i._)(this,"inited",!1),(0,i._)(this,"views",void 0),(0,i._)(this,"userController",null),(0,i._)(this,"autoDeductionLoading",!1),(0,d.rC)(this)}}(0,n.gn)([r.SB],_.prototype,"usageInfos",void 0),(0,n.gn)([r.Fl],_.prototype,"featureMap",null);let f=new _},82005:function(e,t,s){s.d(t,{t:function(){return p}});var i=s(66084),n=s(52921),r=s(71576),o=s(56033),a=s(34491),l=s(56607),u=s(35217),d=s(73047),c=s(27243);class h{getInsertRoot(e){return"body"===e?document.body:"mainWindow"===e?this.mainWindowDialogRoot||this.dialogRoot:"pageExtraDialogRoot"===e?this.pageExtraDialogRoot:"dialogRoot"===e?this.dialogRoot?this.dialogRoot:l.o.isWeb?document.body:null:"botContainer"===e.type&&this.botDialogRootMap[e.botId]?this.botDialogRootMap[e.botId]:this.mainWindowDialogRoot||this.dialogRoot}getAllInsertTargets(){return[this.mainWindowDialogRoot,this.dialogRoot,this.pageExtraDialogRoot,this.mainWindowEl,...Object.keys(this.botDialogRootMap).map(e=>this.botDialogRootMap[e])].filter(Boolean)}constructor(){(0,i._)(this,"inDesktopDialogRenderer",!1),(0,i._)(this,"dialogRoot",null),(0,i._)(this,"mainWindowDialogRoot",null),(0,i._)(this,"pageExtraDialogRoot",null),(0,i._)(this,"botDialogRootMap",{}),(0,i._)(this,"mainWindowEl",null),(0,i._)(this,"createOpener",(e,t)=>{let{singleton:s,closeWhenNextTrigger:i,closeBeforeDialog:n}=t||{},a=[],l=t=>{let l="object"==typeof t.insertTarget?t.insertTarget.botId:"single";if(s){let e=a.find(e=>e.id===l);if(e){if(!n)return i&&e.onDisposed(),null;e.onDisposed()}}let d=document.createElement("div"),h=(0,c.createRoot)(d),p=()=>{h.unmount(),d.remove(),a=a.filter(e=>e.id!==l)},m=this.getInsertRoot(t.insertTarget);return m?(m.append(d),a.push({id:l,onDisposed:p}),h.render((0,r.jsx)(o.StyleProvider,{container:m,hashPriority:"low",children:(0,r.jsx)(u.ZP,{theme:{token:{colorPrimary:"#3872E0",colorText:"#212B36"}},children:(0,r.jsx)(e,{...t,onDisposed:()=>{p()},insertTarget:t.insertTarget})})})),{dispose:p}):(console.error("dialog controller error, insertRoot is null",t),null)},d=e=>l({...e});return d.dispose=()=>{a.forEach(e=>{e.onDisposed()})},d}),(0,i._)(this,"setDialogRoot",e=>{this.dialogRoot=e}),(0,i._)(this,"setMainWindowDialogRoot",e=>{this.mainWindowDialogRoot=e}),(0,i._)(this,"setPageExtraDialogRoot",e=>{this.pageExtraDialogRoot=e}),(0,i._)(this,"setBotDialogRoot",(e,t)=>{this.botDialogRootMap[e]=t}),(0,d.rC)(this)}}(0,n.gn)([a.SB],h.prototype,"inDesktopDialogRenderer",void 0);let p=new h},13942:function(e,t,s){s.d(t,{P:function(){return c}});var i=s(66084),n=s(52921),r=s(34491),o=s(22046),a=s(56607),l=s(73047),u=s(14622);class d{get isExtensionInstalled(){return null===this.extensionVersion||!!this.extensionVersion}async getIsExtInstalled(){if(!a.o.isWeb)return!1;if(null!==this.extensionVersion)return this.isExtensionInstalled;for(let e=0;e<4;e++)this.extensionVersion||await new Promise(e=>{setTimeout(()=>{this.getExtensionVersion(),e(null)},300)});return this.extensionVersion||(this.extensionVersion=""),this.isExtensionInstalled}getIsExtInstalledSync(){return!!this.isExtensionInstalled||(this.getIsExtInstalled(),!1)}async sendMessageToExt(e,t,s){if(await this.getIsExtInstalled())try{a.o.isProd||console.log("try sending extension message to ".concat(JSON.stringify(e))),u.u.sendMessage({name:"webEvent",data:e}).then(e=>{a.o.isProd||console.log("got response from extension",e),null==t||t(e)}).catch(()=>{null==s||s()})}catch(e){console.log(e),null==s||s()}}getExtensionVersion(){if(this.extensionVersion)return this.extensionVersion;let e=document.body.getAttribute("monica-version");return e&&(this.extensionVersion=e),this.extensionVersion}detectSendMessageReady(){var e;return"function"==typeof(null===(e=window.chrome.runtime)||void 0===e?void 0:e.sendMessage)}constructor(){(0,i._)(this,"extensionVersion",null),(0,l.rC)(this),o.S.isRunInServerSide||(this.getIsExtInstalled(),window.addEventListener("focus",()=>{null!==this.extensionVersion&&setTimeout(()=>{this.getExtensionVersion()},200)}))}}(0,n.gn)([r.SB],d.prototype,"extensionVersion",void 0),(0,n.gn)([r.Fl],d.prototype,"isExtensionInstalled",null);let c=new d},92578:function(e,t,s){s.d(t,{l:function(){return g}});var i=s(66084),n=s(22046),r=s(21320),o=s(56607),a=s(32004),l=s(60445),u=s(88882),d=s(76469),c=s(92235),h=s(73047),p=s(47720);class m{checkDiscount(e){return!!e&&!((e.usageLimit||0)-(e.timesUsed||0)<=0||e.expiresAt&&r.L.isBefore(e.expiresAt,Date.now()))}async getPaddle(){return this.eventData={isSuccessful:!1,errorMsg:""},this.paddle||await this.paddleReadySource.waitReady(),this.paddle}async manualLoadPaddle(){return this.loadPaddle(!0)}async init(){o.o.isWeb&&!n.S.isRunInServerSide&&(await p.serverConfigController.planConfigsReadySource.waitReady(),a.f.getProxy(this).add((0,h.U5)(()=>p.serverConfigController.paymentPlatform,e=>{e&&this.loadPaddle()})),this.loadPaddle())}async loadPaddle(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(e||"paddle"===p.serverConfigController.paymentPlatform)&&!this.startLoaded&&(this.startLoaded=!0,s.e(6498).then(s.bind(s,26498)).then(async e=>{let t=[l.Cl.checkout,l.Cl.chatGuide,l.Cl.firstInstall].some(e=>n.S.location.pathname.includes(e)),s=await e.initializePaddle({...o.o.isProd?{token:"live_32ffd521c92c842fe2d56687a53"}:{token:"test_45a10007121d2b8a9923ff46cfd",environment:"sandbox"},eventCallback:i=>{if(console.warn("[PADDLE.EVENT]: ",i),i.name===e.CheckoutEventNames.CHECKOUT_PAYMENT_FAILED||i.name===e.CheckoutEventNames.CHECKOUT_FAILED||i.name===e.CheckoutEventNames.CHECKOUT_ERROR){var n;this.eventData.errorMsg=i.name,(null===(n=i.error)||void 0===n?void 0:n.detail)&&(this.eventData.errorMsg=i.error.detail)}else i.name===e.CheckoutEventNames.CHECKOUT_CLOSED?this.eventData.isSuccessful||(this.eventData.errorMsg?this.eventEmitter.emit("error"):this.eventEmitter.emit("closed",{})):i.name===e.CheckoutEventNames.CHECKOUT_COMPLETED?(this.eventData.isSuccessful=!0,t||null==s||s.Checkout.close(),this.eventEmitter.emit("success",{})):i.name===e.CheckoutEventNames.CHECKOUT_LOADED&&this.eventEmitter.emit("loaded",{})},checkout:{settings:t?{displayMode:"inline",frameTarget:"checkout-container",frameStyle:"width: 100%; min-width: 312px; border: none;",frameInitialHeight:800,allowDiscountRemoval:!0,showAddDiscounts:!0,showAddTaxId:!0,locale:u.a.locale,variant:"one-page"}:{displayMode:"overlay",allowDiscountRemoval:!0,showAddDiscounts:!0,showAddTaxId:!0,locale:u.a.locale,variant:"one-page"}}});s&&(this.paddle=s,this.paddleReadySource.markReady())}))}constructor(){(0,i._)(this,"eventEmitter",new d.v),(0,i._)(this,"paddle",null),(0,i._)(this,"paddleReadySource",c.m.createReadySource()),(0,i._)(this,"startLoaded",!1),(0,i._)(this,"eventData",{isSuccessful:!1,errorMsg:""}),this.init()}}let g=new m},54560:function(e,t,s){s.d(t,{u:function(){return P}});var i=s(66084),n=s(92235),r=s(60445),o=s(82270),a=s(88882),l=s(92660),u=s(38172),d=s(50209),c=s(47720),h=s(18918),p=s(33381),m=s(52921),g=s(34491),y=s(22046),S=s(32004),_=s(56607),f=s(73047);class v{async waitForSdkLoaded(){return new Promise(e=>{if(this.sdkLoaded){e();return}S.f.getProxy(this).add((0,f.U5)(()=>this.sdkLoaded,t=>{t&&e()}))})}async init(){if(!_.o.isWeb||y.S.isRunInServerSide)return;await c.serverConfigController.planConfigsReadySource.waitReady();let e=()=>{("fastspring"===c.serverConfigController.paymentPlatform||"fastspring_sg"===c.serverConfigController.paymentPlatform||"fastspring_single"===c.serverConfigController.paymentPlatform)&&(this.sdkLoaded=!1,this.removeSdk(),y.S.location.pathname.includes(r.Cl.checkout)?this.loadEmbeddedSdk(r.Cl.checkout):y.S.location.pathname.includes(r.Cl.chatGuide)?this.loadEmbeddedSdk(r.Cl.checkout):this.loadPopupSdk())};S.f.getProxy(this).add((0,f.U5)(()=>c.serverConfigController.paymentPlatform,t=>{t&&e()})),e()}async removeSdk(){let e=document.getElementById(this.id);e&&document.body.removeChild(e)}async loadEmbeddedSdk(e){return new Promise((t,s)=>{let i=document.createElement("script");i.id=this.id,i.src=_.o.fsSdkSrc,i.type="text/javascript",i.setAttribute("data-popup-webhook-received","dataPopupWebhookReceived"),i.setAttribute("data-error-callback","dataErrorCallback"),i.setAttribute("data-decorate-callback","decorateURL"),i.async=!0,document.body.appendChild(i),"fastspring_sg"===c.serverConfigController.paymentPlatform?(i.setAttribute("data-storefront",_.o.isProd?this.storeFrontSG[e]().prod:this.storeFrontSG[e]().dev),i.setAttribute("data-access-key","8W4WJHXWSCS-F3-T0IADCQ")):(i.setAttribute("data-storefront",_.o.isProd?this.storeFrontHK[e]().prod:this.storeFrontHK[e]().dev),i.setAttribute("data-access-key","FWTG7UQETFENCYVB-NE4EG")),i.onload=()=>{this.sdkLoaded=!0,t(!0)},i.onerror=()=>{s(!1)}})}async loadPopupSdk(){return new Promise((e,t)=>{let s=document.createElement("script");s.id=this.id,s.src=_.o.fsSdkSrc,s.type="text/javascript",s.setAttribute("data-popup-webhook-received","dataPopupWebhookReceived"),s.setAttribute("data-error-callback","dataErrorCallback"),s.setAttribute("data-popup-closed","dataPopupClosed"),s.setAttribute("data-decorate-callback","decorateURL"),s.async=!0,document.body.appendChild(s),"fastspring_sg"===c.serverConfigController.paymentPlatform?(s.setAttribute("data-storefront",_.o.isProd?"immonica.onfastspring.com/popup-immonica":"immonica.test.onfastspring.com/popup-test"),s.setAttribute("data-access-key","8W4WJHXWSCS-F3-T0IADCQ")):(s.setAttribute("data-storefront",_.o.isProd?"monica.onfastspring.com/popup-monica":"monica.test.onfastspring.com/popup-test"),s.setAttribute("data-access-key","FWTG7UQETFENCYVB-NE4EG")),s.onload=()=>{this.sdkLoaded=!0,e(!0)},s.onerror=()=>{t(!1)}})}constructor(){(0,i._)(this,"sdkLoaded",!1),(0,i._)(this,"id","fsc-api"),(0,i._)(this,"storeFrontSG",{[r.Cl.checkout]:()=>({dev:"immonica.test.onfastspring.com/embedded-test",prod:"immonica.onfastspring.com/embedded-monica"}),[r.Cl.chatGuide]:()=>({dev:"immonica.test.onfastspring.com/embedded-chat-guide-test",prod:"immonica.onfastspring.com/embedded-chat-guide"}),[r.Cl.firstInstall]:()=>({dev:"immonica.test.onfastspring.com/embedded-test",prod:"immonica.onfastspring.com/embedded-monica"})}),(0,i._)(this,"storeFrontHK",{[r.Cl.checkout]:()=>({dev:"monica.test.onfastspring.com/embedded-test",prod:"monica.onfastspring.com/embedded-monica"}),[r.Cl.chatGuide]:()=>({dev:"monica.test.onfastspring.com/embedded-chat-guide-test",prod:"monica.onfastspring.com/embedded-chat-guide"}),[r.Cl.firstInstall]:()=>({dev:"monica.test.onfastspring.com/embedded-test",prod:"monica.onfastspring.com/embedded-monica"})}),(0,f.rC)(this),this.init()}}(0,m.gn)([g.SB],v.prototype,"sdkLoaded",void 0);let T=new v;var b=s(92578);class C{gotoPricingForSubscribe(e){window.open(n.m.genUrl("".concat(n.m.getWebOrigin()).concat(r.Cl.pricing),{source:e.source,...e.hidDialog?{dialog:"hide"}:{},...e.planKey?{planKey:e.planKey}:{},...e.autoPay?{autoPay:"1"}:{}}),"_blank")}gotoCheckoutForSubscribe(e){let t=c.serverConfigController.paymentPlatform;if(p.userController.isFreeUser&&("fastspring"===t||"fastspring_sg"===t||"fastspring_single"===t||"paddle"===t)){window.open(n.m.genUrl("".concat(n.m.getWebOrigin()).concat(r.Cl.checkout),{source:e.source,...e.planKey?{planKey:e.planKey}:{},...e.redirect?{redirect:e.redirect}:{}}),"_blank");return}this.gotoPricingForSubscribe({source:e.source,planKey:e.planKey})}async subscribe(e){try{let n=this.isTeamPlan(e.planKey)||this.isPlatformBindPayment(e.planKey)?"paddle":c.serverConfigController.paymentPlatform;if("stripe"===n){if(e.eduDiscount)return{type:"error",message:o.nL.paymentPlatformError};let t=await d.H.stripeCreateSubscriptionCheckout(e);if(t.autoModify)return{type:"auto_modify"};return{type:"open_checkout",checkoutUrl:t.checkoutUrl,orderId:t.uid}}if("lemon"===n){if(e.eduDiscount)return{type:"error",message:o.nL.paymentPlatformError};let t=await d.H.lemonCreateSubscriptionCheckout(e);if(t.autoModify)return{type:"auto_modify"};return{type:"open_checkout",checkoutUrl:t.checkoutUrl,orderId:t.uid}}let g="fastspring_single"===n;if("fastspring"===n||"fastspring_sg"===n||g){let t=g?await d.H.fastspringCreateSingleCheckout(e):await d.H.fastspringCreateCheckout(e);if(t.autoModify)return await new Promise(e=>{setTimeout(()=>{e()},3500)}),{type:"auto_modify"};await T.waitForSdkLoaded(),this.inlineCheckoutReadySource.markReady();let s=window,i=s.fastspring;if(!i)return{type:"error",message:o.nL.fsNotLoaded};i.builder.secure(t.payload,t.key),i.builder.checkout();let r=a.a.locale.split("_")[0];return i.builder.language(r),new Promise(e=>{let t=!1;s.dataPopupClosed=()=>{t||setTimeout(()=>{e({type:"canceled"})},1e3)},s.dataErrorCallback=(t,s)=>{console.error("FastSpring dataErrorCallback",t,s),e({type:"error",message:s})},s.dataPopupWebhookReceived=async s=>{t=!0;let i=0;for(;i<15;){i++;let t=await d.H.fastspringQuerySubscription({orderId:s.id,paymentPlatform:n}).catch(()=>null);if((null==t?void 0:t.code)===0){e({type:"success"});return}await new Promise(e=>{setTimeout(()=>{e()},1e3)})}e({type:"error"})},s.decorateURL=e=>{var t,i;s.clsid={client_id:"",session_id:""},null===(t=s.gtag)||void 0===t||t.call(s,"get","G-RJYZXDEM8N","client_id",function(e){s.clsid.client_id=e}),null===(i=s.gtag)||void 0===i||i.call(s,"get","G-RJYZXDEM8N","session_id",function(e){s.clsid.session_id=e});let n="&clientId=".concat(s.clsid.client_id,"&sessionId=").concat(s.clsid.session_id);return"".concat(e,"?").concat(n)}})}if("paddle"===n){var t,s,i,r,h,m;let n;if((n=this.isPlatformBindPayment(e.planKey)?await d.H.platformBindPayment():this.isTeamPlan(e.planKey)?await d.H.paddleCreateTeamCheckout({plan:e.planKey,seatCount:null===(h=e.teamSubscribeParams)||void 0===h?void 0:h.seatCount,teamId:null===(m=e.teamSubscribeParams)||void 0===m?void 0:m.teamId}):await d.H.paddleCreateCheckout({plan:e.planKey,eduDiscount:e.eduDiscount,isDowngrade:e.isDowngrade})).data.autoModified)return await new Promise(e=>{setTimeout(()=>{e()},3500)}),{type:"auto_modify"};if(!n.data.transactionId)return{type:"error",message:o.nL.transactionIdNotFound};let a={transactionId:n.data.transactionId,customer:{email:(null===(t=p.userController.userInfo)||void 0===t?void 0:t.email)||"",address:{countryCode:(null===(r=window)||void 0===r?void 0:null===(i=r.navigator)||void 0===i?void 0:null===(s=i.languages)||void 0===s?void 0:s.includes("zh-CN"))?"CN":""}}};if(n.data.discountId)a.discountId=n.data.discountId;else if(e.discountId)a.discountId=e.discountId;else{let t=e.discountCode||localStorage.getItem(l.storageKeys.discountCode);if(t)try{let e=await d.H.getPaddleDiscount({discountCode:t});b.l.checkDiscount(e.data)?(a.discountCode=t,u.W.createUserBehaviorEvent({eventName:"payment_discount",extData:{status:"using",discountCode:t}})):u.W.createUserBehaviorEvent({eventName:"payment_discount",extData:{status:"not_available",discountCode:t}})}catch(e){console.warn("[subscribeSdk] get discount error")}}return(await b.l.getPaddle()).Checkout.open(a),setTimeout(()=>{this.inlineCheckoutReadySource.markReady()},300),new Promise(t=>{b.l.eventEmitter.once("error",()=>{t({type:"error"}),localStorage.removeItem(l.storageKeys.discountCode)}),b.l.eventEmitter.once("closed",()=>{t({type:"canceled"})}),b.l.eventEmitter.once("success",async()=>{let s=0;for(;s<15;){s++;let i=this.isTeamPlan(e.planKey)?d.H.paddleQueryTeamCheckout:d.H.paddleQueryCheckout,r=await i({transactionId:n.data.transactionId}).catch(()=>null);if((null==r?void 0:r.data.status)==="completed"){t({type:"success"});return}await new Promise(e=>{setTimeout(()=>{e()},1e3)})}t({type:"error"})})})}return{type:"error",message:o.nL.paymentPlatformError}}catch(e){return{type:"error",message:n.m.formatErrorMsg(e)}}}async cancelSubscribe(){let e=p.userController.paymentPlatform;if("stripe"===e)return d.H.stripeCancelSubscription();if("fastspring"===e||"fastspring_sg"===e)return d.H.fastspringCancelSubscription();if("lemon"===e)return d.H.lemonCancelSubscription();if("paddle"===e)return h.teamController.isTeamAccount?d.H.paddleCancelTeamSubscription({}):d.H.paddleCancelSubscription({});throw Error(o.nL.paymentPlatformError)}async resubscribe(){let e=p.userController.paymentPlatform;if("stripe"===e)return d.H.stripeResubscribeSubscription();if("fastspring"===e||"fastspring_sg"===e)return d.H.fastspringResubscribeSubscription();if("lemon"===e)return d.H.lemonResubscribeSubscription();if("paddle"===e)return h.teamController.isTeamAccount?d.H.paddleResubscribeTeamSubscription({}):d.H.paddleResubscribeSubscription({});throw Error(o.nL.paymentPlatformError)}async upgradePreview(e){let t=this.isTeamPlan(e.planKey)?"paddle":p.userController.paymentPlatform;if("stripe"===t)return d.H.stripeCreateSubscriptionCheckoutPreview({planKey:e.planKey});if("fastspring"===t||"fastspring_sg"===t)return d.H.fastspringUpgradePreview({planKey:e.planKey});if("paddle"===t){var s,i,n;return(this.isTeamPlan(e.planKey)?await d.H.paddleTeamPreview({plan:e.planKey,seatCount:null===(s=e.teamSubscribeParams)||void 0===s?void 0:s.seatCount,teamId:null===(i=e.teamSubscribeParams)||void 0===i?void 0:i.teamId,userId:null===(n=e.teamSubscribeParams)||void 0===n?void 0:n.ownerUserId}):await d.H.paddleUpgradePreview({plan:e.planKey,eduDiscount:e.eduDiscount})).data}throw Error(o.nL.paymentPlatformError)}async oneTimePurchase(e){var t,s,i,n;let r=await d.H.paddleOneTimeCheckout({productKey:e.productKey});return r.data.transactionId?((await b.l.getPaddle()).Checkout.open({transactionId:r.data.transactionId,discountId:r.data.discountId,customer:{email:(null===(t=p.userController.userInfo)||void 0===t?void 0:t.email)||"",address:{countryCode:(null===(n=window)||void 0===n?void 0:null===(i=n.navigator)||void 0===i?void 0:null===(s=i.languages)||void 0===s?void 0:s.includes("zh-CN"))?"CN":""}}}),setTimeout(()=>{this.inlineCheckoutReadySource.markReady()},300),new Promise(e=>{b.l.eventEmitter.once("error",()=>{e({type:"error"})}),b.l.eventEmitter.once("closed",()=>{e({type:"canceled"})}),b.l.eventEmitter.once("success",async()=>{await new Promise(e=>{setTimeout(()=>{e()},4e3)}),e({type:"success"})})})):{type:"error",message:o.nL.transactionIdNotFound}}async platformPay(e){await d.H.platformPay(e),await new Promise(e=>{setTimeout(()=>{e()},5e3)})}isTeamPlan(e){return"team_monthly"===e||"team_yearly"===e}isPlatformBindPayment(e){return e===this.platformBindPaymentPlanKey}constructor(){(0,i._)(this,"platformBindPaymentPlanKey","platform_bind_payment"),(0,i._)(this,"inlineCheckoutReadySource",n.m.createReadySource())}}let P=new C},63038:function(e,t,s){s.d(t,{F:function(){return n},i:function(){return i}});let i={code:0,msg:"ok",paymentPlatform:"paddle",userPlanList:[{key:"free_monthly",productId:"free_monthly",version:"free",interval:"month",discountAmount:0,originalPrice:0,price:0,nextPrice:0,trialDays:0,isRecommend:!1,displayDiscountAmount:0,displayDiscountPercent:0,displayOriginalMonthlyPrice:0,displayMonthlyPrice:0,displayNextMonthlyPrice:0,displayYearlyDiscountPercent:0,credit:0},{key:"free_yearly",productId:"free_yearly",version:"free",interval:"year",discountAmount:0,originalPrice:0,price:0,nextPrice:0,trialDays:0,isRecommend:!1,displayDiscountAmount:0,displayDiscountPercent:0,displayOriginalMonthlyPrice:0,displayMonthlyPrice:0,displayNextMonthlyPrice:0,displayYearlyDiscountPercent:0,credit:0},{key:"starter_monthly",productId:"starter_monthly",version:"starter",interval:"month",discountAmount:0,originalPrice:9.9,price:9.9,nextPrice:9.9,displayDiscountAmount:20,displayDiscountPercent:0,displayOriginalMonthlyPrice:9.9,displayMonthlyPrice:9.9,displayNextMonthlyPrice:9.9,displayYearlyDiscountPercent:0,credit:0,isRecommend:!1,trialDays:0},{key:"starter_yearly",productId:"starter_yearly",version:"starter",interval:"year",discountAmount:0,originalPrice:99,price:99,nextPrice:99,displayDiscountAmount:0,displayDiscountPercent:0,displayOriginalMonthlyPrice:8.3,displayMonthlyPrice:8.3,displayNextMonthlyPrice:8.3,displayYearlyDiscountPercent:17,credit:0,isRecommend:!1,trialDays:0},{key:"boost_monthly",productId:"boost_monthly",version:"boost",interval:"month",discountAmount:0,originalPrice:19.9,price:19.9,nextPrice:19.9,displayDiscountAmount:40,displayDiscountPercent:0,displayOriginalMonthlyPrice:19.9,displayMonthlyPrice:19.9,displayNextMonthlyPrice:19.9,displayYearlyDiscountPercent:0,credit:0,isRecommend:!1,trialDays:0},{key:"boost_yearly",productId:"boost_yearly",version:"boost",interval:"year",discountAmount:0,originalPrice:199,price:199,nextPrice:199,displayDiscountAmount:0,displayDiscountPercent:0,displayOriginalMonthlyPrice:16.6,displayMonthlyPrice:16.6,displayNextMonthlyPrice:16.6,displayYearlyDiscountPercent:17,credit:0,isRecommend:!1,trialDays:0},{key:"elite_monthly",productId:"elite_monthly",version:"elite",interval:"month",discountAmount:0,originalPrice:39.9,price:39.9,nextPrice:39.9,displayDiscountAmount:280,displayDiscountPercent:0,displayOriginalMonthlyPrice:39.9,displayMonthlyPrice:39.9,displayNextMonthlyPrice:39.9,displayYearlyDiscountPercent:0,credit:0,isRecommend:!1,trialDays:0},{key:"elite_yearly",productId:"elite_yearly_v2",version:"elite",interval:"year",discountAmount:0,originalPrice:199,price:199,nextPrice:199,displayDiscountAmount:0,displayDiscountPercent:33,displayOriginalMonthlyPrice:24.9,displayMonthlyPrice:16.6,displayNextMonthlyPrice:16.6,displayYearlyDiscountPercent:58,trialDays:3,isRecommend:!0,credit:0}],eduPlanList:[{key:"free_monthly",productId:"free_monthly",version:"free",interval:"month",discountAmount:0,originalPrice:0,price:0,nextPrice:0,trialDays:0,isRecommend:!1,displayDiscountAmount:0,displayDiscountPercent:0,displayOriginalMonthlyPrice:0,displayMonthlyPrice:0,displayNextMonthlyPrice:0,displayYearlyDiscountPercent:0,promotionTag:"",promotionExpiredAt:0,displayDayPrice:0,credit:0},{key:"free_yearly",productId:"free_yearly",version:"free",interval:"year",discountAmount:0,originalPrice:0,price:0,nextPrice:0,trialDays:0,isRecommend:!1,displayDiscountAmount:0,displayDiscountPercent:0,displayOriginalMonthlyPrice:0,displayMonthlyPrice:0,displayNextMonthlyPrice:0,displayYearlyDiscountPercent:0,promotionTag:"",promotionExpiredAt:0,displayDayPrice:0,credit:0},{key:"starter_monthly",productId:"starter_monthly",version:"starter",interval:"month",discountAmount:0,originalPrice:9.9,price:9.9,nextPrice:9.9,trialDays:0,isRecommend:!1,displayDiscountAmount:20,displayDiscountPercent:0,displayOriginalMonthlyPrice:9.9,displayMonthlyPrice:9.9,displayNextMonthlyPrice:9.9,displayYearlyDiscountPercent:0,promotionTag:"",promotionExpiredAt:0,displayDayPrice:0,credit:1500},{key:"starter_yearly",productId:"starter_yearly",version:"starter",interval:"year",discountAmount:20,originalPrice:99,price:79,nextPrice:79,trialDays:0,isRecommend:!1,displayDiscountAmount:0,displayDiscountPercent:20,displayOriginalMonthlyPrice:8.3,displayMonthlyPrice:6.6,displayNextMonthlyPrice:6.6,displayYearlyDiscountPercent:80,promotionTag:"education_discount_79",promotionExpiredAt:0,displayDayPrice:0,credit:1500},{key:"boost_monthly",productId:"boost_monthly",version:"boost",interval:"month",discountAmount:0,originalPrice:19.9,price:19.9,nextPrice:19.9,trialDays:0,isRecommend:!1,displayDiscountAmount:40,displayDiscountPercent:0,displayOriginalMonthlyPrice:19.9,displayMonthlyPrice:19.9,displayNextMonthlyPrice:19.9,displayYearlyDiscountPercent:0,promotionTag:"",promotionExpiredAt:0,displayDayPrice:0,credit:3e3},{key:"boost_yearly",productId:"boost_yearly",version:"boost",interval:"year",discountAmount:0,originalPrice:199,price:199,nextPrice:199,trialDays:0,isRecommend:!1,displayDiscountAmount:0,displayDiscountPercent:0,displayOriginalMonthlyPrice:16.6,displayMonthlyPrice:16.6,displayNextMonthlyPrice:16.6,displayYearlyDiscountPercent:17,promotionTag:"",promotionExpiredAt:0,displayDayPrice:0,credit:3e3},{key:"elite_monthly",productId:"elite_monthly",version:"elite",interval:"month",discountAmount:0,originalPrice:39.9,price:39.9,nextPrice:39.9,trialDays:0,isRecommend:!1,displayDiscountAmount:280,displayDiscountPercent:0,displayOriginalMonthlyPrice:39.9,displayMonthlyPrice:39.9,displayNextMonthlyPrice:39.9,displayYearlyDiscountPercent:0,promotionTag:"",promotionExpiredAt:0,displayDayPrice:0,credit:5e3},{key:"elite_yearly",productId:"elite_yearly_v2",version:"elite",interval:"year",discountAmount:40,originalPrice:199,price:159,nextPrice:159,trialDays:0,isRecommend:!0,displayDiscountAmount:0,displayDiscountPercent:47,displayOriginalMonthlyPrice:24.9,displayMonthlyPrice:13.3,displayNextMonthlyPrice:13.3,displayYearlyDiscountPercent:80,promotionTag:"education_discount_159",promotionExpiredAt:0,displayDayPrice:.5,credit:5e3}],teamPlanList:[{key:"team_monthly",productId:"team_monthly",version:"team",interval:"month",discountAmount:0,originalPrice:19,price:19,nextPrice:19,trialDays:0,displayDiscountAmount:0,displayDiscountPercent:0,displayOriginalMonthlyPrice:19,displayMonthlyPrice:19,displayNextMonthlyPrice:19,displayYearlyDiscountPercent:0,promotionTag:"",promotionExpiredAt:0,credit:5e4,isRecommend:!1},{key:"team_yearly",productId:"team_yearly",version:"team",interval:"year",discountAmount:0,originalPrice:169,price:169,nextPrice:169,trialDays:0,displayDiscountAmount:0,displayDiscountPercent:0,displayOriginalMonthlyPrice:169,displayMonthlyPrice:169,displayNextMonthlyPrice:169,displayYearlyDiscountPercent:0,promotionTag:"",promotionExpiredAt:0,credit:5e4,isRecommend:!1}],addons:[{key:"add_package_4000",productId:"add_package_4000",price:9.9,credit:4e3,isRecommend:!1},{key:"add_package_12000",productId:"add_package_12000",price:29.9,credit:12e3,isRecommend:!0},{key:"add_package_28000",productId:"add_package_28000",price:69,credit:28e3,isRecommend:!1}],giftCardList:[]},n=[{version:"elite",quotaInfo:[{module:"mobile_basic_query",planPeriod:"month",planTotal:0},{module:"artist_bot",planPeriod:"month",planTotal:600},{module:"basic_query",planPeriod:"month",planTotal:99999},{module:"genius_bot",planPeriod:"month",planTotal:99999},{module:"claude_100k",planPeriod:"month",planTotal:99999},{module:"claude2",planPeriod:"month",planTotal:99999}]},{version:"boost",quotaInfo:[{module:"mobile_basic_query",planPeriod:"month",planTotal:0},{module:"artist_bot",planPeriod:"month",planTotal:400},{module:"basic_query",planPeriod:"month",planTotal:1e4},{module:"genius_bot",planPeriod:"month",planTotal:400},{module:"claude_100k",planPeriod:"month",planTotal:1e4},{module:"claude2",planPeriod:"month",planTotal:400}]},{version:"starter",quotaInfo:[{module:"mobile_basic_query",planPeriod:"month",planTotal:0},{module:"artist_bot",planPeriod:"month",planTotal:200},{module:"basic_query",planPeriod:"month",planTotal:5e3},{module:"genius_bot",planPeriod:"month",planTotal:200},{module:"claude_100k",planPeriod:"month",planTotal:5e3},{module:"claude2",planPeriod:"month",planTotal:200}]},{version:"basic",quotaInfo:[{module:"mobile_basic_query",planPeriod:"month",planTotal:0},{module:"artist_bot",planPeriod:"month",planTotal:200},{module:"basic_query",planPeriod:"month",planTotal:5e3},{module:"genius_bot",planPeriod:"month",planTotal:200},{module:"claude_100k",planPeriod:"month",planTotal:5e3},{module:"claude2",planPeriod:"month",planTotal:200}]},{version:"free",quotaInfo:[{module:"mobile_basic_query",planPeriod:"month",planTotal:0},{module:"artist_bot",planPeriod:"month",planTotal:0},{module:"basic_query",planPeriod:"day",planTotal:40},{module:"genius_bot",planPeriod:"forever",planTotal:0},{module:"claude_100k",planPeriod:"day",planTotal:40},{module:"claude2",planPeriod:"forever",planTotal:0}]},{version:"mobile_lite",quotaInfo:[{module:"mobile_basic_query",planPeriod:"month",planTotal:99999},{module:"artist_bot",planPeriod:"month",planTotal:0},{module:"basic_query",planPeriod:"day",planTotal:40},{module:"genius_bot",planPeriod:"month",planTotal:0},{module:"claude_100k",planPeriod:"day",planTotal:40},{module:"claude2",planPeriod:"month",planTotal:0}]}]},47720:function(e,t,s){s.d(t,{serverConfigController:function(){return v}});var i=s(66084),n=s(52921),r=s(34491),o=s(22046),a=s(88882),l=s(56607),u=s(60445),d=s(92660),c=s(92235),h=s(15739),p=s(73047),m=s(38172),g=s(48655);class y{get S(){return a.S.Global.controllers.serverConfigController.CopyManager}get isUnlimitedPlan(){return"elite_monthly"===this.parent.recommendPlan.key||"elite_yearly"===this.parent.recommendPlan.key}get unlimitedQueriesTip(){return(0,a.x)(this.S.unlimitedAdvancedQueriesTip,{query:1600})}get otherPlanFeatures(){return Object.values(this.S.otherPlanFeatures)}get proPlanFeatures(){let e=this.S.upgradeBadgeFeatures;return[e.moreQuota,e.feature1,e.feature2,e.feature3,e.feature4]}get featuresForUpgradeBadge(){let e=this.S.upgradeBadgeFeatures;return this.isUnlimitedPlan?[{text:e.unlimitedQuota,tip:this.unlimitedQueriesTip},e.feature1,e.feature2,e.feature3,e.feature4]:this.proPlanFeatures}get featuresForUpgradeCard(){let e=this.S.featuresForUpgradeCard;return[this.isUnlimitedPlan?e.query:e.moreQueries,e.webSummary,e.pdfAndWebAccess]}get featuresForRecommendUpgradeDialog(){let e=this.S.featuresForRecommendUpgradeDialog;return this.isUnlimitedPlan?Object.values(e):this.otherPlanFeatures}get featuresForChatAdCard(){return this.isUnlimitedPlan?this.S.featuresForChatAdCard.unlimitedIntro:this.S.featuresForChatAdCard.otherPlanIntro}get recommendPlanBenefit(){return[this.S.recommendPlanBenefit.unlockAll,this.S.recommendPlanBenefit.aiArt,this.S.recommendPlanBenefit.platform,this.S.recommendPlanBenefit.allTools]}getPlanNameConfig(e){return"starter_monthly"===e?{name:"Monica Pro",shortName:"Pro",fullName:(0,a.x)(this.S.planMonthlyFullName,{plan:"Monica Pro"})}:"starter_yearly"===e?{name:"Monica Pro",shortName:"Pro",fullName:(0,a.x)(this.S.planAnnualFullName,{plan:"Monica Pro"})}:"basic_monthly"===e?{name:"Monica Starter",shortName:"Starter",fullName:(0,a.x)(this.S.planMonthlyFullName,{plan:"Monica Starter"})}:"basic_yearly"===e?{name:"Monica Starter",shortName:"Starter",fullName:(0,a.x)(this.S.planAnnualFullName,{plan:"Monica Starter"})}:"boost_monthly"===e?{name:"Monica Pro+",shortName:"Pro+",fullName:(0,a.x)(this.S.planMonthlyFullName,{plan:"Monica Pro+"})}:"boost_yearly"===e?{name:"Monica Pro+",shortName:"Pro+",fullName:(0,a.x)(this.S.planAnnualFullName,{plan:"Monica Pro+"})}:"elite_monthly"===e?{name:"Unlimited",shortName:"Unlimited",fullName:(0,a.x)(this.S.planMonthlyFullName,{plan:"Unlimited"})}:{name:"Unlimited",shortName:"Unlimited",fullName:(0,a.x)(this.S.planAnnualFullName,{plan:"Unlimited"})}}getPlanIntervalName(e){return"year"===e.interval?this.S.yearly:"month"===e.interval?this.S.monthly:""}getVersionDisplayName(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=t,i="";return"starter"===e?i="Pro":"basic"===e?i="Starter":"boost"===e?i="Pro+":"elite"===e?(i="Unlimited",s=!0):"mobile_lite"===e?i="Plus":"team"===e?(i="Team Plan",s=!0):i=c.m.capitalize(e),s?i:"".concat(d.N$," ").concat(i)}formatDiscountPercent(e){return 0===e?"":"".concat(e,"%")}formatPrice(e){return"".concat(this.parent.currency).concat(e)}formatPriceByField(e,t){let s=e[t]||0;if(e.localPlan&&t in e.localPlan&&e.localPlan.currency){let s=e.localPlan[t];return"".concat(e.localPlan.currency).concat(s)}return this.formatPrice(s)}constructor(e){(0,i._)(this,"parent",void 0),(0,i._)(this,"someState",void 0),this.parent=e,this.someState=!1,(0,p.rC)(this)}}(0,n.gn)([r.SB],y.prototype,"someState",void 0),(0,n.gn)([p.Fl],y.prototype,"S",null),(0,n.gn)([p.Fl],y.prototype,"isUnlimitedPlan",null),(0,n.gn)([p.Fl],y.prototype,"unlimitedQueriesTip",null),(0,n.gn)([p.Fl],y.prototype,"otherPlanFeatures",null),(0,n.gn)([p.Fl],y.prototype,"proPlanFeatures",null),(0,n.gn)([p.Fl],y.prototype,"featuresForUpgradeBadge",null),(0,n.gn)([p.Fl],y.prototype,"featuresForUpgradeCard",null),(0,n.gn)([p.Fl],y.prototype,"featuresForRecommendUpgradeDialog",null),(0,n.gn)([p.Fl],y.prototype,"featuresForChatAdCard",null),(0,n.gn)([p.Fl],y.prototype,"recommendPlanBenefit",null);var S=s(63038),_=s(66928);class f{get S(){return a.S.Global.controllers.serverConfigController}get defaultI18nData(){return{monicaModelListV2:{advance:[{name:"GPT-4o",shortName:"GPT-4o",key:"gpt_4o",useModel:"gpt-4o",iconUrl:"https://files.monica-cdn.im/assets/png/gpt.png",description:this.S.DefaultConfig.MonicaModelListV2.gpt40Desc,capabilities:["tools","read_image","memory"],usageModule:"genius_bot"},{name:"Claude 3.5 Sonnet V2",shortName:"Sonnet",key:"claude_3.5_sonnet",useModel:"claude-3.5-sonnet",iconUrl:"https://files.monica-cdn.im/assets/img/apps_avatar/claude-star-100x100.png",description:this.S.DefaultConfig.MonicaModelListV2.claude35SonnetDesc,capabilities:["tools","read_image","memory"],recommend:!0,usageModule:"genius_bot"},{name:"Llama 3.1 405B",shortName:"Llama 3.1",key:"llama_3_1_405b",useModel:"llama-3.1-405b",iconUrl:"https://files.monica-cdn.im/assets/img/apps_avatar/meta-circle.png",description:this.S.DefaultConfig.MonicaModelListV2.llama31405bDesc,capabilities:[],usageModule:"genius_bot"},{name:"Grok Beta",shortName:"Grok",key:"groq_beta",useModel:"grok-beta",iconUrl:"https://files.monica-cdn.im/assets/img/apps_avatar/groq-beta.png",description:this.S.DefaultConfig.MonicaModelListV2.grokDesc,capabilities:[],usageModule:"genius_bot"}],inference:[{name:"Steiner-preview",shortName:"Steiner",key:"steiner",useModel:"steiner",iconUrl:"https://files.monica-cdn.im/assets/img/apps_avatar/steiner-preview-round.png",description:this.S.DefaultConfig.MonicaModelListV2.steinerDesc,capabilities:[],tag:"in-house",usageModule:"genius_bot"},{name:"o1-preview",shortName:"o1-preview",key:"openai_o_1",useModel:"openai-o-1",iconUrl:"https://files.monica-cdn.im/assets/png/gpt.png",description:this.S.DefaultConfig.MonicaModelListV2.o1PreviewDesc,capabilities:[],usageModule:"credits"},{name:"o3-mini",shortName:"o3-mini",key:"openai_o_3_mini",useModel:"openai-o-3-mini",iconUrl:"https://files.monica-cdn.im/assets/png/gpt.png",description:this.S.DefaultConfig.MonicaModelListV2.o1PreviewDesc,capabilities:["tools"],usageModule:"genius_bot"}],basic:[{name:"DeepSeek V3",shortName:"DeepSeek V3",key:"deepseek_chat",useModel:"deepseek-chat",iconUrl:"https://files.monica-cdn.im/assets/img/apps_avatar/deepseek-chat.png",description:this.S.DefaultConfig.MonicaModelListV2.deepSeekV3Desc,capabilities:[],tag:"free",usageModule:"basic_query"},{name:"DeepSeek R1",shortName:"DeepSeek R1",key:"deepseek_reasoner",useModel:"deepseek-reasoner",iconUrl:"https://files.monica-cdn.im/assets/img/apps_avatar/deepseek-chat.png",description:this.S.DefaultConfig.MonicaModelListV2.deepSeekR1Desc,capabilities:["tools","read_image"],tag:"free",usageModule:"basic_query"},{name:"GPT-4o mini",shortName:"GPT-4o mini",key:"gpt_4o_mini",useModel:"gpt-4o-mini",iconUrl:"https://files.monica-cdn.im/assets/img/apps_avatar/openai-o1-v2.png",description:this.S.DefaultConfig.MonicaModelListV2.gpt4oMiniDesc,capabilities:["tools"],tag:"free",usageModule:"basic_query"},{name:"Gemini 2.0 Pro",shortName:"Gemini Pro",key:"gemini_2_0_pro",useModel:"gemini-2.0-pro",iconUrl:"https://files.monica-cdn.im/assets/png/gemini.png",description:this.S.DefaultConfig.MonicaModelListV2.gemini2ProDesc,capabilities:["tools"],tag:"free",usageModule:"basic_query"},{name:"Gemini 2.0 Flash",shortName:"Gemini 2.0 Flash",key:"gemini_2_0_flash",useModel:"gemini-2.0",iconUrl:"https://files.monica-cdn.im/assets/png/gemini.png",description:this.S.DefaultConfig.MonicaModelListV2.gemini2FlashDesc,capabilities:[],tag:"free",usageModule:"basic_query"},{name:"Claude 3.5 Haiku",shortName:"3.5 haiku",key:"claude_3.5_haiku",useModel:"claude-3.5-haiku",iconUrl:"https://files.monica-cdn.im/assets/img/apps_avatar/claude-star-100x100.png",description:this.S.DefaultConfig.MonicaModelListV2.claude35HaikuDesc,capabilities:["tools"],tag:"free",usageModule:"basic_query"},{name:"Llama 3.3 70B",shortName:"Llama 3.3 70B",key:"llama_3_3_70b",useModel:"llama-3.3-70b",iconUrl:"https://files.monica-cdn.im/assets/img/apps_avatar/meta-circle.png",description:this.S.DefaultConfig.MonicaModelListV2.llama3370bDesc,capabilities:[],tag:"free",usageModule:"basic_query"},{name:"Nemotron 70B",shortName:"Nemotron",key:"llama_3.1_nemotron_70b",useModel:"llama-3.1-nemotron-70b",iconUrl:"https://files.monica-cdn.im/assets/img/apps_avatar/llama-nemotron.png",description:this.S.DefaultConfig.MonicaModelListV2.nemotron70bDesc,capabilities:[],tag:"free",usageModule:"basic_query"},{name:"Qwen2.5 72B",shortName:"Qwen",key:"qwen_2.5_72b",useModel:"qwen-2.5-72b",iconUrl:"https://files.monica-cdn.im/assets/img/apps_avatar/qwen.png",description:this.S.DefaultConfig.MonicaModelListV2.qwen2572bDesc,capabilities:[],tag:"free",usageModule:"basic_query"},{name:"Gemini 1.5 Flash-8B",shortName:"Gemini 1.5",key:"gemini_1_5_flash_8b",useModel:"gemini-1.5-flash-8b",iconUrl:"https://files.monica-cdn.im/assets/png/gemini.png",description:this.S.DefaultConfig.MonicaModelListV2.gemini15Flash8bDesc,capabilities:[],tag:"free",usageModule:"basic_query"}]},monicaKnowledgeSourceList:[{description:this.S.DefaultConfig.MonicaKnowledgeSourceList.webDesc,iconUrl:"https://assets.monica.im/assets/png/web_unselect.png",key:"web",name:this.S.DefaultConfig.MonicaKnowledgeSourceList.webName,selectIconUrl:"https://assets.monica.im/assets/png/web_select.png",skillUid:"web_access"},{description:this.S.DefaultConfig.MonicaKnowledgeSourceList.newsDesc,iconUrl:"https://assets.monica.im/assets/png/news_unselect.png",key:"news",name:this.S.DefaultConfig.MonicaKnowledgeSourceList.newsName,selectIconUrl:"https://assets.monica.im/assets/png/news_select.png",skillUid:"web_access"},{description:this.S.DefaultConfig.MonicaKnowledgeSourceList.academicDesc,iconUrl:"https://assets.monica.im/assets/png/academic_unselect.png",key:"academic",name:this.S.DefaultConfig.MonicaKnowledgeSourceList.academicName,selectIconUrl:"https://assets.monica.im/assets/png/academic_select.png",skillUid:"web_access"},{description:this.S.DefaultConfig.MonicaKnowledgeSourceList.developerDesc,iconUrl:"https://assets.monica.im/assets/png/developer_unselect.png",key:"developer",name:this.S.DefaultConfig.MonicaKnowledgeSourceList.developerName,selectIconUrl:"https://assets.monica.im/assets/png/developer_select.png",skillUid:"web_access"},{description:this.S.DefaultConfig.MonicaKnowledgeSourceList.myMemoDesc,iconUrl:"https://assets.monica.im/assets/png/memo_unselect.png",key:"my_memo",name:this.S.DefaultConfig.MonicaKnowledgeSourceList.myMemoName,selectIconUrl:"https://assets.monica.im/assets/png/meme_select.png",skillUid:"web_access"}],translateFreeApiTimeoutMs:1300,creditsUsage:_.fI}}get paymentPlatform(){if(!o.S.isRunInServerSide){let e=new URL(window.location.href).searchParams.get("paymentPlatform");if(e)return e}return this.planConfigs.paymentPlatform||"paddle"}get isOneTimePayment(){return"fastspring_single"===this.paymentPlatform}get trialDays(){return this.recommendPlan.trialDay||3}get isEducationDiscountPage(){return l.o.isWeb&&o.S.location.pathname.includes(u.Cl.educationPricing)}get planList(){return(this.isEducationDiscountPage?this.planConfigs.eduPlanList||S.i.eduPlanList:this.planConfigs.userPlanList).map(e=>this.convertSubscriptionCoToPlanItem(e))}get defaultPlanList(){return(this.isEducationDiscountPage?S.i.eduPlanList:S.i.userPlanList).map(e=>this.convertSubscriptionCoToPlanItem(e))}get teamPlanList(){return(this.planConfigs.teamPlanList||S.i.teamPlanList).map(e=>this.convertSubscriptionCoToPlanItem(e))}get recommendPlan(){return this.planList.find(e=>e.isRecommend)||this.planList.find(e=>"elite_yearly"===e.key)||this.defaultPlanList.find(e=>"elite_yearly"===e.key)}get promotionData(){let e=(this.isEducationDiscountPage?this.planConfigs.eduPlanList||S.i.eduPlanList:this.planConfigs.userPlanList).find(e=>e.isRecommend);return{tag:(null==e?void 0:e.promotionTag)||"",expiredAt:null==e?void 0:e.promotionExpiredAt}}get currency(){return"US$"}genPrice(e){return"".concat(this.currency).concat(e)}getExpConfig(e){let t;let{expName:s,groupNameMap:i,defaultConfig:n}=e,r=this.expConfigDetails.find(e=>e.experimentName===s);t=r?(0,p.ZN)(r):{experimentName:s,version:-1,...n};let a=new URL(o.S.location.href),l=a.searchParams.get("monica_exp"),u=a.searchParams.get("monica_group"),d=Object.values(i);l===s&&u&&d.includes(u)&&(t.groupName=u);let c={experimentInfoReport:[{groupId:t.groupName,expId:t.experimentName,...t.reportData||{}}]};return t.reportData=c,t}async loadStaticConfig(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=_.gD[e];if(!s.length){console.warn("[serverConfigController]loadStaticConfig: config keys is empty - ",e);return}await g.Cc.manualUpdateStaticConfig(s,t)}getPlan(e){return this.planList.find(t=>t.key===e)||this.defaultPlanList.find(t=>t.key===e)}getPlanWithVersion(e,t){let s=s=>s.version===e&&s.interval===t;return this.planList.find(s)||this.defaultPlanList.find(s)}getStaticConfig(e){var t;return(null===(t=this.staticConfig)||void 0===t?void 0:t[e])||this.defaultI18nData[e]}async init(){if(this.inited){this.staticConfigReadySource.markReady();return}this.inited=!0,g.Cc.on("configChanges",e=>{var t,s,i;this.handleExpConfigDetailsChange(null!==(t=e.expConfigDetails)&&void 0!==t?t:[]),this.handlePlanConfigChange(null!==(s=e.planConfigs)&&void 0!==s?s:null),this.handleStaticConfigChange(null!==(i=e.staticConfigs)&&void 0!==i?i:null)}),g.Cc.getExperimentConfig().then(e=>{this.handleExpConfigDetailsChange(e)}),g.Cc.getPlanConfigs().then(e=>{this.handlePlanConfigChange(e)}),g.Cc.getStaticConfig().then(e=>{this.handleStaticConfigChange(e)}),m.W.on("userLogout",()=>{g.Cc.syncConfig(!0)})}getFreePlanLocaleCurrent(){var e,t;return null===(t=this.planConfigs.userPlanList.find(e=>"free"===e.version))||void 0===t?void 0:null===(e=t.localPlan)||void 0===e?void 0:e.currency}formatLocalePrice(e){let t=this.getFreePlanLocaleCurrent();return t?"".concat(t).concat(e):this.copywritingManager.formatPrice(e)}handleExpConfigDetailsChange(e){e.length&&(this.expConfigDetails=e)}handlePlanConfigChange(e){e?(this.planConfigs=e,this.planConfigsReadySource.markReady()):setTimeout(()=>{this.planConfigsReadySource.ready||this.planConfigsReadySource.markReady()},3e3)}convertSubscriptionCoToPlanItem(e){var t;let s=this.copywritingManager.getPlanNameConfig(e.key);return{key:e.key,name:s.name,shortName:s.shortName,fullName:s.fullName,discountAmount:e.discountAmount,monthlyDiscountPercent:this.copywritingManager.formatDiscountPercent(e.displayDiscountPercent),pricingPageDiscountAmount:this.copywritingManager.formatPriceByField(e,"displayDiscountAmount"),yearlyDiscountPercent:this.copywritingManager.formatDiscountPercent(e.displayYearlyDiscountPercent),period:e.interval,originPrice:this.copywritingManager.formatPriceByField(e,"originalPrice"),originMoPrice:this.copywritingManager.formatPriceByField(e,"displayOriginalMonthlyPrice"),price:this.copywritingManager.formatPriceByField(e,"price"),dayPrice:this.copywritingManager.formatPriceByField(e,"displayDayPrice"),moPrice:this.copywritingManager.formatPriceByField(e,"displayMonthlyPrice"),nextPrice:this.copywritingManager.formatPriceByField(e,"nextPrice"),nextMoPrice:this.copywritingManager.formatPriceByField(e,"displayNextMonthlyPrice"),trialDay:e.trialDays,version:e.version,interval:e.interval,isRecommend:e.isRecommend,credit:e.credit,originYearlyPrice:this.getOriginYearlyPrice(e),newUserPromotion:null===(t=e.discountCode)||void 0===t?void 0:t.startsWith(d.ku.NEW_USER),_meta:e}}getOriginYearlyPrice(e){var t,s;if(!(0,h.Z)(e.displayOriginalMonthlyPrice))return"";if((null===(t=e.localPlan)||void 0===t?void 0:t.currency)&&e.localPlan.displayOriginalMonthlyPrice){let t=Math.round(12*e.localPlan.displayOriginalMonthlyPrice);return"".concat(null===(s=e.localPlan)||void 0===s?void 0:s.currency).concat(t)}return this.copywritingManager.formatPrice(Math.round(12*e.displayOriginalMonthlyPrice))}handleStaticConfigChange(e){e&&(this.staticConfig=e,this.staticConfigReadySource.ready||this.staticConfigReadySource.markReady())}constructor(){(0,i._)(this,"copywritingManager",new y(this)),(0,i._)(this,"planConfigsReadySource",c.m.createReadySource()),(0,i._)(this,"staticConfigReadySource",c.m.createReadySource()),(0,i._)(this,"expConfigDetails",[]),(0,i._)(this,"planConfigs",S.i),(0,i._)(this,"staticConfig",null),(0,i._)(this,"planUsageInfos",S.F),(0,i._)(this,"inited",!1),(0,p.rC)(this)}}(0,n.gn)([r.SB],f.prototype,"expConfigDetails",void 0),(0,n.gn)([r.SB],f.prototype,"planConfigs",void 0),(0,n.gn)([r.SB],f.prototype,"staticConfig",void 0),(0,n.gn)([r.SB],f.prototype,"planUsageInfos",void 0),(0,n.gn)([p.Fl],f.prototype,"S",null),(0,n.gn)([p.Fl],f.prototype,"defaultI18nData",null),(0,n.gn)([p.Fl],f.prototype,"paymentPlatform",null),(0,n.gn)([p.Fl],f.prototype,"isOneTimePayment",null),(0,n.gn)([p.Fl],f.prototype,"trialDays",null),(0,n.gn)([p.Fl],f.prototype,"isEducationDiscountPage",null),(0,n.gn)([p.Fl],f.prototype,"planList",null),(0,n.gn)([p.Fl],f.prototype,"defaultPlanList",null),(0,n.gn)([p.Fl],f.prototype,"teamPlanList",null),(0,n.gn)([p.Fl],f.prototype,"recommendPlan",null),(0,n.gn)([p.Fl],f.prototype,"promotionData",null),(0,n.gn)([p.Fl],f.prototype,"currency",null);let v=new f},66928:function(e,t,s){s.d(t,{BO:function(){return n},fI:function(){return a},gD:function(){return o}});var i,n,r=s(85132);(i=n||(n={})).MainWindowFirstScreen="MainWindowFirstScreen",i.Toolkit="Toolkit",i.AddSkillModal="AddSkillModal",i.SearchEnhance="SearchEnhance",i.DocChatPage="DocChatPage",i.Discover="Discover",i.ChatHomeView="ChatHomeView";let o={MainWindowFirstScreen:[r.$.monicaKnowledgeSourceList,r.$.monicaModelListV3,r.$.allModelList,r.$.customBotModelListV2,r.$.skillCardModels,r.$.professionPromptList,r.$.translateFreeApiTimeoutMs,r.$.countryListOne,r.$.extHomeAd,r.$.extHomeAdFree],Toolkit:[r.$.toolConfig],AddSkillModal:[r.$.skillConfigList],SearchEnhance:[r.$.inviteAd,r.$.seInviteAd,r.$.seAd],DocChatPage:[r.$.monicaModelListV3,r.$.allModelList],Discover:[r.$.discoverRecommendList,r.$.banners,r.$.toolList],ChatHomeView:[r.$.aiImageList,r.$.toolList]},a={imageSpent:3,videoSpent:21,translateWord:2e3,tokenSpent:500,voiceSpent:300}},18918:function(e,t,s){s.d(t,{teamController:function(){return v}});var i=s(66084),n=s(52921),r=s(34491),o=s(88882),a=s(56607),l=s(92235),u=s(60445),d=s(73047),c=s(33381),h=s(15851),p=s(57434),m=s(38172),g=s(44469),y=s(73361),S=s(48655),_=s(13942);class f{get S(){return o.S.Global.controllers.teamController}get teamInfos(){let e=[],t=this.teamDetail;if(0===this.workspaceList.length&&t&&c.userController.userInfo){var s,i;let n={teamId:t.teamInfo.teamId,userId:c.userController.userInfo.id,teamAvatar:t.teamInfo.teamAvatar,teamName:t.teamInfo.teamName,roleType:t.ownerInfo.roleType,createdAt:t.teamInfo.createdAt,teamStatus:t.teamInfo.teamStatus,totalSeats:t.memberCount,usedSeats:t.userCount,ownerUserId:t.ownerInfo.userId,isLocked:null===(s=c.userController.userVipStatus)||void 0===s?void 0:s.isLocked,interval:t.interval};return(null===(i=c.userController.userInfo)||void 0===i?void 0:i.id)===n.userId&&c.userController.userVipStatus&&(n.interval="month"===c.userController.userVipStatus.interval?"month":"year",n.nextBillingTime=c.userController.userVipStatus.currentPeriodEnd||0),e.push(n),e}return this.workspaceList.forEach(t=>{if("personal"!==t.workspaceType){var s,i;let n=(null===(s=this.teamDetail)||void 0===s?void 0:s.teamInfo.teamId)===t.teamId,r={teamId:t.teamId,userId:t.userId,teamAvatar:t.workspaceAvatar,teamName:t.workspaceName,roleType:t.teamRoleType,createdAt:t.createdAt,isLocked:t.isLocked,teamStatus:"created"};this.teamDetail&&n&&(r.teamStatus=this.teamDetail.teamInfo.teamStatus,r.totalSeats=this.teamDetail.memberCount,r.usedSeats=this.teamDetail.userCount,r.ownerUserId=this.teamDetail.ownerInfo.userId,r.interval=this.teamDetail.interval),(null===(i=c.userController.userInfo)||void 0===i?void 0:i.id)===r.userId&&c.userController.userVipStatus&&(r.nextBillingTime=c.userController.userVipStatus.currentPeriodEnd||0),e.push(r)}}),e}get personalInfo(){for(let e=0;e<this.workspaceList.length;e++){let t=this.workspaceList[e];if("personal"===t.workspaceType)return t}return null}get currentTeamInfo(){return this.teamInfos.find(e=>{var t;return e.userId===(null===(t=c.userController.userInfo)||void 0===t?void 0:t.id)})}get isTeamAccount(){return!!this.currentTeamInfo}get isOwner(){var e;return(null===(e=this.currentTeamInfo)||void 0===e?void 0:e.roleType)==="owner"}get isAdmin(){var e;return(null===(e=this.currentTeamInfo)||void 0===e?void 0:e.roleType)==="admin"}get hasManagePermission(){return this.isOwner||this.isAdmin}get isAdditionalPurchase(){return this.isTeamAccount&&this.hasManagePermission}async init(){await this.updateWorkspaceList(!0),p.Yl.on("configChanges",e=>{e.workspaceList&&this.handleWorkspaceListChange(e.workspaceList)}),a.o.isWeb&&(this.channel=new BroadcastChannel("refresh_channel"),this.channel.onmessage=()=>{window.location.reload()})}async selectWorkspace(e){if(this.switchingWorkspace)return;this.switchingWorkspace=!0,await m.W.handleLogout();let t=await p.Yl.selectWorkspace(e);!a.o.isProd&&a.o.isWeb&&t.data.token&&window.location.origin.includes("localhost")&&(document.cookie="session_id=".concat(t.data.token,";"));try{await this.updateWorkspaceList(!1,!0),await this.updateCurrentTeamInfo()}catch(e){console.error(e)}if(await Promise.all([c.userController.fetchUserInfo({needLoading:!1}),c.userController.fetchVipStatus({needLoading:!1})]),a.o.isWeb){var s;await _.P.sendMessageToExt({event:"markAuth",payload:{loginEntry:"web",token:"",userInfo:(0,d.ZN)(c.userController.userInfo),userVipStatus:(0,d.ZN)(c.userController.userVipStatus)}}),null===(s=this.channel)||void 0===s||s.postMessage("refresh")}for(let[e,t]of(a.o.isExtension&&g.T3.reloadAllMonicaTabs(),y.gM.updateUsageInfos(),this.fetchAutoDeductionInfo(),S.Cc.syncConfig(!0),this.switchingWorkspace=!1,Object.entries(this.switchWorkspaceListeners)))t.forEach(e=>e())}async updateWorkspaceList(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.workspaceListLoaded&&!e&&!t)return;e||(this.workspaceListLoaded=!0);let s=await p.Yl.getWorkspaces(e);this.workspaceList=s}async updateCurrentTeamInfo(){try{let{data:e}=await p.Yl.getTeamInfo();this.teamDetail=e}catch(e){this.teamDetail=null}this.inited=!0}setViews(e){this.views=e}async resetInviteLink(e){await p.Yl.refreshInviteLink(e),await this.fetchInviteLink()}async toggleInviteLink(e){if(!this.inviteLinkData){console.warn("Invite link ");return}e?await p.Yl.startInviteLink():await p.Yl.stopInviteLink(),await this.fetchInviteLink()}async fetchInviteLink(){let{data:e}=await p.Yl.getInviteLink({});this.inviteLinkData=e}async transferOwner(e){var t,s;for(let i of(await p.Yl.transformTeamOwner({transformUserId:e,teamId:null===(t=this.currentTeamInfo)||void 0===t?void 0:t.teamId}),this.workspaceList))if(i.teamId===(null===(s=this.currentTeamInfo)||void 0===s?void 0:s.teamId)){i.teamRoleType="member";break}}async fetchPendingInvitations(){this.allPendingInvitationsLoading=!0;try{let{data:e}=await p.Yl.getTeamReviewList({});this.allPendingInvitations=e.infoList,this.allPendingInvitationsTotal=e.totalCount}catch(e){if((null==e?void 0:e.code)===13001)return;h.M.error(l.m.formatErrorMsg(e))}finally{this.allPendingInvitationsLoading=!1}}genTeamMemberPageUrl(e){return l.m.genFullUrl(l.m.genUrl(u.Cl.teamMember,e))}async getUnCreatedTeamInfo(){try{let{data:e}=await p.Yl.getCreatedTeam();if(e.exists&&e.teamInfo&&e.subscribeInfo){let{membershipCount:t,nextPayAt:s,payInterval:i}=e.subscribeInfo;this.uncreatedTeamInfo={...e.teamInfo,interval:"month"===i?"month":"year",nextBillingTime:s,totalSeats:t,userId:0}}else this.uncreatedTeamInfo=null}catch(e){this.uncreatedTeamInfo=null}this.uncreatedTeamReadSource.markReady()}async updateUnCreatedTeamInfo(e){e?this.uncreatedTeamInfo={...this.uncreatedTeamInfo,...e}:this.uncreatedTeamInfo=null}getDisplayPlanName(e){return"year"===e?this.S.annually:this.S.monthly}async fetchAutoDeductionInfo(){try{let{data:e}=await p.Yl.getTeamDeduction();this.deductionInfo=e}catch(e){this.deductionInfo={}}}async updateDeductionInfo(e){await p.Yl.setTeamDeduction(e),this.deductionInfo={...this.deductionInfo,...e}}removeEventListener(e){this.switchWorkspaceListeners[this.getCtxId(e)]=[]}addEventListener(e,t){let s=this.switchWorkspaceListeners[this.getCtxId(e)]||[];s.push(t),this.switchWorkspaceListeners[this.getCtxId(e)]=s}async handleWorkspaceListChange(e){this.workspaceList=e}getCtxId(e){let t=this.ctxIdMap.get(e);if(t)return t;let s=l.m.genShortId();return this.ctxIdMap.set(e,s),s}constructor(){(0,i._)(this,"views",null),(0,i._)(this,"uncreatedTeamReadSource",l.m.createReadySource()),(0,i._)(this,"inited",!1),(0,i._)(this,"workspaceList",[]),(0,i._)(this,"teamDetail",null),(0,i._)(this,"teamInfosLoading",!1),(0,i._)(this,"inviteLinkData",null),(0,i._)(this,"switchingWorkspace",!1),(0,i._)(this,"allPendingInvitations",[]),(0,i._)(this,"allPendingInvitationsLoading",!1),(0,i._)(this,"allPendingInvitationsTotal",0),(0,i._)(this,"uncreatedTeamInfo",null),(0,i._)(this,"deductionInfo",{}),(0,i._)(this,"resubscribeLoading",!1),(0,i._)(this,"createTeamInfo",{logoUrl:"",name:""}),(0,i._)(this,"workspaceListLoaded",!1),(0,i._)(this,"channel",null),(0,i._)(this,"switchWorkspaceListeners",{}),(0,i._)(this,"ctxIdMap",new Map),(0,d.rC)(this)}}(0,n.gn)([r.SB],f.prototype,"inited",void 0),(0,n.gn)([r.SB],f.prototype,"workspaceList",void 0),(0,n.gn)([r.SB],f.prototype,"teamDetail",void 0),(0,n.gn)([r.SB],f.prototype,"teamInfosLoading",void 0),(0,n.gn)([r.SB],f.prototype,"inviteLinkData",void 0),(0,n.gn)([r.SB],f.prototype,"switchingWorkspace",void 0),(0,n.gn)([r.SB],f.prototype,"allPendingInvitations",void 0),(0,n.gn)([r.SB],f.prototype,"allPendingInvitationsLoading",void 0),(0,n.gn)([r.SB],f.prototype,"allPendingInvitationsTotal",void 0),(0,n.gn)([r.SB],f.prototype,"uncreatedTeamInfo",void 0),(0,n.gn)([r.SB],f.prototype,"deductionInfo",void 0),(0,n.gn)([r.SB],f.prototype,"resubscribeLoading",void 0),(0,n.gn)([r.SB],f.prototype,"createTeamInfo",void 0),(0,n.gn)([r.Fl],f.prototype,"S",null),(0,n.gn)([r.Fl],f.prototype,"teamInfos",null),(0,n.gn)([r.Fl],f.prototype,"personalInfo",null),(0,n.gn)([r.Fl],f.prototype,"currentTeamInfo",null),(0,n.gn)([r.Fl],f.prototype,"isTeamAccount",null),(0,n.gn)([r.Fl],f.prototype,"isOwner",null),(0,n.gn)([r.Fl],f.prototype,"isAdmin",null),(0,n.gn)([r.Fl],f.prototype,"hasManagePermission",null),(0,n.gn)([r.Fl],f.prototype,"isAdditionalPurchase",null);let v=new f},15851:function(e,t,s){s.d(t,{M:function(){return u}});var i=s(66084),n=s(92235),r=s(56607),o=s(87077),a=s(82005);class l{info(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultInsertTarget,s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a=n.m.genId();return o.ZP.config({getContainer:()=>this.getContainer(t),prefixCls:"dialogRoot"===t||r.o.isWeb?"ant-message-fixed":"ant-message",duration:s}),this.toast.info({content:e,onClose:()=>this.handleToastClose(a),className:"toast-".concat(a," ").concat(null==i?void 0:i.className),icon:null==i?void 0:i.icon}),{close:()=>this.handleToastClose(a)}}error(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultInsertTarget,s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a=n.m.genId();return o.ZP.config({getContainer:()=>this.getContainer(t),prefixCls:"dialogRoot"===t||r.o.isWeb?"ant-message-fixed":"ant-message",duration:s}),this.toast.warning({content:e,onClose:()=>this.handleToastClose(a),className:"toast-".concat(a," ").concat(null==i?void 0:i.className),icon:null==i?void 0:i.icon}),{close:()=>this.handleToastClose(a)}}success(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultInsertTarget,s=arguments.length>2?arguments[2]:void 0,i=n.m.genId();return o.ZP.config({getContainer:()=>this.getContainer(t),prefixCls:"dialogRoot"===t||r.o.isWeb?"ant-message-fixed":"ant-message",duration:s}),this.toast.success({key:i,content:e,onClose:()=>this.handleToastClose(i),className:"toast-".concat(i)}),{close:()=>this.handleToastClose(i)}}loading(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultInsertTarget,s=n.m.genId();return this.toast.config({getContainer:()=>this.getContainer(t),prefixCls:"dialogRoot"===t||r.o.isWeb?"ant-message-fixed":"ant-message"}),this.toast.loading({key:s,content:e,onClose:()=>this.handleToastClose(s),className:"toast-".concat(s),duration:0}),{close:()=>this.toast.destroy(s)}}getContainer(e){return a.t.getInsertRoot(e)||document.body}constructor(){(0,i._)(this,"defaultInsertTarget",r.o.isWeb?"dialogRoot":"mainWindow"),(0,i._)(this,"toast",o.ZP),(0,i._)(this,"handleToastClose",e=>{a.t.getAllInsertTargets().forEach(t=>{let s=t.querySelector(".toast-".concat(e));s&&s.remove()})})}}let u=new l},33381:function(e,t,s){s.d(t,{userController:function(){return I}});var i,n,r=s(66084),o=s(52921),a=s(34491),l=s(22046),u=s(38172),d=s(92020),c=s(73361),h=s(11502),p=s(88882),m=s(92660),g=s(31640),y=s(56607),S=s(92347),_=s(60445),f=s(861),v=s(92235),T=s(76469),b=s(31284),C=s(65324),P=s(73047),A=s(48655),w=s(90180),E=s(18245),R=s(13942),k=s(54560),x=s(47720),q=s(15851);(i=n||(n={})).NATURAL="natural",i.ADS="ads",i.SEO="seo";class O{get S(){return p.S.Global.controllers.userController}get paymentPlatform(){var e,t,s,i,n,r,o;return(null===(e=this.userVipStatus)||void 0===e?void 0:e.paymentPlatform)==="stripe"?"stripe":(null===(t=this.userVipStatus)||void 0===t?void 0:t.paymentPlatform)==="fastspring"?"fastspring":(null===(s=this.userVipStatus)||void 0===s?void 0:s.paymentPlatform)==="fastspring_sg"?"fastspring_sg":(null===(i=this.userVipStatus)||void 0===i?void 0:i.paymentPlatform)==="apple"?"apple":(null===(n=this.userVipStatus)||void 0===n?void 0:n.paymentPlatform)==="google_play"?"google_play":(null===(r=this.userVipStatus)||void 0===r?void 0:r.paymentPlatform)==="paddle"?"paddle":(null===(o=this.userVipStatus)||void 0===o?void 0:o.paymentPlatform)==="lemon"?"lemon":"fastspring"}get isFromLowIncomeCountry(){var e;return null!==(e=this.userInfo)&&void 0!==e&&!!e.country&&m.jf.includes(this.userInfo.country)}get utmIncludesSpecialCharacter(){if(l.S.isRunInServerSide)return!1;let e=localStorage.getItem(m.storageKeys.utm);return!!e&&["gas","twv","fb"].some(t=>e.trim().toLowerCase().startsWith(t))}get firstEntryFromTools(){var e;if(l.S.isRunInServerSide)return!1;let t=null!==(e=localStorage.getItem(m.storageKeys.firstEntry))&&void 0!==e?e:"";if(!t)return!1;let s=new URL(t).pathname,i=g.q.hasLocaleInPath(s)?"/".concat(s.split("/")[2]):s;return!!(i.startsWith("/pdf")||i.startsWith("/image")||i.startsWith("/share")||i.startsWith("/features")||i.startsWith("/tool")||i.startsWith("/webapp")||i.startsWith("/ai-translate")||i.startsWith("/s"))}get userType(){return this.utmIncludesSpecialCharacter?"ads":this.firstEntryFromTools?"seo":"natural"}get isAdsUser(){return y.o.isExtension?null!==w.A.isAdsUser&&!!w.A.isAdsUser:this.utmIncludesSpecialCharacter||this.isSeoUser}get isChatPdfAdsUser(){var e;return(null===(e=this.userInfo)||void 0===e?void 0:e.registerSource)==="ads_pdf"}get isSeoUser(){return this.firstEntryFromTools}get isLogin(){return!!this.userInfo&&!!this.userVipStatus}get isVipUser(){return!!this.userVipStatus&&"free"!==this.userVipStatus.vipVersion}get isFreeUser(){return!this.userVipStatus||"free"===this.userVipStatus.vipVersion}get canTrial(){return!this.userVipStatus||!this.userVipStatus.usingGiveawayVip&&this.userVipStatus.canUseTrial}get canResubscribe(){return!!this.userVipStatus&&this.userVipStatus.canResubscribe}get onTrial(){return!!this.userVipStatus&&this.userVipStatus.onTrial}get isUnlimitedUser(){var e;return(null===(e=this.userVipStatus)||void 0===e?void 0:e.vipVersion)==="elite"}get authLoading(){return this.userInfoLoading||this.userVipStatusLoading}get shouldEnableTeam(){return!l.S.isRunInServerSide&&(!!window.localStorage.getItem("monica-team-enabled")||!y.o.isWeb&&this.shouldEnable("team"))}get shouldEnableFacebookRoast(){return this.shouldEnable("facebook_roast")}get shouldEnableGrammarly(){return this.shouldEnable("grammarly")}get shouldEnableCompareModel(){return this.shouldEnable("site_integration_compare_bot")}get shouldEnableAdsPromotion(){return this.shouldEnable("ads_promotion")}get shouldEnableOnboardingPaymentAbTest(){return this.shouldEnable("onboarding_payment_ab_test")}get shouldEnableR1Guide(){return this.shouldEnable("r1_guide")}get isCoreCountryUser(){var e;return null!==(e=this.userInfo)&&void 0!==e&&!!e.country&&m.Cr.includes(this.userInfo.country)}get whenReady(){return this._whenReady.promise}async init(){x.serverConfigController.init(),E.K.init(this);try{let e=await u.W.getUserInfo({cacheOnly:!0});e&&(this.hasCachedUserInfo=!0,this.userInfo=e);let t=await u.W.getVipStatus({cacheOnly:!0});t&&(this.hasCachedUserVipStatus=!0,this.userVipStatus=t,this.resetSearchEnhanceTriggerMode()),u.W.on("userLogout",()=>{this.userInfo=null})}catch(e){console.error(e)}this._whenReady.resolve()}setViews(e){this.views=e}initServiceEventListeners(){u.W.on("userVipStatusChange",e=>{this.userVipStatus=e,this.userVipStatusLoading=!1,this.hasCachedUserVipStatus=!!e,d.ll.getUiFlag("disableChatKillsMigration").then(t=>{(null==e?void 0:e.vipVersion)!=="free"||t||(d.ll.set("disabledMonicaChatSkills",{drawImage:!0,bookCalendar:!0,memory:!0}),d.ll.setUiFlag("disableChatKillsMigration",!0))}),d.ll.get(w.A.chatContextModeSaveKey).then(e=>{e===S.p5.Custom&&this.isFreeUser&&d.ll.set(w.A.chatContextModeSaveKey,S.p5.Auto)})}),u.W.on("userInfoChange",e=>{this.userInfo=e,this.hasCachedUserInfo=!!e,this.userInfoLoading=!1,e||(d.ll.setUiFlag("freeCompareAdsShowed",!1),d.ll.setUiFlag("inviteUserCount",null))}),u.W.on("isExceededDeviceLimit",()=>{this.views.openDeviceExceededLimitDialog({insertTarget:"mainWindow"})});let e=l.S.location.pathname,t=["/home","/webapp/","/pdf-tools/","/image-tools/","/tools/","/bypass-ai/","/team/","/profile",_.B9.youtubeSummaryWithChatgpt],s=y.o.isWeb&&t.some(t=>e.includes(t));(y.o.isExtension||y.o.isDesktop||s)&&u.W.on("isTeamLocked",e=>{var t;if(null===(t=this.teamLockedDialogDisposer)||void 0===t||t.call(this),e){let e=this.views.openTeamLockedDialog({insertTarget:y.o.isExtension?"mainWindow":"dialogRoot"});(null==e?void 0:e.dispose)&&(this.teamLockedDialogDisposer=e.dispose)}})}getLoginTraceData(){let e;if(l.S.isRunInServerSide)return{};let t=localStorage.getItem(m.storageKeys.utm)||void 0,s=localStorage.getItem(m.storageKeys.refer)||document.referrer,i=localStorage.getItem(m.storageKeys.firstEntry)||void 0,n=localStorage.getItem(m.storageKeys.installedWithCrx)||!1,r=new URLSearchParams(window.location.search),o=r.get("browser")||void 0,a=r.get("from")||"web",u=localStorage.getItem(m.storageKeys.affiliateClickId)||void 0,d=localStorage.getItem(m.storageKeys.affiliateRefCode)||void 0,c=a;return n?e="crx":o?e=o:f.n.isAndroidApp?c="android":f.n.isIosApp?c="ios":f.n.isH5&&(c="h5"),{utm:t,refer:s,firstEntry:i,installFrom:e,from:a,firstFromPlatform:c,tapClickId:u,tapRefCode:d,origin:new URL(window.location.href).pathname}}async ensureHasCachedUserInfo(){this.hasCachedUserInfo||await new Promise(e=>{let t=(0,P.U5)(()=>this.hasCachedUserInfo,s=>{s&&(e(),t())})})}async fetchUserInfo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{needLoading:t=!1,useCache:s=!1,useMemory:i=!1}=e;if(this.hasFetchedUserInfo||s||(this.hasFetchedUserInfo=!0),!i||!this.hasFetchedUserInfo){t&&(this.userInfoLoading=!0);try{let e=await u.W.getUserInfo({useCache:s});this.userInfo=e}catch(e){console.error(e)}t&&(this.userInfoLoading=!1)}}async fetchVipStatus(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{needLoading:t=!1,useCache:s=!1,useMemory:i=!1}=e;if(this.hasFetchedVipStatus||s||(this.hasFetchedVipStatus=!0),!i||!this.hasFetchedVipStatus){t&&(this.userVipStatusLoading=!0);try{let e=await u.W.getVipStatus({useCache:s});this.userVipStatus=e}catch(e){console.error(e)}t&&(this.userVipStatusLoading=!1)}}async checkLogin(e){if(this.checkLoginPromise&&!e)return await this.checkLoginPromise;let t=[];return t.push(this.fetchUserInfo({needLoading:!0,useCache:!0})),t.push(this.fetchVipStatus({needLoading:!0,useCache:!0})),this.checkLoginPromise=Promise.all(t),c.gM.updateUsageInfos(),await this.checkLoginPromise}getVipIconName(e){return"starter"===e?"vip-star":"boost"===e||"basic"===e?"pro-c3cm1jhl":"unlimited-bfp42d22"}checkAuthForWeb(){return!y.o.isWeb||!!this.isLogin||(this.views.openLoginDialog({insertTarget:"mainWindow"}),!1)}upgrade(e,t,s,i,n){i||h.M.trackPaymentEvent({source:e,botInfo:t,extData:s}),k.u.gotoPricingForSubscribe({source:e,hidDialog:n})}async openPromotion(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"afterChat",t=await d.ll.getUiFlag("feedbackHintClosedAt");t&&Date.now()-t<1296e6||Math.random()>.2||(this.promotionVisible=!0,this.promotionScene=e)}closePromotion(){d.ll.setUiFlag("feedbackHintClosedAt",Date.now()),this.promotionVisible=!1}async setUserInfo(e,t){var s,i;if(!this.userInfo)return;let n=(0,P.ZN)(this.userInfo);await u.W.setUserInfo({...this.userInfo,...e,nameModified:!0}),null==t||null===(s=t.afterSetUserInfo)||void 0===s||s.call(t);try{await u.W.updateUserInfo(e),null==t||null===(i=t.onSuccess)||void 0===i||i.call(t)}catch(e){q.M.error(v.m.formatMonicaSdkError(e)),u.W.setUserInfo(n)}}async resubscribe(e){h.M.createUserBehaviorEvent({eventName:"vip_resubscribe",source:e});try{this.resubscribeLoading=!0,await k.u.resubscribe(),await Promise.all([I.fetchVipStatus(),c.gM.updateUsageInfos()]),window.open(v.m.genUrl(v.m.getWebOrigin()+_.Cl.tools,{showPayDialog:"1"}),"_blank")}catch(e){console.log(e)}finally{this.resubscribeLoading=!1}}async logoffWithReasonV2(e){await C.Cb.userApi.logoffWithReasonV2(e);let t=!1,s=()=>{t||(t=!0,window.location.href=_.Cl.accountDeletion)};R.P.sendMessageToExt({event:"logout",payload:{}},()=>{s()}),setTimeout(()=>{s()},1e3)}async reportTrack(){if(localStorage.getItem(m.storageKeys.googleIdsReported))return;let e=await u.W.getClientId(),t=localStorage.getItem(m.storageKeys.gclid)||"",s=localStorage.getItem(m.storageKeys.gbraid)||"",i=localStorage.getItem(m.storageKeys.wbraid)||"",n=localStorage.getItem(m.storageKeys.extraInfo);if(e&&(t||s||i))try{let r=n?JSON.parse(n):void 0;h.M.reportTrack({clientId:e,gclId:t,gbraId:s,wbraId:i,extraInfo:r}),localStorage.setItem(m.storageKeys.googleIdsReported,"true")}catch(e){console.log(e)}}shouldEnable(e){var t;let s=null===(t=this.userInfo)||void 0===t?void 0:t.disabledFeatures;return!!s&&!s.includes(e)}async resetSearchEnhanceTriggerMode(){if(this.userVipStatus&&"free"===this.userVipStatus.vipVersion&&y.o.isExtension){var e;let t=await A.Cc.getStaticConfig(),s=JSON.parse(((null==t?void 0:t.countryListOne)?atob(t.countryListOne):"")||"[]"),i=await u.W.checkCountry();if(!s.includes(i))return;this.isSeBlacklistedUser=!0;let n=null===(e=w.A.searchEnhanceConfig)||void 0===e?void 0:e.trigger;n!==S.qm.Manually&&n!==S.qm.QuestionMark&&w.A.setSearchEnhanceTrigger(S.qm.Manually)}}constructor(){(0,r._)(this,"userRegisterPayload",null),(0,r._)(this,"eventEmitter",new T.v),(0,r._)(this,"views",void 0),(0,r._)(this,"isCn",null),(0,r._)(this,"userInfo",null),(0,r._)(this,"userVipStatus",null),(0,r._)(this,"userInfoLoading",!0),(0,r._)(this,"userVipStatusLoading",!0),(0,r._)(this,"hasCachedUserInfo",!1),(0,r._)(this,"hasCachedUserVipStatus",!1),(0,r._)(this,"promotionVisible",!1),(0,r._)(this,"promotionScene","afterChat"),(0,r._)(this,"resubscribeLoading",!1),(0,r._)(this,"isSeBlacklistedUser",!1),(0,r._)(this,"switchingWorkspace",!1),(0,r._)(this,"hasFetchedVipStatus",!1),(0,r._)(this,"hasFetchedUserInfo",!1),(0,r._)(this,"checkLoginPromise",null),(0,r._)(this,"_whenReady",new b.B),(0,r._)(this,"teamLockedDialogDisposer",null),(0,P.rC)(this)}}(0,o.gn)([a.SB],O.prototype,"isCn",void 0),(0,o.gn)([a.SB],O.prototype,"userInfo",void 0),(0,o.gn)([a.SB],O.prototype,"userVipStatus",void 0),(0,o.gn)([a.SB],O.prototype,"userInfoLoading",void 0),(0,o.gn)([a.SB],O.prototype,"userVipStatusLoading",void 0),(0,o.gn)([a.SB],O.prototype,"hasCachedUserInfo",void 0),(0,o.gn)([a.SB],O.prototype,"hasCachedUserVipStatus",void 0),(0,o.gn)([a.SB],O.prototype,"promotionVisible",void 0),(0,o.gn)([a.SB],O.prototype,"promotionScene",void 0),(0,o.gn)([a.SB],O.prototype,"resubscribeLoading",void 0),(0,o.gn)([a.SB],O.prototype,"isSeBlacklistedUser",void 0),(0,o.gn)([a.SB],O.prototype,"switchingWorkspace",void 0),(0,o.gn)([P.Fl],O.prototype,"S",null),(0,o.gn)([P.Fl],O.prototype,"paymentPlatform",null),(0,o.gn)([P.Fl],O.prototype,"isFromLowIncomeCountry",null),(0,o.gn)([P.Fl],O.prototype,"utmIncludesSpecialCharacter",null),(0,o.gn)([P.Fl],O.prototype,"firstEntryFromTools",null),(0,o.gn)([P.Fl],O.prototype,"userType",null),(0,o.gn)([P.Fl],O.prototype,"isAdsUser",null),(0,o.gn)([P.Fl],O.prototype,"isChatPdfAdsUser",null),(0,o.gn)([P.Fl],O.prototype,"isSeoUser",null),(0,o.gn)([P.Fl],O.prototype,"isLogin",null),(0,o.gn)([P.Fl],O.prototype,"isVipUser",null),(0,o.gn)([P.Fl],O.prototype,"isFreeUser",null),(0,o.gn)([P.Fl],O.prototype,"canTrial",null),(0,o.gn)([P.Fl],O.prototype,"canResubscribe",null),(0,o.gn)([P.Fl],O.prototype,"onTrial",null),(0,o.gn)([P.Fl],O.prototype,"isUnlimitedUser",null),(0,o.gn)([P.Fl],O.prototype,"authLoading",null),(0,o.gn)([P.Fl],O.prototype,"shouldEnableTeam",null),(0,o.gn)([P.Fl],O.prototype,"shouldEnableFacebookRoast",null),(0,o.gn)([P.Fl],O.prototype,"shouldEnableGrammarly",null),(0,o.gn)([P.Fl],O.prototype,"shouldEnableCompareModel",null),(0,o.gn)([P.Fl],O.prototype,"shouldEnableAdsPromotion",null),(0,o.gn)([P.Fl],O.prototype,"shouldEnableOnboardingPaymentAbTest",null),(0,o.gn)([P.Fl],O.prototype,"shouldEnableR1Guide",null),(0,o.gn)([P.Fl],O.prototype,"isCoreCountryUser",null);let I=new O},67061:function(e,t,s){s.d(t,{L:function(){return d}});var i=s(66084),n=s(52921),r=s(34491),o=s(56607),a=s(40245),l=s(73047);class u{get mainWindowMode(){return"desktop-home"===o.o.entryType||"web-home"===o.o.entryType||"ext-chat-page"===o.o.entryType?"horizontal":"desktop-sidebar"===o.o.entryType||"ext-sidebar"===o.o.entryType||"ext-side-panel"===o.o.entryType?"sidebar":"other"}get allowGetCurrentPageData(){return"ext-sidebar"===o.o.entryType||"ext-side-panel"===o.o.entryType}get allowPopup(){return"desktop-float-btn"!==o.o.entryType&&"desktop-spotlight"!==o.o.entryType}get isSidebarShowed(){return"ext-side-panel"!==o.o.entryType||this.mainWindowVisible}get isInOptionsPage(){let e=window.location.href;return o.o.isExtension&&e.startsWith(a.O.getOptionsUrl())}setMainWindowVisible(e){this.mainWindowVisible=e}privacyGuard(e){var t;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(this.isSidebarShowed||i)&&null!==(t=null==e?void 0:e.toString())&&void 0!==t?t:s}constructor(){(0,i._)(this,"dispatchedResizeByMainWindow",!1),(0,i._)(this,"dragLock",!1),(0,i._)(this,"mainWindowVisible",!1),(0,l.rC)(this)}}(0,n.gn)([r.SB],u.prototype,"dispatchedResizeByMainWindow",void 0),(0,n.gn)([r.SB],u.prototype,"dragLock",void 0),(0,n.gn)([r.SB],u.prototype,"mainWindowVisible",void 0),(0,n.gn)([l.Fl],u.prototype,"mainWindowMode",null),(0,n.gn)([l.Fl],u.prototype,"allowGetCurrentPageData",null),(0,n.gn)([l.Fl],u.prototype,"allowPopup",null),(0,n.gn)([l.Fl],u.prototype,"isSidebarShowed",null);let d=new u},10759:function(e,t,s){s.d(t,{Hb:function(){return l},ju:function(){return a}});var i=s(92235),n=s(28482),r=s(21157);let o=(e,t,s)=>{let{siteId:i,pathIds:n}=e,r=s.find(e=>{let{id:t}=e;return i===t});if(!r)return!1;let{url:o,paths:l}=r;return a({websiteMatchingStrategy:"rule_based",siteMatch:((null==n?void 0:n.length)?l.filter(e=>n.includes(e.id)).map(e=>e.path):[o]).map(e=>({urlMatchType:"wildcard",urlMatchInfo:{urlInWildcard:e}}))},t,s)},a=(0,n.Z)((e,t,s)=>{let{websiteMatchingStrategy:n,docType:a,siteMatch:l}=e;if("all"===n)return!0;if("rule_based"===n){if(void 0!==a)return a===r.J.DocType.pdf&&i.m.isPdfDoc(document);if(l)return l.some(e=>{let{urlMatchType:n,urlMatchInfo:r}=e,{urlInRegExp:a,urlInWildcard:l,site:u}=r||{};switch(n){case"specific":if(!u)return!1;return o(u,t,s);case"wildcard":if(!l)return!1;return i.m.urlMatch(t,l);case"regexp":if(!a)return!1;return new RegExp(a).test(t);default:return!1}})}return!1},(e,t)=>"matchConfig:".concat(JSON.stringify(e),"__siteUrl:").concat(t)),l=(e,t)=>a(e,document.location.href,t)},62753:function(e,t,s){s.d(t,{$:function(){return d}});var i=s(66084),n=s(56607),r=s(3544),o=s(44469);let a=e=>"".concat(l,"-").concat(e),l=n.o.withMonicaPrefix("crossPageKey");class u{init(e){this.extensionBridgeController=e}updateData(e){if(n.o.isWeb||n.o.isDesktop){let t=a(e.event),s=localStorage.getItem(a(e.event));if(s){let i=JSON.parse(s),n=this.findMsgIndex(i,e.event,e.payload);-1!==n&&(i[n]=e,localStorage.setItem(t,JSON.stringify(i)))}}else if(n.o.isExtension)o.T3.updateCrossPageData(e);else throw Error("not support platform")}setData(e){if(n.o.isWeb||n.o.isDesktop){let t=a(e.event),s=localStorage.getItem(a(e.event));if(s)try{let i=JSON.parse(s);i.push(e),localStorage.setItem(t,JSON.stringify(i))}catch(s){localStorage.setItem(t,JSON.stringify([e]))}else localStorage.setItem(t,JSON.stringify([e]))}else if(n.o.isExtension)o.T3.setCrossPageData(e);else throw Error("not support platform")}async getData(e,t,s){if("web"===s){let s=a(e),i=localStorage.getItem(s);if(i){let n=JSON.parse(i),r=this.findMsgIndex(n,e,t),o=n[r];return localStorage.setItem(s,JSON.stringify(n)),o.result}}if("extension"===s)return new Promise(s=>{this.extensionBridgeController.sendMessageToExt({event:e,payload:t},e=>{s(e)})});throw Error("not support platform")}findMsgIndex(e,t,s){return e.findIndex(e=>e.event===t&&(0,r.Z)(e.payload,s))}constructor(){(0,i._)(this,"extensionBridgeController",void 0)}}let d=new u},39648:function(e,t,s){var i,n;s.d(t,{rm:function(){return r},wL:function(){return o}});let r={"zh-CN":"cmn-Hans-CN","zh-TW":"cmn-Hant-TW","zh-HK":"yue-Hant-HK"};(n=i||(i={})).noMicrophone="NO_MIC",n.blocked="BLOCKED",n.denied="DENIED",n.internal="Unable to start voice input (internal error)",n.unsupportedBrowser="Your browser does not support speech recognition feature";let o=[["English",["en-US","English(US)"],["en-GB","English(UK)"],["en-AU","English(AU)"]],["中文",["cmn-Hans-CN","普通话 (中国大陆)"],["cmn-Hant-TW","中文 (台灣)"],["yue-Hant-HK","粵語 (香港)"]],["Bahasa Indonesia",["id-ID"]],["Čeština",["cs-CZ"]],["Dansk",["da-DK"]],["Deutsch",["de-DE"]],["Espa\xf1ol",["es-ES","Espa\xf1ol(ES)"],["es-MX","Espa\xf1ol(MX)"]],["Fran\xe7ais",["fr-FR"]],["Italiano",["it-IT","Italiano"]],["Magyar",["hu-HU"]],["Nederlands",["nl-NL"]],["Norsk bokm\xe5l",["nb-NO"]],["Polski",["pl-PL"]],["Portugu\xeas",["pt-BR","Portugu\xeas(BR)"],["pt-PT","Portugu\xeas(PT)"]],["Pусский",["ru-RU"]],["Rom\xe2nă",["ro-RO"]],["Slovenščina",["sl-SI"]],["Suomi",["fi-FI"]],["Svenska",["sv-SE"]],["T\xfcrk\xe7e",["tr-TR"]],["日本語",["ja-JP"]],["한국어",["ko-KR"]],["हिन्दी",["hi-IN"]],["ภาษาไทย",["th-TH"]],["Українська",["uk-UA"]]]},80125:function(e,t,s){s.d(t,{b:function(){return n}});var i=s(66084);class n{addListener(e){let t=this.hasRegistered(e.name);if(this.handler[e.name]=e.handler,t)throw Error("".concat(e.name," has been registered"))}hasRegistered(e){return!!this.handler[e]}constructor(){(0,i._)(this,"handler",{})}}},14622:function(e,t,s){s.d(t,{u:function(){return l}});var i=s(66084),n=s(56607),r=s(80125),o=s(56639);class a extends r.b{async sendMessage(e){var t,s;let{name:i,data:r}=e,a=null!==(s=e.origin)&&void 0!==s?s:(0,o.P)();if(n.o.isBackground)return this.handler[i](r,void 0,a);if("undefined"==typeof chrome||!(null===(t=chrome)||void 0===t?void 0:t.runtime)){n.o.isProd&&console.error("No chrome runtime");return}if(n.o.isWeb){let e=document.body.getAttribute("monica-id");if(!e){console.error("No extension id");return}return chrome.runtime.sendMessage(e,{type:i,name:i,data:r,origin:a})}return chrome.runtime.sendMessage({name:"".concat(this.name,".").concat(i),data:r,origin:a})}constructor(...e){super(...e),(0,i._)(this,"name","extensionBackground"),(0,i._)(this,"addListener",e=>{var t,s;try{super.addListener(e)}catch(e){console.warn(e);return}if("undefined"==typeof chrome||!(null===(s=chrome)||void 0===s?void 0:null===(t=s.runtime)||void 0===t?void 0:t.onMessage))return;let{name:i}=e;chrome.runtime.onMessage.addListener((e,t,s)=>{if(e.name==="".concat(this.name,".").concat(i))return this.handler[i](e.data,t,e.origin).then(e=>{s(e)}).catch(e=>{s(e)}),!0}),chrome.runtime.onMessageExternal.addListener((e,t,s)=>{if(e.name===i||e.type===i)return this.handler[i](e.data,t,e.origin).then(e=>{s(e)}).catch(e=>{s(e)}),!0})})}}let l=new a},14527:function(e,t,s){s.d(t,{Y:function(){return u}});var i=s(66084),n=s(56607),r=s(80125),o=s(14622),a=s(56639);class l extends r.b{addListener(e){var t,s;try{super.addListener(e)}catch(e){console.warn(e);return}if("undefined"==typeof chrome||!(null===(s=chrome)||void 0===s?void 0:null===(t=s.runtime)||void 0===t?void 0:t.onMessage))return;let{name:i}=e;chrome.runtime.onMessage.addListener((e,t,s)=>{if(e.name==="".concat(this.name,".").concat(i))return this.handler[i](e.data,t,e.origin).then(e=>{s(e)}).catch(e=>{s(e)}),!0})}async sendMessage(e){var t,s;let{name:i,data:r}=e,l=null!==(s=e.origin)&&void 0!==s?s:(0,a.P)(),u=e.tabId;return(u||(u=await o.u.sendMessage({name:"getActiveTabId",data:{},origin:l})),n.o.isBackground||"ext-side-panel"===n.o.entryType)?"undefined"!=typeof chrome&&(null===(t=chrome)||void 0===t?void 0:t.tabs)&&(n.o.isBackground||"ext-side-panel"===n.o.entryType)?chrome.tabs.sendMessage(u,{name:"".concat(this.name,".").concat(i),data:r,origin:l}):void 0:await o.u.sendMessage({name:"getContentTabId",data:{},origin:l})!==u||n.o.isWeb?o.u.sendMessage({name:"transferToContent",data:{tabId:u,name:i,data:r,origin:l}}):this.handler[i](r)}async broadcastMessage(e){var t;let{name:s,data:i}=e,n=null!==(t=e.origin)&&void 0!==t?t:(0,a.P)();o.u.sendMessage({name:"getAllTabIds",data:{}}).then(e=>{e.forEach(e=>{this.sendMessage({tabId:e,name:s,data:i,origin:n})})})}constructor(...e){super(...e),(0,i._)(this,"name","extensionContent")}}let u=new l},1:function(e,t,s){s.d(t,{d:function(){return u}});var i=s(66084),n=s(56607),r=s(80125),o=s(14622),a=s(56639);class l extends r.b{async sendMessage(e){var t,s;let{name:i,data:r}=e,l=null!==(s=e.origin)&&void 0!==s?s:(0,a.P)();if("ext-side-panel"===n.o.entryType)return this.handler[i](r,void 0,l);if(n.o.isWeb)return o.u.sendMessage({name:"transferToSidePanel",data:{name:i,data:r,origin:l}});if("undefined"==typeof chrome||!(null===(t=chrome)||void 0===t?void 0:t.runtime)){console.error("No chrome runtime");return}return chrome.runtime.sendMessage({name:"".concat(this.name,".").concat(i),data:r,origin:l})}constructor(...e){super(...e),(0,i._)(this,"name","extensionSidePanel"),(0,i._)(this,"addListener",e=>{var t,s;try{super.addListener(e)}catch(e){console.warn(e);return}if("undefined"==typeof chrome||!(null===(s=chrome)||void 0===s?void 0:null===(t=s.runtime)||void 0===t?void 0:t.onMessage))return;let{name:i}=e;chrome.runtime.onMessage.addListener((e,t,s)=>{if(e.name==="".concat(this.name,".").concat(i))return this.handler[i](e.data,t,e.origin).then(e=>{s(e)}).catch(e=>{s(e)}),!0})})}}let u=new l},56639:function(e,t,s){s.d(t,{P:function(){return n}});var i=s(56607);let n=()=>"ext-side-panel"===i.o.entryType?"extensionSidePanel":i.o.isBackground?"extensionBackground":i.o.isWeb?"web":"extensionContent"},55343:function(e,t,s){s.d(t,{T:function(){return c}});var i=s(66084),n=s(56607),r=s(92235),o=s(80125),a=s(14622),l=s(14527),u=s(56639);class d extends o.b{addListener(e){try{super.addListener(e)}catch(e){console.warn(e);return}if("undefined"==typeof document)return;let{name:t}=e;document.addEventListener(t,async e=>{let s=await this.handler[t](e.detail.data,void 0,e.detail.origin);l.Y.sendMessage({name:"webResolve",tabId:await a.u.sendMessage({name:"getContentTabId",data:{}}),data:{resolveId:e.detail.resolveId,data:s}})})}async sendMessage(e){var t;let{tabId:s,name:i,data:o}=e,a=null!==(t=e.origin)&&void 0!==t?t:(0,u.P)();return"ext-side-panel"===n.o.entryType||n.o.isBackground?l.Y.sendMessage({tabId:s,name:"transferToWeb",data:{name:i,data:o,origin:a}}):new Promise(e=>{let t=r.m.genId();this.resolveMap[t]=e,document.dispatchEvent(new CustomEvent(i,{detail:{data:o,origin:a,resolveId:t}}))})}constructor(){super(),(0,i._)(this,"name","web"),(0,i._)(this,"resolveMap",{}),setTimeout(()=>{n.o.isBackground||"ext-side-panel"===n.o.entryType||n.o.isWeb||l.Y.addListener({name:"webResolve",handler:async e=>{let{resolveId:t,data:s}=e;this.resolveMap[t](s),delete this.resolveMap[t]}})})}}let c=new d},90539:function(e,t,s){s.d(t,{DN:function(){return c}});var i=s(83260),n=s(66084),r=s(56607),o=s(65324),a=s(55180),l=s(90107),u=s(10759);class d extends a.b{async onInit(){this.services.user.on("userLogout",()=>{}),this.storage.addChangeListener(e=>{e.collectionToolList&&this.emit("collectionToolListChange",e.collectionToolList),e.myToolList&&this.emit("myToolListChange",e.myToolList),e.pinTools&&this.emit("pinToolsChange",e.pinTools),e.previewTools&&this.emit("previewToolsChange",e.previewTools),e.previewToolData&&this.emit("previewToolDataChange",e.previewToolData),e.syncToolData&&this.emit("previewToolDataSync",e.syncToolData),e.runToolData&&this.emit("runToolDataSync",e.runToolData),e.allTools&&(this.allTools=e.allTools,this.emit("allToolsChange",e.allTools)),e.pinSyStemTools&&this.emit("pinSystemToolsChange",e.pinSyStemTools),void 0!==e.actionGuideShowed&&this.emit("actionGuideShowedChange",e.actionGuideShowed),void 0!==e.ignoreUpgradeNoticeToolIds&&this.emit("ignoreUpgradeNoticeToolIdsChange",e.ignoreUpgradeNoticeToolIds),void 0!==e.artifactDemos&&this.emit("artifactDemosChange",e.artifactDemos),void 0!==e.actionCategories&&this.emit("actionCategoriesChange",e.actionCategories),void 0!==e.showCurrentSiteOnly&&this.emit("showCurrentSiteOnlyChange",e.showCurrentSiteOnly),void 0!==e.firstPageHistoryList&&this.emit("firstPageHistoryListChange",e.firstPageHistoryList),void 0!==e.toolSquareList&&this.emit("toolSquareListChange",e.toolSquareList)}),this.storage.getAll().then(e=>(this.allTools=e.allTools,!e.allTools&&r.o.isExtension&&this.updateAllTools(),r.o.isWeb&&this.storage.set("allTools",null),e))}async makeShowCurrentSiteOnly(e){this.storage.set("showCurrentSiteOnly",e)}async addIgnoreUpgradeNotice(e){let t=await this.storage.get("ignoreUpgradeNoticeToolIds");t=t?[...new Set([...t,e])]:[e],this.storage.set("ignoreUpgradeNoticeToolIds",t)}async syncPreviewToolData(e){let t=await this.storage.get("syncToolData");t[e.uid]=e,this.storage.set("syncToolData",t)}async syncRunToolData(e){let t=await this.storage.get("runToolData");t[e.uid]=e,this.storage.set("runToolData",t)}async clearQueryPayload(e){let t=await this.storage.get("tabQueryPayload")||{};delete t[e],this.storage.set("tabQueryPayload",t)}async saveQueryPayload(e,t){let s=await this.storage.get("tabQueryPayload")||{};this.storage.set("tabQueryPayload",{...s,[e]:t})}async updatePreviewToolData(e){let t=await this.storage.get("previewToolData");t[e.uid]=e,this.storage.set("previewToolData",t)}async removeRunToolData(e){let t=await this.storage.get("runToolData");delete t[e],this.storage.set("runToolData",t)}async get(e){return await this.storage.get(e)}async removePreviewToolData(e){let[t,s]=await Promise.all([this.storage.get("previewToolData"),this.storage.get("syncToolData")]);delete t[e],delete s[e],this.storage.set("previewToolData",t),this.storage.set("syncToolData",s)}async addPreviewTools(e){let t=await this.storage.get("previewTools")||{};t[e]?t[e]+=1:t[e]=1,this.storage.set("previewTools",t)}async exitPreview(e){this.removePreviewToolData(e),this.clearPreviewTools(e),this.emit("exitPreview",e)}async clearPreviewTools(e){let t=await this.storage.get("previewTools")||{};t[e]&&(t[e]=0),this.storage.set("previewTools",t)}async removePreviewTools(e){let t=await this.storage.get("previewTools")||{};t[e]&&(t[e]-=1),t[e]||this.removePreviewToolData(e),this.storage.set("previewTools",t)}async getAll(){return this.storage.getAll()}async getSkillList(){this.getSkillListPromise||(this.getSkillListPromise=o.Cb.botFrameworkService.botSkillApi.getSysSkillList({smartAction:!0}));try{let e=await this.getSkillListPromise;return this.getSkillListPromise=null,e.data.systemSkillList||[]}catch(e){return this.getSkillListPromise=null,[]}}async fetchArtifactDemos(){return(await o.Cb.botFrameworkService.smartActionApi.listEgArtifact()).data.artifactUrls||[]}async togglePinTool(e,t){let s=await this.storage.get("pinTools"),i=s;t?s.includes(e)||i.push(e):i=s.filter(t=>t!==e),this.storage.set("pinTools",i)}async togglePinSystemTool(e,t){let s=await this.storage.get("pinSyStemTools"),i=s;t?s.includes(e)||i.push(e):i=s.filter(t=>t!==e),this.storage.set("pinSyStemTools",i)}async createTool(e){let t=await o.Cb.botFrameworkService.smartActionApi.create(e),[s,i]=await Promise.all([this.storage.get("myToolList"),this.storage.get("collectionToolList")]);this.storage.set("myToolList",[t.data.saData,...s||[]]),this.storage.set("collectionToolList",[t.data.saData,...i||[]])}async updateTool(e){try{let t=await o.Cb.botFrameworkService.smartActionApi.update(e),[s,i]=await Promise.all([this.storage.get("myToolList"),this.storage.get("collectionToolList")]),n=s||[],r=n.findIndex(t=>t.uid===e.uid);-1!==r&&(n[r]=t.data.saData,this.storage.set("myToolList",n));let a=(i||[]).findIndex(t=>t.uid===e.uid);-1!==a&&this.fetchCollectionToolList()}catch(e){if("object"==typeof e)return e.code}}async fetchMyToolList(e){return this._fetchWithCache("myToolList",async()=>(await o.Cb.botFrameworkService.smartActionApi.list({limit:9999,offset:0})).data.data||[],e)}async fetchCollectionToolList(e){if(this.fetchCollectionToolListCachePromise)return await this.fetchCollectionToolListCachePromise||[];let{useCache:t=!0,autoUpdate:s=!0}=e||{};if(t&&!s){let e=await this.storage.get("collectionToolList");if(e)return e}this.fetchCollectionToolListCachePromise=this._fetchWithCache("collectionToolList",async()=>{var e;let t=await o.Cb.botFrameworkService.smartFavoriteApi.list({limit:9999,offset:0});return(null==t?void 0:null===(e=t.data)||void 0===e?void 0:e.data)||[]},e);try{let e=await this.fetchCollectionToolListCachePromise;return this.fetchCollectionToolListCachePromise=null,this.storage.update({favoriteListUpdateTime:Date.now()}),e||[]}catch(e){return this.fetchCollectionToolListCachePromise=null,[]}}async addCollectionTool(e,t){if(e){this.addCollectionToolCache||(this.addCollectionToolCache=(async()=>{let s=await this.storage.get("collectionToolList")||[],i=(0,l.Z)([e,...s],"uid");return this.storage.set("collectionToolList",i),await o.Cb.botFrameworkService.smartFavoriteApi.add({saUid:e.uid,origin:t}),this.fetchCollectionToolList(),i})());try{await this.addCollectionToolCache,this.addCollectionToolCache=null}catch(e){throw this.addCollectionToolCache=null,e}}}async removeCollectionTool(e){this.removeCollectionToolCache||(this.removeCollectionToolCache=(async()=>{let t=(await this.storage.get("collectionToolList")||[]).filter(t=>t.uid!==e);this.storage.set("collectionToolList",t),await o.Cb.botFrameworkService.smartFavoriteApi.remove({saUid:e}),this.fetchCollectionToolList()})());try{let e=await this.removeCollectionToolCache;return this.removeCollectionToolCache=null,e}catch(e){throw this.removeCollectionToolCache=null,e}}async saveSortCollectionToolList(e,t){this.storage.set("collectionToolList",e),await o.Cb.botFrameworkService.smartFavoriteApi.updateOrder(t)}async fetchFullList(){let e=!0,t=0,s=[];for(;e&&t<50;){let i=await o.Cb.botFrameworkService.smartCommunityApi.full({limit:1e3});e=!!i.data.next,i.data.data&&s.push(...i.data.data),t+=1}return s}async updateAllTools(e){var t;let s=null===(t=this.allTools)||void 0===t?void 0:t.payload;return(!(null==s?void 0:s.length)||Date.now()-this.allTools.time>216e5||e)&&(s=await this.fetchFullList(),this.allTools={time:Date.now(),payload:s},this.storage.set("allTools",this.allTools)),s}getMatchToolsInCurrentSite(e,t,s){return t.filter(t=>(0,u.ju)({siteMatch:t.websiteMatchingInfos||[],websiteMatchingStrategy:t.websiteMatchingStrategy},e,s))}async fetchToolInCurrentPage(e,t,s){let i=await this.updateAllTools(),n=this.getMatchToolsInCurrentSite(e,i,t).map(e=>e.uid);return((await o.Cb.botFrameworkService.smartCommunityApi.listRecommend({uid:n,sortType:s})).data.data||[]).map(e=>({...e,isCommunity:!0}))}async translate(e,t){let{locale:s,name:i,description:n,extraData:r}=t,a=await o.Cb.botFrameworkService.smartActionApi.i18nTranslate({name:i,description:n,extraData:r,locale:s,toLocale:e});if(0===a.code){var l,u,d;let{data:t}=a;return{locale:e,name:(null===(l=t.i18nData)||void 0===l?void 0:l.name)||"",description:(null===(u=t.i18nData)||void 0===u?void 0:u.description)||"",extraData:(null===(d=t.i18nData)||void 0===d?void 0:d.extraData)||{}}}throw Error(a.msg)}async getSquareList(e,t){if(this.getSquareListPromise)return await this.getSquareListPromise||[];this.getSquareListPromise=this._fetchWithCache("toolSquareList",async()=>{var t;return((null===(t=(await o.Cb.botFrameworkService.smartCommunityApi.list(e)).data)||void 0===t?void 0:t.data)||[]).map(e=>({...e,isCommunity:!0}))},t);try{let e=await this.getSquareListPromise;return this.getSquareListPromise=null,e||[]}catch(e){return this.getSquareListPromise=null,[]}}async deleteTool(e){await o.Cb.botFrameworkService.smartActionApi.delete({uid:e});let t=await this.storage.get("myToolList")||[];this.storage.set("myToolList",t.filter(t=>t.uid!==e))}async shareTool(e){return await o.Cb.botFrameworkService.smartActionApi.share(e)}async getShareTool(e){let{data:t}=await o.Cb.botFrameworkService.smartActionApi.getShareResult({uid:e});return t}async getToolInfo(e){let{data:t}=await o.Cb.botFrameworkService.smartActionApi.get({uid:e});return t}async getLatestToolInfo(e,t){let s=await o.Cb.botFrameworkService.smartActionApi.retrieve({uid:e,origin:t});if(0===s.code){var i;return null===(i=s.data)||void 0===i?void 0:i.saData}}async getCommunityToolInfo(e){let{data:t}=await o.Cb.botFrameworkService.smartCommunityApi.get({uid:e});return t}async fetchShareResult(e){return(await o.Cb.botFrameworkService.smartActionApi.getShareResult({uid:e})).data}async fetchArtifactSetting(e){let t=await o.Cb.botFrameworkService.smartActionApi.aiGenArtifactConfig(e);return{name:t.data.name,description:t.data.desc}}async fetchToolSetting(e,t){var s,i;let n=await o.Cb.botFrameworkService.smartActionApi.aiGenConfig({desc:e,locale:t});return{name:n.data.data.name,description:n.data.data.description,skills:null===(s=n.data.data.standardActionConfiguration)||void 0===s?void 0:s.skills,promptTemplate:null===(i=n.data.data.standardActionConfiguration)||void 0===i?void 0:i.promptTemplate}}async makeActionGuideShowed(){this.storage.set("actionGuideShowed",!0)}async loadCategories(e){if(this.fetchActionCategoriesCachePromise)return await this.fetchActionCategoriesCachePromise||[];this.fetchActionCategoriesCachePromise=this._fetchWithCache("actionCategories",async()=>{var e;return(null===(e=(await o.Cb.botFrameworkService.smartCommunityApi.listCategories({})).data)||void 0===e?void 0:e.smartActionCategories)||[]},e);try{let e=await this.fetchActionCategoriesCachePromise;return this.fetchActionCategoriesCachePromise=null,e||[]}catch(e){return this.fetchActionCategoriesCachePromise=null,[]}}async createHistory(e){await o.Cb.botFrameworkService.smartActionApi.createHistory(e),this.fetchHistoryList(!0)}async getHistory(e){let t=await o.Cb.botFrameworkService.smartActionApi.getHistoryRecord({historyUid:e});if(0===t.code)return t.data.data}async fetchHistoryList(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._fetchWithCache("firstPageHistoryList",async()=>{let e=await o.Cb.botFrameworkService.smartActionApi.listHistory({limit:10,offset:0});return{list:e.data.data||[],total:e.data.total||0}},{useCache:!0,autoUpdate:e})}async fetchMoreHistoryList(e){let t=(await o.Cb.botFrameworkService.smartActionApi.listHistory({limit:10,offset:e})).data.data||[];return{list:t,hasMore:10===t.length}}async deleteHistory(e){await o.Cb.botFrameworkService.smartActionApi.deleteHistory({uids:[e]}),this.fetchHistoryList(!0)}async clearAllHistory(){await o.Cb.botFrameworkService.smartActionApi.clearHistory({}),this.fetchHistoryList(!0)}constructor(...e){super(...e),(0,n._)(this,"meta",{key:"action",name:"actionService"}),(0,n._)(this,"dependencies",["user"]),(0,n._)(this,"allTools",null),(0,n._)(this,"defaultStorageValues",{myToolList:null,collectionToolList:null,toolSquareList:null,pinTools:[],pinSyStemTools:[],previewTools:{},previewToolData:{},syncToolData:{},runToolData:{},actionGuideShowed:!1,allTools:null,ignoreUpgradeNoticeToolIds:[],artifactDemos:[],actionCategories:null,showCurrentSiteOnly:!1,tabQueryPayload:null,firstPageHistoryList:null,favoriteListUpdateTime:null}),(0,n._)(this,"getSkillListPromise",null),(0,n._)(this,"fetchCollectionToolListCachePromise",null),(0,n._)(this,"fetchActionCategoriesCachePromise",null),(0,n._)(this,"addCollectionToolCache",null),(0,n._)(this,"removeCollectionToolCache",null),(0,n._)(this,"getSquareListPromise",null)}}let c=new i.x(d)},21157:function(e,t,s){var i,n,r,o,a,l,u,d,c;s.d(t,{J:function(){return i}}),(r=(n=i||(i={})).DocType||(n.DocType={}))[r.pdf=0]="pdf",(o=n.ToolBelong||(n.ToolBelong={}))[o.system=0]="system",o[o.user=1]="user",(a=n.ToolType||(n.ToolType={})).standard="standard",a.artifact="artifact",(l=n.SiteType||(n.SiteType={})).all="all",l.designated="rule_based",n.PromptVars={webContent:"{{web_content}}",userMsg:"{{user_msg}}"},(u=n.CollectionRangeType||(n.CollectionRangeType={})).all="all",u.selected="selected",u.noSelect="none",(d=n.DisclosureScope||(n.DisclosureScope={}))[d.public=0]="public",d[d.share=1]="share",d[d.self=2]="self",(c=n.VariableType||(n.VariableType={})).text="text",c.singleOption="singleOption",c.multipleOption="multipleOption"},92020:function(e,t,s){s.d(t,{ll:function(){return w}});var i=s(83260),n=s(66084),r=s(22046),o=s(88575),a=s(88882),l=s(56607),u=s(21320),d=s(92235),c=s(60445),h=s(31640),p=s(92347),m=s(65324),g=s(55180),y=s(40245),S=s(40814),_=s(71749),f=s(58756),v=s(20978),T=s(14622),b=s(55343);let C={"7.3.0":async()=>{if(!l.o.isExtension)return;let e="botFramework.monicaBotConfig",t=_.b.getBrowser(),s=(await t.storage.local.get(e))[e];if(!s)return;let i=(null==s?void 0:s.monicaSysSkillList)||[],n=i.find(e=>"memory"===e.uid),r=i.find(e=>"use_custom_memory"===e.uid);if(n&&!r){let r=[...i,{uid:"use_custom_memory",enable:null==n?void 0:n.enable}];await t.storage.local.set({[e]:{...s,monicaSysSkillList:r}}),await m.Cb.botFrameworkService.userClientConfigApi.updateMonicaSkillConfig({sysSkillList:r})}}},P=o.c.getLogger("ConfigService");class A extends g.b{async onInit(){if(r.S.isRunInSsrProject||this.checkI18nInited(),this.storage.addChangeListener(async e=>{this.emit("configChange",e),void 0!==e.uiFlags&&this.emit("uiFlagChange",e.uiFlags||{}),void 0!==e.locale&&(this.emit("localeChange",e.locale),e.locale&&a.a.setLocale(e.locale,"storage"))}),l.o.isExtension&&y.O.sidePanelApiAvailable){let e=e=>{y.O.chromeApi.sidePanel.setPanelBehavior({openPanelOnActionClick:e})};this.get("chromeSidePanelEnabled").then(t=>{e(null!=t&&t)}),this.on("configChange",t=>{if(void 0!==t.chromeSidePanelEnabled){var s;e(null!==(s=t.chromeSidePanelEnabled)&&void 0!==s&&s)}})}l.o.isExtension&&T.u.addListener({name:"monciaConfigChange",handler:async e=>{await this.storage.update(e.configs)}}),l.o.isWeb&&b.T.addListener({name:"monciaConfigChange",handler:async e=>{await this.storage.update(e.configs)}})}async waitServerConfigReady(){setTimeout(()=>{this.readySource.markReady()},1500),await this.readySource.waitReady()}async checkI18nInited(){if(this.initedLocale||l.o.isWeb)return;await this.setDefaultLocale();let e=await this.storage.get("locale");e&&await a.a.setLocale(e,"i18n"),this.initedLocale=!0}async _doMigrations(){try{await C["7.3.0"]()}catch(e){P.error("migration error",e)}}async getSearchEnhanceTriggerTime(){let e=await this.get("searchEnhanceTriggerTime"),t=u.L.formatTime(new Date,"YYYY/MM/DD"),[s,i]=e?e.split("-"):[t,0];return s===t?(this.set("searchEnhanceTriggerTime","".concat(t,"-").concat(Number(i)+1)),Number(i)):(this.set("searchEnhanceTriggerTime","".concat(t,"-",1)),0)}async get(e){return await this.storage.get(e)}async set(e,t){await this.storage.set(e,t);try{await this.handleConfigChanged({[e]:t})}catch(e){P.error(e)}}async getAll(){return this.storage.getAll()}async update(e){let t=await this.storage.update(e);try{await this.handleConfigChanged(e)}catch(e){P.error(e)}return t}async clear(){if(l.o.isProd)throw Error("Clear config storage in prod env");return this.storage.clear()}async openShortcutsPage(){(0,S.uJ)(e=>{let{tabs:t}=e;t.create({url:"chrome://extensions/shortcuts"})})}async openChromeAppearance(){(0,S.uJ)(e=>{let{tabs:t}=e;t.create({url:"chrome://settings/appearance"})})}async getCommands(){try{if(l.o.isSafariExtension)return[];return await y.O.getCommands()||[]}catch(e){return[]}}async openMonicaOptionsPage(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("contactUs"===e.menuKey){let t={};if(e.showBotRequest&&(t.issueType="bot_request"),l.o.isWeb){t.platform="web";let e=d.m.genFullUrl(d.m.genUrl(c.Cl.feedback,t));window.open(e,"_blank");return}if(l.o.isExtension){t.platform="extension",t.clientVersion=m.Cb.getVersion();let e=d.m.genFullUrl(d.m.genUrl(c.Cl.feedback,t));_.b.getBrowser().tabs.create({url:e,active:!0});return}if(l.o.isDesktop){t.platform="desktop",t.clientVersion=m.Cb.getVersion();let e=d.m.genFullUrl(d.m.genUrl(c.Cl.feedback,t));f.y.getService().openBrowserPage(e);return}}if(l.o.isDesktop){f.y.getService().openOptions("general");return}if(this.optionPageProps=e||null,l.o.isWeb){this.emit("openOptionsDialog",{});return}e&&this.emit("optionPagePropsChange",e),(0,S.uJ)(e=>{let{runtime:t}=e;t.openOptionsPage()})}async getMonicaOptionsPageProps(){let e=this.optionPageProps;return this.optionPageProps=null,e}async keepAlive(){return"keep alive"}async getUiFlag(e){return(await this.get("uiFlags"))[e]}async setUiFlag(e,t){P.warn("set ui flag",e,t);let s=await this.get("uiFlags");JSON.stringify(s[e])!==JSON.stringify(t)&&(s[e]=t,await this.update({uiFlags:s}))}async setSearchEnhanceConfigs(e,t){let s=await this.get("searchEnhanceConfig");s[e]=t,await this.set("searchEnhanceConfig",s)}async setVideoSummaryConfigs(e,t){let s=await this.get("videoSummaryConfig");s[e]=t,await this.set("videoSummaryConfig",s)}async setDefaultLocale(){if(await this.storage.get("locale"))return;let e=this.getUserDefaultLocale();if(h.q.compareLocale(e,"en"))return;let t=a.a.matchSupportedLocale(e);t&&this.storage.set("locale",t)}async getIsPinned(){return!l.o.isExtension||(0,S.uJ)(async e=>{let{action:t}=e;return"function"!=typeof t.getUserSettings||!!(await t.getUserSettings()).isOnToolbar},!0)}async setSeSidebarWidth(e,t){let s=await this.get("seSidebarWidthMap");s[e]=t,await this.set("seSidebarWidthMap",s)}async getSeSidebarWidth(e){var t;return null!==(t=(await this.get("seSidebarWidthMap"))[e])&&void 0!==t?t:null}async syncConfigFromServer(){l.o.isDesktop||(this.syncConfigFromServerFlag=!0,this.debouncedMergeServerConfigs())}async getNewWorkspace(){return this.storage.get("newWorkspace")}async handleNewWorkspaceAdded(e){let t=await this.getNewWorkspace();if(!t){await this.set("newWorkspace",{...e,showed:!1});return}t.teamId!==e.teamId&&await this.set("newWorkspace",{...e,showed:!1})}async handleNewWorkspaceShowed(e){let t=await this.getNewWorkspace();t&&t.teamId===e.teamId&&await this.set("newWorkspace",{...t,showed:!0})}async reloadMonicaHomePage(){(await _.b.getBrowser().tabs.query({})).forEach(e=>{if(e.url){let t=new URL(e.url),s=new URL(l.o.host);t.pathname.startsWith("/home")&&t.host===s.host&&_.b.getBrowser().tabs.reload(e.id)}})}getUserDefaultLocale(){if(l.o.isExtension)return(0,S.uJ)(e=>{let{i18n:t}=e;return t.getUILanguage()},!0);if(l.o.isDesktop)return d.m._electronApp.getPreferredSystemLanguages()[0];throw Error("not implemented in this platform")}async handleConfigChanged(e){if(l.o.isDesktop)return;let t=await this.storage.get("$timestamp")||{},s={};Object.keys(e).forEach(t=>{!this.ignoreConfigKeys.includes(t)&&("uiFlags"===t?e.uiFlags&&Object.keys(e.uiFlags).map(t=>{let i=e.uiFlags;s["uiFlags.".concat(t)]=i[t]}):s[t]=e[t])});let i=Object.keys(s);i.length>0&&(i.forEach(e=>{t[e]=Date.now()}),await this.storage.update({$timestamp:t}),this.debouncedMergeServerConfigs())}mergeConfigs(e,t){let s=e.$timestamp||{},i=t.$timestamp||{},n=e.uiFlags||{},r=t.uiFlags||{},o=Object.keys(n).reduce((e,t)=>(t.startsWith("uiFlags.")&&(e[t.replace("uiFlags.","")]=s[t]),e),{}),a=Object.keys(r).reduce((e,t)=>(t.startsWith("uiFlags.")&&(e[t.replace("uiFlags.","")]=i[t]),e),{}),l=(e,t,s,i)=>{let n={};return Object.keys(e).forEach(r=>{(s[r]||1)>=(i[r]||0)?n[r]=e[r]:void 0!==t[r]?n[r]=t[r]:n[r]=e[r]}),Object.keys(t).forEach(s=>{void 0===e[s]&&(n[s]=t[s])}),n},u=l(e,t,s,i),d=l(n,r,o,a);return u.uiFlags=d,u.$timestamp=((e,t)=>{let s={};return Object.keys(e).forEach(i=>{let n="number"==typeof e[i]?e[i]:0,r="number"==typeof t[i]?t[i]:0;s[i]=Math.max(n,r)}),Object.keys(t).forEach(i=>{let n="number"==typeof e[i]?e[i]:0,r="number"==typeof t[i]?t[i]:0;s[i]=Math.max(n,r)}),s})(s,i),u}constructor(...e){super(...e),(0,n._)(this,"meta",{key:"config",name:"ConfigService",storagePrefix:""}),(0,n._)(this,"dependencies",[]),(0,n._)(this,"defaultStorageValues",{locale:null,globalRespondLanguage:null,respondLanguage:"default_auto",chatWithPdfRespondLanguage:"default_auto",searchRespondLanguage:null,agentRespondLanguage:null,quickActionRespondLanguage:null,readingSummaryRespondLanguage:null,composeLanguage:null,quickComposeRespondLanguage:null,translationTargetLanguage:null,quickActionTranslateLanguage:null,chatPresetPromptLanguage:null,gpt4Enabled:!1,basicModelEnabled:null,baseModelKey:null,imageModelKey:null,knowledgeSourceKey:null,composeGpt4Enabled:!1,quickActionGpt4Enabled:!1,searchProEnabled:!1,quickAskGpt4Enabled:!1,quickAskWebAccessEnabled:null,writingGpt4Enabled:!1,disabledMonicaChatSkills:{},installTime:0,theme:p.Q2.Auto,sidebarPosition:null,sidebarEntryBtnPosition:null,quickActionEnableOption:{disabledAll:!1,disabledHosts:{}},contextualToolImageEnableOption:{disabledAll:!1,disabledHosts:{}},imageTranslationLang:null,mainWindowWidth:null,sidebarWidth:null,sidebarWidthInChatPage:null,sidebarEntryBtnBottom:null,contentFontSize:p.Cd.Normal,contentWidthMode:p.Ni.MaxWidth,chatContextModeV2:p.p5.Auto,chatPdfContextMode:p.p5.Auto,chatContextCrop:p.vH.NoLimit,chatContextLimit:null,searchEnhanceConfig:{disabled:!1,trigger:null,answerType:p.F$.Ask},searchEnhanceDisabledHosts:{},videoSummaryConfig:{disabled:!1,trigger:null},videoSummaryDisabledHosts:{},sidebarEntryBtnVisible:!0,sidebarEntryBtnDisabledHosts:{},inviteBoostDisplayMode:null,isEnableSmartSearch:null,artistAspectRatio:null,readingSummaryDisabledAll:!1,readingSummaryDisabledHosts:{},readingSummaryDoNotChat:!1,memoYoutubeSummaryAutoSave:!0,memoReadingSummaryAutoSave:!0,memoDocChatSummaryAutoSave:!0,githubSummaryModel:null,githubSummaryEnableOption:{disabledAll:!1,disabledHosts:{}},compareModelEnableOption:{disabledAll:!1,disabledHosts:{}},parallelTranslationAutoShow:!0,parallelTranslationAutoTranslateHosts:[],parallelTranslationAutoTranslateLocales:[],parallelTranslationDisableTranslateHosts:[],parallelTranslationApplyDashedTheme:!1,parallelOnlyShowTranslation:!1,parallelShortcutValue:null,parallelShortcutEnable:!1,parallelTranslateStyle:"underline",parallelTranslateStyleColor:"#bdbdbd",parallelTranslationSameLangHintShowedTime:null,chromeSidePanelEnabled:null,translationEngine:null,translationScene:null,clipboardAccessEnabled:!0,clipboardAccessEnabledForQuickAsk:null,enableSslCertCheck:!0,followSystemProxy:!0,startMinimized:!1,textToolEnabled:!1,textToolDisabledApps:[],sidebarEnabled:!1,sidebarPin:null,sidebarWindowPin:null,sidebarDisplayPosition:null,homeWindowSize:null,isPinned:null,usedSurveyFormIds:[],mainWindowStyle:null,showedChangelogVersion:null,followTwitterDialogShowedTime:0,specialOfferDialogShowedIds:[],inviteDialogShowedIds:[],rewardsObtainedDialogShouldNotShowAgainIds:[],invitedUserRegisterRewardsDialogShowedIds:[],rewardsExpireDialogShowedTime:null,inviteAlertClosedIds:[],highTrafficDialogShowedRecord:null,monthlyVipResubscribeDialogShowedIds:[],seSidebarWidthMap:{},mainWindowNavKeyList:null,contextualToolbarTriggerMode:null,contextualToolbarTriggerShortcut:null,contextualToolbarCloseInfo:"",contextualToolbarImageCloseInfo:"",contextualToolbarImageToolTriggerMode:null,contextualToolbarImageToolTriggerShortcut:null,disabledNickNameGuide:null,noticeVersion:null,speechLang:null,upgradeVersion:null,showedUpgradeVersionMap:{},uiFlags:{},userJobTitle:null,userJobTitleFetched:null,newSkillNotifyTag:null,searchEnhanceTriggerTime:null,chatScrollStyle:null,chatHomeSuggestionVisible:null,questionSuggestionsVisible:null,compareModelsVisible:null,autoOptPromptHotKeyEnable:null,keyboardShortcutMap:null,memorySuggestionLastViewedAt:null,enableCodeTools:!0,codeToolsDisableHosts:[],quickInputMemoDraft:"",memoNoticeClosed:!1,closedRecommendationFeatureName:null,artifactAutoOpenDialog:null,artifactWidgetsPosition:null,showPdfScreenshotGuide:!0,chatNoticeClosedStatus:null,showPdfFreeUserUpgradeDialog:!0,showFreeTranslateLimitTip:!0,pdfEnhanceToolbar:!0,showArxivTranslate:!0,equalsSignCommandEnabled:!1,equalsSignCommandActionDefaultKey:null,equalsSignCommandActionKeys:null,monicaSoAuthorized:!1,finishedExperiments:[],autoFavoriteActionTool:null,vipPlanKey:null,showVipGuided:!1,imageToolModelList:[],customFormat:null,pageReadingAutoShow:!0,readingPageDefaultAction:"summaryPage",aiPodcastAutoShow:!0,aiPodcastLastSelectLocale:null,aiPodcastSampleAudioList:null,socialMediaAdId:null,newWorkspace:null,realtimeIntroduceShowed:!1,globalScreenshotGuideShowed:!1,memoListType:"list",uvcsLastReportTimeMap:null,sidebarConversationMode:null,socialMediaPinedTemplate:null,emailPinedTemplate:null,imageOnboardingShowed:!1,imageDetailBackShowed:!1,generateImageModelShowed:!1,generateVideoModelShowed:!1,generateImageScenarioShowed:!1,imageTemplateShowed:!1,pinnedTools:null,chatHomeRecommendationVisible:null,black5WebsiteGuideShowed:null,pinBotIds:null,saveToMemoForTwitterVisible:null,translationGlossaryEnabled:null,simpleMode:null,$timestamp:null,memoryResponsePreferenceUpdatedTime:null,selectedGroupId:"",realtimeUsed:!1,userJob:"",userFromSource:""}),(0,n._)(this,"optionPageProps",null),(0,n._)(this,"initedLocale",!1),(0,n._)(this,"ignoreConfigKeys",["locale","upgradeVersion","showedUpgradeVersionMap","installTime","vipPlanKey","isPinned","mainWindowWidth","sidebarWidth","seSidebarWidthMap","sidebarWidthInChatPage","mainWindowStyle","chromeSidePanelEnabled","black5WebsiteGuideShowed"]),(0,n._)(this,"syncConfigFromServerFlag",!1),(0,n._)(this,"readySource",d.m.createReadySource()),(0,n._)(this,"debouncedMergeServerConfigs",(0,v.Z)(async()=>{let e=await m.Cb.botFrameworkService.userApi.getPreferences(),t=await this.storage.getAll();if(this.ignoreConfigKeys.forEach(e=>{delete t[e]}),e.data.preferences){let s=this.mergeConfigs(t,e.data.preferences||{});await m.Cb.botFrameworkService.userApi.updatePreferences({preferences:s}),this.syncConfigFromServerFlag?(this.syncConfigFromServerFlag=!1,await this.storage.update(s),this.readySource.markReady()):l.o.isWeb?T.u.sendMessage({name:"monciaConfigChange",data:{configs:s}}):l.o.isExtension&&b.T.sendMessage({name:"monciaConfigChange",data:{configs:s}})}else await m.Cb.botFrameworkService.userApi.updatePreferences({preferences:t})},300))}}let w=new i.x(A)},241:function(e,t,s){var i,n,r,o;s.d(t,{e:function(){return i}}),(r=(n=i||(i={})).InviteBoostDisplayMode||(n.InviteBoostDisplayMode={})).Normal="normal",r.Mini="mini",(o=n.KeyboardChatSendType||(n.KeyboardChatSendType={})).Enter="enter",o.EnterWithCtrl="enterWithCtrl",o.EnterWithAlt="enterWithAlt"},73361:function(e,t,s){s.d(t,{gM:function(){return u}});var i=s(83260),n=s(66084),r=s(92235),o=s(65324),a=s(55180);class l extends a.b{async onInit(){this.storage.addChangeListener(e=>{this.emit("configChanges",e)}),this.initUsageInfos(),this.readySource.markReady()}async getUsageInfos(){return await this.readySource.waitReady(),this.storage.get("usageInfos")}async updateUsageInfos(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultUsageModules,t=await o.Cb.generateService.usagev2Api.getQuotas({modules:e});if(t.data.moduleQuotas){let e=await this.storage.get("usageInfos")||[];t.data.moduleQuotas.forEach(t=>{let s=e.findIndex(e=>e.module===t.module);-1===s?e.push(t):e[s]=t}),await this.storage.set("usageInfos",e)}await new Promise(e=>setTimeout(e,300))}async removeUsageInfos(){await this.storage.delete("usageInfos")}async initUsageInfos(){let e=await this.getUsageInfos(),t=this.defaultUsageModules.filter(t=>!(null==e?void 0:e.find(e=>e.module===t)));t.length>0&&await this.updateUsageInfos(t)}constructor(...e){super(...e),(0,n._)(this,"meta",{key:"credits",name:"CreditsService"}),(0,n._)(this,"dependencies",[]),(0,n._)(this,"defaultStorageValues",{usageInfos:[]}),(0,n._)(this,"readySource",r.m.createReadySource()),(0,n._)(this,"defaultUsageModules",["basic_query","genius_bot","credits","image_translate","ai_content_detect","reading_pdf","screenshot_qa","web_search","youtube_summarize","image_gen","bypass","podcast","mindmap","audio_transcription","batch_processor"])}}let u=new i.x(l)},96522:function(e,t,s){s.d(t,{X:function(){return i}});let i=e=>[{icon:"imageAnimator",name:()=>e.imageAnimator,key:"imageAnimator"},{icon:"removeBackground",name:()=>e.removeBackground,key:"removeBackground"},{icon:"removeText",name:()=>e.removeText,key:"removeText"},{icon:"remove",name:()=>e.removeObject,key:"removeObject"},{icon:"replaceBackground",name:()=>e.replaceBackground,key:"changeBackground"},{icon:"zoomIn",name:()=>e.upscale,key:"upscale"}]},44469:function(e,t,s){s.d(t,{T3:function(){return w}});var i=s(83260),n=s(66084),r=s(56607),o=s(92235),a=s(77099),l=s(60445),u=s(88882),d=s(92347),c=s(55180),h=s(40814),p=s(40245),m=s(71749),g=s(58756),y=s(3544),S=s(73047),_=s(90539),f=s(62753),v=s(14622),T=s(14527),b=s(1),C=s(11502),P=s(96522);class A extends c.b{async onInit(){let{memo:e,user:t,config:s,credits:i,serverConfig:n}=this.services;v.u.addListener({name:"webEvent",handler:async(o,a)=>{var l,u,d,c,p;if("markAuth"===o.event){let e=o.payload;T.Y.broadcastMessage({name:"webEvent",data:o}),b.d.sendMessage({name:"webEvent",data:o}),t.markAuthComplete(e),i.updateUsageInfos(),n.syncConfig(!0),_.DN.fetchCollectionToolList({useCache:!0,autoUpdate:!1}),(null==e?void 0:e.channel)==="sidebar"&&s.setUiFlag("registerFromSidebar",!0),(0,h.uJ)(t=>{var s;let{tabs:i}=t;(null==a?void 0:null===(s=a.tab)||void 0===s?void 0:s.id)&&"extension"===e.loginEntry&&i.remove(a.tab.id)})}if("getUserInfo"===o.event)return this._sendUserInfo();if("logout"===o.event&&t.logout(),"markPaid"===o.event&&(T.Y.broadcastMessage({name:"webEvent",data:o}),b.d.sendMessage({name:"webEvent",data:o}),t.getVipStatus({useCache:!1}),i.updateUsageInfos(),n.syncSubscribePlanList(!0)),"openShortcuts"===o.event&&s.openShortcutsPage(),"openOptions"===o.event&&s.openMonicaOptionsPage({menuKey:o.payload.menuKey}),"openMonica"===o.event&&("chatTabPage"===o.payload.mode?r.o.isExtension?this.openMonicaChatTabPage():console.error("TODO: openMonica chatTabPage in non-browser env"):(null==a?void 0:null===(l=a.tab)||void 0===l?void 0:l.id)&&T.Y.sendMessage({tabId:a.tab.id,name:"webEvent",data:o})),"openBot"===o.event&&(null==a?void 0:null===(u=a.tab)||void 0===u?void 0:u.id)&&T.Y.sendMessage({tabId:a.tab.id,name:"webEvent",data:o}),"getIsOnToolbar"===o.event)return s.getIsPinned().then(e=>({isOnToolbar:e}));if("getContextMenuUploadContent"===o.event){let e=this.crossPageData.findIndex(e=>"getContextMenuUploadContent"===e.event&&(0,y.Z)(e.payload,o.payload));return null===(d=this.crossPageData[e])||void 0===d?void 0:d.result}if("getMakeIteMoreTaskData"===o.event){let e=this.crossPageData.findIndex(e=>"getMakeIteMoreTaskData"===e.event&&(0,y.Z)(e.payload,o.payload));return null===(c=this.crossPageData[e])||void 0===c?void 0:c.result}if("localeChange"===o.event&&s.update({locale:o.payload.locale}),"continueInChat"===o.event&&this.emit(o.event,o.payload),"updateMemoItem"===o.event&&e.update(o.payload),"addMemoItem"===o.event&&e.addCacheMemoItem(o.payload),"markAdsUser"===o.event&&s.setUiFlag("isAdsUser",!!o.payload.isAdsUser),"syncRunToolData"===o.event)return _.DN.syncRunToolData(o.payload.toolData),!0;if("syncBotData"===o.event){let{customBotConfig:e,monicaBotConfig:t}=o.payload;t&&this.services.botFramework.updateMonicaConfig(t),e&&this.services.bot.updateCustomBotConfig(e)}return"getUpgradeVersion"===o.event?s.get("upgradeVersion").then(e=>({versionInfo:e})):"getMindMap"===o.event?{markdown:this.getMindMapDataByUid(o.payload.uid)}:"tourGuide"===o.event?((null==a?void 0:null===(p=a.tab)||void 0===p?void 0:p.id)&&this.emit(o.event,o.payload,!0),!0):"markFlag"===o.event?("OnboardingExpGroup"===o.payload.field&&s.setUiFlag("onboardingExpGroup",o.payload.value),!0):"getBotCreateData"===o.event?(setTimeout(()=>{this.setBotCreateData(null)},0),this.botCreateData):void 0}}),setTimeout(()=>{if("monica"===r.o.project&&r.o.isExtension)try{this.initContextMenus()}catch(e){}},150),this.tabChangeInit()}setBotCreateData(e){this.botCreateData=e}setMindMapData(e,t){this.mindmapData[e]=t}getMindMapDataByUid(e){return this.mindmapData[e]}refreshConversation(e){this.emit("refreshConversation",{convId:e})}async openMonicaChatTabPageV2(e){let t="";t=o.m.genFullUrl(a.l.createPageParamsUrl(e,"home")),this.openPage(t)}async openMonicaChatTabPage(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="".concat(p.O.getChatTabUrl());this.chatTabPageParams=e,await m.b.getBrowser().tabs.create({url:t})}async reloadAllMonicaTabs(){(await m.b.getBrowser().tabs.query({})).forEach(e=>{var t;(null===(t=e.url)||void 0===t?void 0:t.startsWith(r.o.host))&&m.b.getBrowser().tabs.reload(e.id,{bypassCache:!0})})}async getChatTabPageParams(){let e=(0,S.ZN)(this.chatTabPageParams);return this.chatTabPageParams={},e}async getCommands(){return r.o.isSafariExtension?[]:m.b.getBrowser().commands.getAll()}async markSelectionChange(e){this.lastTextSelection=e,this.lastTextSelectionUpdatedAt=Date.now(),b.d.sendMessage({name:"selectedTextChange",data:e||""})}async getSelectedText(){return this.lastTextSelectionUpdatedAt&&Date.now()-this.lastTextSelectionUpdatedAt>3e4?null:this.lastTextSelection}async getCurrentTabTitle(){var e;let t=null===(e=this.lastCaller)||void 0===e?void 0:e.tabId;return await m.b.getBrowser().tabs.get(t).then(e=>e.title)||""}async getAllTabInfo(){return v.u.sendMessage({name:"getAllTabs",data:{currentWindow:!0}})}async showReadingSources(e){let t=await this.getActiveTabId();return t?T.Y.sendMessage({tabId:t,name:"showReadingSources",data:e}):(console.error("NO_ACTIVE_TAB"),!1)}async getActiveTabId(){var e;let t=null===(e=(await m.b.getBrowser().tabs.query({active:!0,currentWindow:!0}))[0])||void 0===e?void 0:e.id;if(!t)throw"NO_ACTIVE_TAB";return t}tabChangeInit(){(0,h.uJ)(e=>{let{tabs:t}=e;t.onActivated.addListener(e=>{this.emit("onActiveTabChange",{tabId:e.tabId})}),t.onUpdated.addListener(e=>{this.emit("onActiveTabUpdated",{tabId:e})})})}setCrossPageData(e){this.crossPageData.push(e)}updateCrossPageData(e){let t=this.crossPageData.findIndex(t=>t.event===e.event&&(0,y.Z)(t.payload,e.payload));-1!==t&&(this.crossPageData[t]=e)}async openPage(e){if(r.o.isExtension){m.b.getBrowser().tabs.create({url:e,active:!0});return}if(r.o.isDesktop){g.y.getService().openBrowserPage(e);return}window.open(e,"_blank")}async captureVisibleTab(){var e;if(!(null===(e=(await m.b.getBrowser().tabs.query({active:!0,currentWindow:!0}))[0])||void 0===e?void 0:e.id))throw"NO_ACTIVE_TAB";return m.b.getBrowser().tabs.captureVisibleTab(void 0,{format:"jpeg"})}async imageToolsMenuClick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s={imageAnimator:"imageAnimator",removeBackground:"removeBackground",removeText:"removeText",removeBrushedArea:"removeBrushedArea",removeObject:"removeObject",changeBackground:"changeBackground",upscale:"upscale"},i=s[e.menuItemId];if(!s[i])return;let n=e.srcUrl;if(!n)return;let a=o.m.genId();n.startsWith("https")||n.startsWith("http")?(f.$.setData({event:"getContextMenuUploadContent",payload:{taskId:a},result:{status:"pending"}}),this.getImageBase64(n,t,a)):f.$.setData({event:"getContextMenuUploadContent",payload:{taskId:a},result:{status:"success",base64:n}});let u=o.m.genUrl("".concat("imageAnimator"===i?l.oo.videoTool:l.oo.imageTool),{taskId:a,key:i,from:r.o.isExtension?"extension":"web"});this.openPage("".concat(o.m.getWebOrigin()).concat(u))}setBadge(e){let{text:t,color:s="#fff",bgColor:i="#f00"}=e;chrome.action.setBadgeText({text:t}),chrome.action.setBadgeBackgroundColor({color:i}),chrome.action.setBadgeTextColor({color:s})}async _sendUserInfo(){let{user:e}=this.services,[t,s,i]=await Promise.all([e.getToken({cacheOnly:!0}),e.getUserInfo({cacheOnly:!0}),e.getVipStatus({cacheOnly:!0})]);return{userInfo:s,userVipStatus:i,token:t}}async initContextMenus(){this.initImageToolsContextMenus(),this.initTranslateContextMenu(),this.initQuickActionContentMenus(),m.b.getBrowser().contextMenus.onClicked.addListener(async e=>{let t=await this.getActiveTabId();"quick-action"===e.parentMenuItemId||"quick-action-more"===e.parentMenuItemId?t&&T.Y.sendMessage({tabId:t,name:"quickAction",data:e}):"web-translate"===e.menuItemId?t&&T.Y.sendMessage({tabId:t,name:"webTranslate",data:{}}):this.imageToolsMenuClick(e),C.M.createUserBehaviorEvent({eventName:"context_menu_click",extData:{menuId:e.menuItemId}})})}initImageToolsContextMenus(){let e=()=>{let e=u.S.Global.services.extensionService;return{root:{key:"image-tools",name:()=>e.editWithAi},children:(0,P.X)(e)}},t=e();m.b.getBrowser().contextMenus.create({id:t.root.key,title:t.root.name(),contexts:["image"]}),t.children.forEach(e=>{m.b.getBrowser().contextMenus.create({id:e.key,title:e.name(),parentId:t.root.key,contexts:["image"]})}),u.a.on("localeChange",()=>{let t=e();m.b.getBrowser().contextMenus.update(t.root.key,{title:t.root.name()}),t.children.forEach(e=>{m.b.getBrowser().contextMenus.update(e.key,{title:e.name()})})})}initTranslateContextMenu(){let e=u.S.Global.services.extensionService;m.b.getBrowser().contextMenus.create({id:"web-translate",title:e.translate,contexts:["page"]})}async initQuickActionContentMenus(){let e="quick-action",t=async()=>{let t=u.S.Global.services.extensionService,[s,i]=await Promise.all([this.services.user.getCustomPrompts(d.kq.SelectionAction,{cacheOnly:!0}),this.services.user.getPromptsI18n({cacheOnly:!0})]);return{root:{key:e,name:()=>t.quickAction},children:this.transformPromptList(s,i).map(e=>({...e,key:e.id.toString(),name:()=>e.name}))}},s=async()=>{let e=u.S.Global.services.extensionService,s=await t();m.b.getBrowser().contextMenus.create({id:s.root.key,title:s.root.name(),contexts:["selection"]});let i=s.children.filter(e=>e.pinned),n=s.children.filter(e=>!e.pinned);i.forEach(e=>{m.b.getBrowser().contextMenus.create({id:e.key,title:e.name(),parentId:s.root.key,contexts:["selection"]})}),n.length&&(m.b.getBrowser().contextMenus.create({id:"quick-action-more",title:e.moreActions,parentId:s.root.key,contexts:["selection"]}),n.forEach(e=>{m.b.getBrowser().contextMenus.create({id:e.key,title:e.name(),parentId:"quick-action-more",contexts:["selection"]})}))},i=async()=>{m.b.getBrowser().contextMenus.remove(e),s()};s(),u.a.on("localeChange",()=>{i()}),this.services.user.on("selectionActionsChange",()=>{i()}),this.services.user.on("promptsI18nChange",()=>{i()})}async isSidePanelApiAvailable(){return p.O.sidePanelApiAvailable}async isAllowedFileSchemeAccess(){return p.O.isAllowedFileSchemeAccess()}async downloadLocalFile(e){let t=await (await fetch(e)).blob();return await o.m.blobToString(t)}checkImageType(e){try{let t=e.split("?")[0].split(".").pop();return t&&["png","jpg","jpeg"].includes(t)}catch(e){return!1}}async getImageBase64(e,t,s){let i=null;if(r.o.isWeb&&(i=await f.$.getData("getContextMenuUploadContent",{taskId:s},"web")),r.o.isExtension){let e=this.crossPageData.find(e=>"getContextMenuUploadContent"===e.event&&e.payload.taskId===s);e&&(i=e.result)}if(!i)throw Error("can not find task");let n={event:"getContextMenuUploadContent",payload:{taskId:s},result:i};try{let s=await fetch(e),i=await s.blob();t&&(i=await this.compressImage(i)),this.checkImageType(e)||(i=await this.transformImageType(i,"image/png"));let r=new FileReader;r.readAsDataURL(i),r.onload=()=>{r.result&&(n.result={status:"success",base64:r.result},f.$.updateData(n))}}finally{n.result={status:"default"},f.$.updateData(n)}}transformImageType(e,t){return new Promise((s,i)=>{createImageBitmap(e).then(e=>{let n=new OffscreenCanvas(e.width,e.height),r=n.getContext("2d");if(!r){i(Error("canvas context is null"));return}n.width=e.width,n.height=e.height,r.drawImage(e,0,0),n.convertToBlob({type:t}).then(e=>{e?s(e):i(Error("canvas to blob failed"))})}).catch(e=>{i(e)})})}compressImage(e){return new Promise((t,s)=>{createImageBitmap(e).then(e=>{let i=new OffscreenCanvas(e.width,e.height),n=i.getContext("2d");if(!n){s(Error("canvas context is null"));return}i.width=e.width,i.height=e.height,n.drawImage(e,0,0),i.convertToBlob({type:"image/jpeg",quality:.8}).then(e=>{e?t(e):s(Error("canvas to blob failed"))})}).catch(e=>{s(e)})})}transformPromptList(e,t){var s;let i=null==t?void 0:null===(s=t.locale)||void 0===s?void 0:s[u.a.locale];return i?e.map(e=>{let t=0!==e.baseOnSystemId,s=e.systemKey?i[e.systemKey]:void 0;return t&&s?{...e,name:e.contentModified?e.name:s.name,content:e.contentModified?e.content:s.content}:e}):e}async getSelfTabId(){var e;return null===(e=this.lastCaller)||void 0===e?void 0:e.tabId}constructor(...e){super(...e),(0,n._)(this,"dependencies",["memo","config","user","bot","botFramework","serverConfig","credits"]),(0,n._)(this,"meta",{key:"extension",name:"ExtensionService"}),(0,n._)(this,"defaultStorageValues",{sidebarEntryTranslateTooltipShowFlag:!1}),(0,n._)(this,"lastTextSelection",null),(0,n._)(this,"lastTextSelectionUpdatedAt",null),(0,n._)(this,"crossPageData",[]),(0,n._)(this,"chatTabPageParams",{}),(0,n._)(this,"mindmapData",{}),(0,n._)(this,"botCreateData",null)}}let w=new i.x(A)},11502:function(e,t,s){s.d(t,{M:function(){return c}});var i=s(83260),n=s(66084),r=s(92235),o=s(56607),a=s(65324),l=s(96235),u=s(55180);class d extends u.b{async onInit(){}async getSubscriptionPlans(e){return await this._fetchWithCache("subscriptionPlans",async()=>await a.Cb.vipApi.getSubscriptionPlans({unlimitedV2:!0}),e)}async submitFeedback(e){return a.Cb.userApi.submitFeedback(e)}async createArtistBehaviorEvent(e){return a.Cb.userBehaviorApi.artistBotFeedback(e)}async createUserBehaviorEvent(e){return this.services.user.createUserBehaviorEvent(e)}async trackPaymentEvent(e){return this.services.user.trackPaymentEvent(e)}async createChatToolbarEvent(e){return this.createUserBehaviorEvent({eventName:"chat_toolbar_click",source:e})}async getS3PreSignedUrl(e){let t=await fetch("".concat(l.Xo,"/file_object/pre_sign?key=").concat(encodeURIComponent(e)),{headers:(0,l.D3)()}),s=await t.json();if(0!==s.code)throw s.msg;let i=r.m.camelize(s.data);return{preSignedUrl:i.preSignUrl,objectUrl:i.objectUrl}}async ocr(e){return await a.Cb.cognitiveApi.ocr(e)}async getS3PreSignedModuleUrl(e){return await a.Cb.fileObjectApi.preSignByModule(e)}async preSignListByModule(e){return await a.Cb.fileObjectApi.preSignListByModule(e)}async recommendPublicCustomPrompt(e){return await a.Cb.userApi.recommendPublicCustomPrompt(e)}async report(e){return await a.Cb.userApi.report(e)}async trackRunPromptEvent(e){a.Cb.userApi.useCustomPrompt(e),this.createUserBehaviorEvent({eventName:"prompt_library_run_prompt",extData:{promptId:e.customPromptId.toString()}})}async submitCustomForm(e){return await a.Cb.userApi.submitCustomForm(e)}async changelogDetail(){return await a.Cb.versionApi.changelogDetail()}async proxyFetch(e,t){let{resolveType:s,taskId:i}=t,n=new Request(e);i&&(this.proxyFetchTasks[i]=new AbortController);let r=await fetch(n,{signal:i?this.proxyFetchTasks[i].signal:void 0});if(!r.ok||200!==r.status)throw"".concat(r.statusText,"(").concat(r.status,")");if("text"===s)return await r.text();if("blob"===s){let e=await r.blob(),t=new FileReader;return t.readAsDataURL(e),await new Promise(e=>{t.onloadend=()=>{e(t.result)}})}return await r.json()}async abortProxyFetch(e){let t=this.proxyFetchTasks[e];t&&t.abort(),delete this.proxyFetchTasks[e]}async getImageBase64ByUrl(e){let t=await fetch(e).then(e=>e.blob());return await r.m.fileToDataUrl(t)}async feedbackGenResult(e){return await a.Cb.taskApi.feedbackGenResultV2(e)}async commonFeedbackGenResult(e){return await a.Cb.taskApi.commentFeedbackV2(e)}async is7daysProEvent(){return await a.Cb.userApi.is7daysProEvent()}async extVipStatus(){return await a.Cb.vipApi.extVipStatus()}async userNotificationList(e){return await a.Cb.notificationApi.userNotificationList(e)}async inviteRewardListV2(e){return await a.Cb.userApi.inviteRewardListV2(e)}async signReadListForMemo(e){return await a.Cb.fileObjectApi.signReadListForMemo(e)}async getNewVersion(){return await a.Cb.generateService.popupApi.getConfig({popupType:"new_version"},{ignoreGlobalErrorHandler:!0})}async getNewVersionReactionData(){return a.Cb.botFrameworkService.reactionApi.count()}async postNewVersionReactionData(e){return a.Cb.botFrameworkService.reactionApi.commit(e)}async getPayPushConfig(){return await a.Cb.userApi.payPushConfig({ignoreGlobalErrorHandler:!0})}async pushResult(e){return await a.Cb.botFrameworkService.sseTaskApi.pushResult(e,{ignoreGlobalErrorHandler:!0})}async getSpecialNations(){return await a.Cb.vipApi.getSpecialNations({ignoreGlobalErrorHandler:!0})}async saveFacebook(e){let t=JSON.stringify(e),s=o.o.isProd?"https://roast.monica.im":"http://192.168.110.107:3000";return fetch("".concat(s,"/api/save_facebook"),{method:"POST",credentials:"include",body:t}).then(e=>e.json())}async reportTrack(e){return await a.Cb.botFrameworkService.googleApi.reportTrack(e)}constructor(...e){super(...e),(0,n._)(this,"meta",{key:"request",name:"RequestService"}),(0,n._)(this,"dependencies",["user"]),(0,n._)(this,"defaultStorageValues",{notificationData:null,tooListData:null,subscriptionPlans:null}),(0,n._)(this,"proxyFetchTasks",{})}}let c=new i.x(d)},32671:function(e,t,s){s.d(t,{G:function(){return i}});let i={onboardingNewStyleExperiment:"onboarding_new_style_experiment",chatFeedback:"chat_feedback_experiment",recommendPlanInterval:"recommend_plan_interval",onboardingSurvey:"onboarding_survey",cancelSubscriptionFlow:"cancel_subscription_flow"}},48655:function(e,t,s){s.d(t,{Cc:function(){return y}});var i=s(83260),n=s(66084),r=s(22046),o=s(88882),a=s(56607),l=s(60445),u=s(92660),d=s(92235),c=s(65324),h=s(55180),p=s(32671),m=s(85132);class g extends h.b{async onInit(){this.storage.addChangeListener(e=>{this.emit("configChanges",e)}),o.a.on("localeChange",()=>{this.staticConfigSyncing=!1,this.syncConfig(!0)});let e=!1;a.o.isWeb&&[l.Cl.billing,l.Cl.pricing,l.Cl.checkout,l.Cl.firstInstall,l.Cl.onboardingPay,l.Cl.chatGuide,l.Cl.credits,l.Cl.teamUsage,l.Cl.activity].some(e=>r.S.location.pathname.includes(e))&&(e=!0),setTimeout(()=>{this.staticConfigSyncing=!1,a.o.isWeb?o.a.readySource.waitReady().then(()=>{this.syncConfig(e)}):o.a.readySource.markReady()},0),this.readySource.markReady()}async getExperimentConfig(){return await this.readySource.waitReady(),this.storage.get("expConfigDetails")}async getPlanConfigs(){return await this.readySource.waitReady(),this.storage.get("planConfigs")}async getStaticConfig(){return await this.readySource.waitReady(),this.storage.get("staticConfigs")}async syncConfig(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];await this.syncExperimentConfig(e),await this.syncSubscribePlanList(e),await this.autoUpdateStaticConfig(e)}async syncExperimentConfig(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.expConfigSyncing)return;let t=async()=>{let t=await this.storage.get("expConfigLastSyncTime")||0,s=6*u.kr;if(Date.now()-t<s&&!e)return;let i=await this.services.config.get("finishedExperiments"),n=Object.values(p.G).filter(e=>!i.includes(e)),r=await this.services.config.get("installTime")||0,o=await c.Cb.generateService.experimentConfigApi.getGroup({experimentNames:n,experimentOperands:{extensionInstallTs:r/1e3>>0}});this.storage.set("expConfigLastSyncTime",Date.now());let a=o.data.groupDetails||[],l=[];a.length>0&&((await this.storage.get("expConfigDetails")).forEach(e=>{a.find(t=>e.experimentName===t.experimentName)||n.includes(e.experimentName)||l.push(e)}),a.forEach(e=>{l.push(e)}),await this.storage.set("expConfigDetails",l)),this.reportExprData()};this.expConfigSyncing=!0,await t().finally(()=>{this.expConfigSyncing=!1})}async syncSubscribePlanList(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.planConfigSyncing)return;let t=async()=>{var t;let s=await this.storage.get("planConfigLastSyncTime")||0,i=3*u.kr;if(Date.now()-s<i&&!e)return;let n=await c.Cb.botFrameworkService.vipApi.getSubscriptionPlansV2();(null===(t=n.userPlanList)||void 0===t?void 0:t.length)&&(await this.storage.set("planConfigLastSyncTime",Date.now()),await this.storage.set("planConfigs",n))};this.planConfigSyncing=!0,await t().finally(()=>{this.planConfigSyncing=!1})}async onlyFetchStaticConfig(e){if(0===e.length)return null;let t=null;return(await c.Cb.generateService.appConfigApi.getAppConfigs({configNames:e})).data}async reportExprData(){let e=(await this.storage.get("expConfigDetails")).map(e=>({groupId:e.groupName,expId:e.experimentName,version:e.version,...e.reportData||{}}));this.services.request.createUserBehaviorEvent({eventName:"experiment_user_info_report",extData:{experimentInfoReport:e}})}async manualUpdateStaticConfig(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e||0===e.length)return null;if(t)return this.fetchStaticConfig(e);let s=await this.calcUpdateKeys(e);return s.length>0?this.fetchStaticConfig(s):null}async autoUpdateStaticConfig(e){if(e||a.o.isWeb&&this.STATIC_CONFIG_WEB_PATH_WHITELIST.some(e=>r.S.location.pathname.includes(e)))return this.fetchStaticConfig(m.P);let t=await this.calcDiffKeys(m.P);return t&&0!==t.length?this.fetchStaticConfig(t):(console.log("[ServiceConfigService][autoUpdateStaticConfig] no uncached keys"),null)}async parseLastSyncTime(){return(await this.storage.get("staticConfigLastSyncTime")||"").split(";").reduce((e,t)=>{let[s,i]=t.split("="),n=s.trim(),r=Number(null==i?void 0:i.trim());return n&&(Number.isNaN(r)?e[n]=0:e[n]=r),e},{})}async calcDiffKeys(e){let t=await this.storage.get("staticConfigs");return e.filter(e=>{let s=d.m.camelizeKey(e);return!t||!(s in t)})}async calcUpdateKeys(e){let t=await this.parseLastSyncTime(),s=Date.now(),i=await this.storage.get("staticConfigs");return e.filter(e=>{let n=d.m.camelizeKey(e);return!i||!(n in i)||s-(t[e]||0)>this.staticConfigExpireTime})}async mergeUpdateKeys(e){let t=await this.parseLastSyncTime(),s=Date.now();e.forEach(e=>{t[e]=s});let i=Object.entries(t).map(e=>{let[t,s]=e;return"".concat(t,"=").concat(s)}).join(";");await this.storage.set("staticConfigLastSyncTime",i)}async fetchStaticConfig(e){if(!e||0===e.length||this.staticConfigSyncing)return null;let t=d.m.genId(),s=null;try{this.staticConfigSyncing=!0,this.staticConfigSyncingId=t;let i=await c.Cb.generateService.appConfigApi.getAppConfigs({configNames:e});if(this.staticConfigSyncingId!==t)return null;let n=await this.storage.get("staticConfigs");s=i.data,e&&n&&e.forEach(e=>{if(s){let t=d.m.camelizeKey(e);(void 0===s[t]||null===s[t])&&void 0!==n[t]&&delete n[t]}}),await this.storage.set("staticConfigs",{...n||{},...i.data||{}}),await this.mergeUpdateKeys(e)}finally{this.staticConfigSyncing=!1}return s}constructor(...e){super(...e),(0,n._)(this,"meta",{key:"serverConfig",name:"ServerConfigService"}),(0,n._)(this,"dependencies",["config","request"]),(0,n._)(this,"defaultStorageValues",{expConfigLastSyncTime:0,expConfigDetails:[],planConfigLastSyncTime:0,planConfigs:null,staticConfigLastSyncTime:"",staticConfigs:null}),(0,n._)(this,"expConfigSyncing",!1),(0,n._)(this,"planConfigSyncing",!1),(0,n._)(this,"staticConfigSyncing",!1),(0,n._)(this,"staticConfigSyncingId",""),(0,n._)(this,"staticConfigExpireTime",6*u.kr),(0,n._)(this,"readySource",d.m.createReadySource()),(0,n._)(this,"STATIC_CONFIG_WEB_PATH_WHITELIST",[l.Cl.monicaWeb,l.oo.IMAGE_TOOL_PREFIX])}}let y=new i.x(g)},85132:function(e,t,s){var i,n;s.d(t,{$:function(){return i},P:function(){return r}}),(n=i||(i={})).monicaKnowledgeSourceList="monica_knowledge_source_list",n.monicaMoreModelList="monica_more_model_list",n.translateFreeApiTimeoutMs="translate_free_api_timeout_ms",n.inviteAd="invite_ad",n.professionPromptList="profession_prompt_list",n.toolConfig="tool_config",n.newSkillNotify="new_skill_notify",n.countryListOne="country_list_one",n.skillConfigList="skill_config_list",n.seInviteAd="se_invite_ad",n.siteMatchConfigList="site_match_config_list",n.smartActionUrl="smart_action_url",n.seAd="se_ad",n.extHomeAd="ext_home_ad",n.extHomeAdFree="ext_home_ad_free",n.professionTranslateEngineList="profession_translate_engine_list",n.professionTranslateFeatureList="profession_translate_feature_list",n.creditsUsage="credits_usage",n.webAd="web_ad",n.taskTypeList="task_type_list",n.monicaModelListV3="monica_model_list_v3",n.allModelList="all_model_list",n.skillCardModels="skill_card_models",n.customBotModelListV2="custom_bot_model_list_v2",n.aiImageList="ai_image_list",n.toolList="tool_list",n.discoverRecommendList="discover_recommend_list",n.banners="banners",n.imageHomePageToolConfig="image_tool_home_page_config",n.pixverseTemplateList="pixverse_template_list",n.workflowConfigList="workflow_config_list",n.imagePopupList="image_popup_list",n.videoPopupList="video_popup_list",n.videoGenConfigList="video_gen_config_list",n.imageGenConfigList="image_gen_config_list",n.newYear="new_year",n.backToSchool="home_coming",n.videoPage="video_page",n.audioPage="audio_page";let r=Object.values(i)},50209:function(e,t,s){s.d(t,{H:function(){return u}});var i=s(83260),n=s(66084),r=s(88882),o=s(65324),a=s(55180);class l extends a.b{async onInit(){this.storage.addChangeListener(()=>{}),r.a.on("localeChange",()=>{})}async paddleOneTimeCheckout(e){return o.Cb.botFrameworkService.paddleApi.oneTimeCheckout(e)}async paddleCreateTeamCheckout(e){return o.Cb.botFrameworkService.paddleApi.teamCheckout(e)}async paddleQueryTeamCheckout(e){return o.Cb.botFrameworkService.paddleApi.teamQuery(e)}async paddleCancelTeamSubscription(e){return o.Cb.botFrameworkService.paddleApi.teamCancel(e)}async paddleResubscribeTeamSubscription(e){return o.Cb.botFrameworkService.paddleApi.teamResume(e)}async paddleTeamPreview(e){return o.Cb.botFrameworkService.paddleApi.teamPreview(e)}async paddleCreateCheckout(e){return o.Cb.botFrameworkService.paddleApi.checkout(e)}async paddleQueryCheckout(e){return o.Cb.botFrameworkService.paddleApi.query(e)}async paddleCancelSubscription(e){return o.Cb.botFrameworkService.paddleApi.pause(e)}async paddleResubscribeSubscription(e){return o.Cb.botFrameworkService.paddleApi.resume(e)}async paddleUpgradePreview(e){return o.Cb.botFrameworkService.paddleApi.preview(e)}async fastspringQuerySubscription(e){return o.Cb.vipApi.fastspringQueryOrder(e)}async fastspringCreateCheckout(e,t){return o.Cb.vipApi.fastspringCreateCheckout(e,t)}async fastspringCreateSingleCheckout(e,t){return o.Cb.vipApi.fastspringCreateSingleCheckout(e,t)}async fastspringUpgradePreview(e){return o.Cb.vipApi.fastspringUpgradePreview(e)}async fastspringResubscribeSubscription(){return o.Cb.vipApi.fastspringResubscribeSubscription()}async fastspringCancelSubscription(){return o.Cb.vipApi.fastspringCancelSubscription()}async stripeCreateSubscriptionCheckout(e){return o.Cb.vipApi.stripeCreateSubscriptionCheckout(e)}async stripeCancelSubscription(){return o.Cb.vipApi.stripeCancelSubscription()}async stripeResubscribeSubscription(){return o.Cb.vipApi.stripeResubscribeSubscription()}async stripeCreateSubscriptionCheckoutPreview(e){return o.Cb.vipApi.stripeCreateSubscriptionCheckoutPreview(e)}async lemonCreateSubscriptionCheckout(e){return o.Cb.vipApi.lemonCreateSubscriptionCheckout(e)}async lemonCancelSubscription(){return o.Cb.vipApi.lemonCancelSubscription()}async lemonResubscribeSubscription(){return o.Cb.vipApi.lemonResubscribeSubscription()}async teamDeduction(){return o.Cb.botFrameworkService.paddleApi.teamDeduction({})}async platformBindPayment(){return o.Cb.botFrameworkService.paddleApi.platformBindPayment({})}async platformPay(e){return o.Cb.botFrameworkService.paddleApi.platformPay(e)}async getPaddleDiscount(e){return o.Cb.botFrameworkService.paddleApi.discountInfo(e)}constructor(...e){super(...e),(0,n._)(this,"meta",{key:"subscribe",name:"SubscribeService"}),(0,n._)(this,"dependencies",[]),(0,n._)(this,"defaultStorageValues",{})}}let u=new i.x(l)},57434:function(e,t,s){s.d(t,{Yl:function(){return l}});var i=s(83260),n=s(66084),r=s(65324),o=s(55180);class a extends o.b{async onInit(){this.storage.addChangeListener(e=>{this.emit("configChanges",e)})}async selectWorkspace(e){return r.Cb.generateService.teamApi.selectWorkspace(e)}async getTeamUserList(e){return r.Cb.generateService.teamApi.getTeamUserList(e)}async getTeamReviewList(e){return r.Cb.generateService.teamApi.getTeamReviewList(e)}async approveInvite(e){return r.Cb.generateService.teamApi.approveInvite(e)}async disapproveInvite(e){return r.Cb.generateService.teamApi.disapproveInvite(e)}async transformTeamOwner(e){await r.Cb.generateService.teamApi.transformOwner(e);let t=await this.storage.get("workspaceList");if(t&&t.length>0){let s=t.find(t=>t.teamId===e.teamId);s&&(s.teamRoleType="member",await this.storage.set("workspaceList",t))}}async modifyTeamUserRole(e){return r.Cb.generateService.teamApi.changeTeamUserRole(e)}async removeTeamUser(e){return r.Cb.generateService.teamApi.removeTeamUser(e)}getTeamInfo(){return r.Cb.generateService.teamApi.getTeamInfo({})}dissolveTeam(e){return r.Cb.generateService.teamApi.dissolveTeam(e)}exitTeam(e){return r.Cb.generateService.teamApi.exitTeam(e)}async createTeamComplete(e){return r.Cb.generateService.teamApi.createTeamComplete(e)}async getCreatedTeam(){return r.Cb.generateService.teamApi.getCreatedTeam({})}async updateTeam(e){return r.Cb.generateService.teamApi.updateTeamInfo(e)}async getWorkspaces(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=await this.storage.get("workspaceList");if(e)return t;let s=(await r.Cb.generateService.teamApi.getWorkspaceList({})).data.workspaceList||[];if(s.length>0){for(let e=s.length-1;0!==e;e--){let i=s[e];if("personal"!==i.workspaceType&&"owner"!==i.teamRoleType&&t.some(e=>e.teamId!==i.teamId)){this.services.config.handleNewWorkspaceAdded(i);break}}await this.storage.set("workspaceList",s)}return s}async getInviteLink(e){return r.Cb.generateService.teamApi.getInviteLink(e)}async refreshInviteLink(e){return r.Cb.generateService.teamApi.refreshInviteLink(e)}async startInviteLink(){return r.Cb.generateService.teamApi.startInviteLink({})}async stopInviteLink(){return r.Cb.generateService.teamApi.stopInviteLink({})}async getTeamInviteInfo(e){return r.Cb.generateService.teamApi.inviteTeamInfo(e)}async getTeamInviteStatus(e){return r.Cb.generateService.teamApi.getPreviewStatus(e)}async acceptInvite(e){return r.Cb.generateService.teamApi.acceptInvite(e)}async getTeamSeat(){return r.Cb.botFrameworkService.vipApi.teamSeat({})}async getTeamDeduction(){return r.Cb.botFrameworkService.vipApi.getTeamDeduction({})}async setTeamDeduction(e){return r.Cb.botFrameworkService.vipApi.setTeamDeduction(e)}constructor(...e){super(...e),(0,n._)(this,"meta",{key:"team",name:"teamService"}),(0,n._)(this,"dependencies",["config"]),(0,n._)(this,"defaultStorageValues",{workspaceList:[]})}}let l=new i.x(a)},38172:function(e,t,s){s.d(t,{W:function(){return v}});var i=s(65324),n=s(83260),r=s(66084),o=s(11502),a=s(56607),l=s(88882),u=s(92347),d=s(92660),c=s(92235),h=s(60445),p=s(31640),m=s(55180),g=s(40814),y=s(92020),S=s(44469);class _{push(e){a.o.isWeb&&(e.extData||(e.extData={}),e.extData.url=window.location.href),this.events.push(e),this.doChecking()}doChecking(){this.timer&&this.clearTimer(),this.timer=setTimeout(()=>{this.send(),this.clearTimer()},this.interval)}clearTimer(){clearTimeout(this.timer),this.timer=null}async send(){let e=await this.userService.getVipStatus({cacheOnly:!0}).catch(e=>{console.log(e)}),t={events:this.events,userInfo:e?{proDuration:e.interval||"",proStatus:e.vipVersion,canTrial:null==e?void 0:e.canUseTrial,onTrial:null==e?void 0:e.onTrial,usingGiveawayVip:e.usingGiveawayVip}:void 0};if(a.o.isWeb&&navigator){var s,n,r;t.clientInfo={clientId:null!==(r=i.Cb.getClientId())&&void 0!==r?r:"",clientType:a.o.platform,clientVersion:"5.4.3",clientLocale:l.a.locale,productName:a.o.productName},null===(n=navigator)||void 0===n||null===(s=n.sendBeacon)||void 0===s||s.call(n,"".concat(a.o.host,"/api/user_behavior/batch_create_event_v2"),JSON.stringify(i.Cb.convertObjectNames("server",t)))}else i.Cb.userBehaviorApi.batchCreateEventV2(t,{ignoreGlobalErrorHandler:!0});this.events=[]}constructor(e,t){(0,r._)(this,"userService",void 0),(0,r._)(this,"interval",void 0),(0,r._)(this,"events",void 0),(0,r._)(this,"timer",void 0),this.userService=e,this.interval=t,this.events=[],this.timer=null}}class f extends m.b{async onInit(){if(this.userBehaviorManager=new _(this,a.o.isExtension?1e4:200),await this.initClientId(),a.o.isDesktop||a.o.isSafariExtension){let e=await this.storage.get("token");e?(console.log("user token found"),i.Cb.setAuthToken(e)):console.log("user token not found")}this.storage.addChangeListener(e=>{void 0!==e.userInfo&&this.emit("userInfoChange",e.userInfo),void 0!==e.userVipStatus&&this.emit("userVipStatusChange",e.userVipStatus),void 0!==e.myPrompts&&this.emit("myPromptsChange",e.myPrompts),void 0!==e.selectionActions&&this.emit("selectionActionsChange",e.selectionActions),void 0!==e.composeActionList&&this.emit("composeActionListChange",e.composeActionList),void 0!==e.promptsI18n&&this.emit("promptsI18nChange",e.promptsI18n),void 0!==e.categoryList&&this.emit("categoryListChange",e.categoryList),void 0!==e.token&&i.Cb.setAuthToken(e.token)}),l.a.on("localeChange",e=>{e&&(this.addLocaleToUserLanguages(e),this.getCustomPrompts(u.kq.ComposeAction,{useCache:!1}))})}async markAuthComplete(e){i.Cb.setAuthToken(e.token),await this.storage.update({token:e.token}),await Promise.all([this.getVipStatus({useCache:!1}).then(()=>this.storage.update({userInfo:e.userInfo})),this.getCustomPrompts(u.kq.MyPrompt,{useCache:!1}),this.getCustomPrompts(u.kq.SelectionAction,{useCache:!1}),this.markAppInstall()])}async updateToken(e){i.Cb.setAuthToken(e),await this.storage.update({token:e})}async getUserInfo(e){return this._fetchWithCache("userInfo",async()=>{try{return(await i.Cb.userApi.me()).user}catch(e){if(e instanceof i.JO.UserAuthError||e instanceof i.JO.AuthError)return await this.handleLogout(),null;throw e}},e)}async getVipStatus(e){return this._fetchWithCache("userVipStatus",async()=>{let e=(await i.Cb.botFrameworkService.userApi.getVipStatus({ignoreGlobalErrorHandler:!0})).data;return e.isLocked?e.teamLockExpires>0&&e.teamLockExpires/86400<d.lT?this.emit("isTeamLocked",!0):this.logout():this.emit("isTeamLocked",!1),e},e)}async getUserStatus(){let e=await this.storage.getAll(),[t,s]=await Promise.all([async()=>{if(e.userInfo)return Promise.resolve(e.userInfo);let{user:t}=await i.Cb.userApi.me();return this.storage.set("userInfo",t),t},async()=>{if(e.userVipStatus)return Promise.resolve(e.userVipStatus);let{data:t}=await i.Cb.botFrameworkService.userApi.getVipStatus();return this.storage.set("userVipStatus",t),t}]);return{userInfo:t,vipStatus:s}}async getCategoryList(e){return this._fetchWithCache("categoryList",async()=>(await i.Cb.userApi.getPublicCustomPromptCategories()).data,e)}async inviteRewardList(e){return this._fetchWithCache("inviteRewardList",async()=>(await i.Cb.userApi.inviteRewardList()).inviteRewardList,e)}async inviteFriendList(e,t){return this._fetchWithCache("inviteFriendList",async()=>{var t;return null!==(t=(await i.Cb.userApi.inviteList(e)).inviteUsers.itemList)&&void 0!==t?t:[]},t)}async receiveInviteReward(e){return i.Cb.userApi.receiveInviteReward(e)}async randomTweetingText(e){return this._fetchWithCache("randomTweetingText",async()=>(await i.Cb.userApi.randomTweetingText()).text,e)}async logout(){let e=!1;try{await i.Cb.userApi.logout(),e=!0}catch(e){console.error("logout error",e)}await this.clearUserInfo(),this.emit("userLogout",{clearedCookies:e})}async clearUserInfo(){this.storage.set("isMonicaSoAuthorized",!1),await this.storage.update({userInfo:null,userVipStatus:null,myPrompts:[],selectionActions:[],composeActionList:[],token:null,staticConfig:null,staticConfigLastUpdatedAt:null,chatDailyUsage:"",quickActionDailyUsage:"",searchEnhanceDailyUsage:"",chatDailyUsageWithVip:"",quickActionDailyUsageWithVip:"",searchEnhanceDailyUsageWithVip:""})}async openLoginWindow(e,t){let{availLeft:s,availTop:i,height:n,width:r}=e,o="",l=(null==t?void 0:t.source)||"";o=(null==t?void 0:t.extId)?"".concat(c.m.getWebOrigin()).concat(h.Cl.login,"?from=extension&browser=").concat(a.o.browser,"&extId=").concat(t.extId,"&extensionName=").concat(a.o.project):l?"".concat(c.m.getWebOrigin()).concat(h.Cl.login,"?from=extension&browser=").concat(a.o.browser,"&channel=").concat(l):"".concat(c.m.getWebOrigin()).concat(h.Cl.login,"?from=extension&browser=").concat(a.o.browser);let u=Math.round((r-800)/2)+s,d=Math.round((n-730)/2)+i;if(a.o.isExtension){(0,g.uJ)(e=>{let{windows:t}=e;t.create({url:o,focused:!0,width:800,height:730,type:"popup",left:u,top:d})});return}throw Error("TODO: other platform")}async getUserLanguages(){let e=await this.getUserInfo({autoUpdate:!1});return e&&e.languagePreferences||[]}async updateUserLanguages(e){let t=await this.storage.get("userInfo");t&&(t.languagePreferences=e,await this.storage.set("userInfo",t)),await i.Cb.userApi.updateLanguagePreferences({languagePreferences:e.filter(e=>"auto"!==e.toLowerCase())})}async addUserLanguage(e){let t=await this.getUserLanguages(),s=t.indexOf(e);-1!==s&&t.splice(s,1),t.unshift(e),await this.updateUserLanguages(t)}async addLocaleToUserLanguages(e){let t=p.q.getComposeLanguageKeyByLocale(e);t&&await this.addUserLanguage(t)}async getCustomPrompts(e,t){let s=this.getCustomPromptStorageKey(e);return(this.requestLockMap[s]?await this.requestLockMap[s].waitReady():this.requestLockMap[s]=c.m.createReadySource(),e===u.kq.MyPrompt)?await this._fetchWithCache(s,async()=>(await i.Cb.userApi.getPublicCustomPromptList({tab:"my",limit:200})).data.items,t).finally(()=>{this.requestLockMap[s].markReady()}):await this._fetchWithCache(s,async()=>(await i.Cb.userApi.customPromptList({type:e})).items,t).finally(()=>{this.requestLockMap[s].markReady()})}async getMyPrompts(e,t){return this._fetchWithCache("myPrompts",async()=>(await i.Cb.userApi.getMyCustomPromptList(e)).data.items,t)}getFavoritePrompts(e,t){return this._fetchWithCache("favoritePrompts",async()=>(await i.Cb.userApi.getFavoriteCustomPromptList(e)).data.items,t)}async getRecommendPrompts(e){let t="recommendPrompts";return this.requestLockMap[t]?await this.requestLockMap[t].waitReady():this.requestLockMap[t]=c.m.createReadySource(),await this._fetchWithCache("recommendPrompts",async()=>(await i.Cb.userApi.getPublicCustomPromptList({tab:"recommend",limit:15})).data.items,e).finally(()=>{this.requestLockMap[t].markReady()})}async getPromptsI18n(e){let t;let s="promptsI18n";this.requestLockMap[s]?await this.requestLockMap[s].waitReady():this.requestLockMap[s]=c.m.createReadySource();let n=await this.storage.get(s);return(null==n?void 0:n.version)&&(t=n.version),await this._fetchWithCache(s,async()=>{let e=await i.Cb.userApi.getCustomPromptI18n({version:t});return e.data.notModified?n:e.data},e).finally(()=>{this.requestLockMap[s].markReady()})}async resetCustomPrompt(e,t){await i.Cb.userApi.resetCustomPrompt(t),await this.getCustomPrompts(e,{useCache:!1})}async updateCustomPrompt(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return await i.Cb.userApi.updateCustomPrompt(t),s||await this.getCustomPrompts(e,{useCache:!1}),!0}async updateCustomPromptCache(e,t){let s=this.getCustomPromptStorageKey(e);await this.storage.set(s,t)}async favoriteCustomPrompt(e){await i.Cb.userApi.favoriteCustomPrompt(e)}async deleteCustomPrompt(e,t){return await i.Cb.userApi.deleteCustomPrompt({id:t}),await this.getCustomPrompts(e,{useCache:!1}),!0}async addCustomPrompt(e,t,s){return await i.Cb.userApi.createCustomPrompt({...t,type:e,createAllType:s}),s?(await this.getCustomPrompts(u.kq.SelectionAction,{useCache:!1}),await this.getCustomPrompts(u.kq.ComposeAction,{useCache:!1})):await this.getCustomPrompts(e,{useCache:!1}),!0}async sortCustomPrompt(e,t,s){return await i.Cb.userApi.updateCustomPromptPosition({id:t,position:s}),await this.getCustomPrompts(e,{useCache:!1}),!0}async getTeamInvoiceList(){let{data:e}=await i.Cb.botFrameworkService.vipApi.teamInvoice({});return e.invoices||[]}async getTeamSeatInfo(){let{data:e}=await i.Cb.botFrameworkService.vipApi.teamSeat({});return e}async setLocale(e){await i.Cb.userApi.setLocale({locale:e},{ignoreGlobalErrorHandler:!0})}async getLocale(){let e=await i.Cb.userApi.getLocale();return"locale"in e?e.locale:null}async setUserBatch(e){await this.storage.get("userBatch")||await this.storage.set("userBatch",e)}getToken(e){return this._fetchWithCache("token",async()=>{let{token:e}=await i.Cb.userApi.authSession();return e},e)}triggerDeviceExceededLimit(e){this.emit("isExceededDeviceLimit",e,!0)}async getClientId(){return await this.storage.get("clientId")}async _addAuthChangeHooks(e){let t=!!await this.storage.get("userInfo");function s(s){var i,n;t?null===(i=e.whenLogin)||void 0===i||i.call(e,s):null===(n=e.whenLogout)||void 0===n||n.call(e,s)}s("initial"),this.on("userInfoChange",e=>{!!e!==t&&(t=!!e,s("change"))})}async updateDailyUsage(e){let t=await this.getVipStatus({cacheOnly:!0}),s=(null==t?void 0:t.vipVersion)!=="free",i=new Date().toDateString(),n=0;if(s){n++;let t="".concat(e,"DailyUsageWithVip"),s=await this.storage.get(t);if(s){let[e,r]=s.split("-");e===i&&(n=r?Number(r)+1:1),await this.storage.set(t,[i,n].join("-"))}else await this.storage.set(t,[i,n].join("-"))}let r="".concat(e,"DailyUsage"),o=await this.storage.get(r),a=1;if(o){let[e,t]=o.split("-");e===i&&(a=t?Number(t)+1:1),await this.storage.set(r,[i,a].join("-"))}else await this.storage.set(r,[i,a].join("-"));return{used:a,usedWithVip:n}}async updateUserInfo(e){return await i.Cb.userApi.updateUserInfoV2(e)}async setUserInfo(e){this.storage.set("userInfo",e)}async handleLogout(){this.clearUserInfo(),this.emit("userLogout",{clearedCookies:!1})}getCustomPromptStorageKey(e){if(e===u.kq.SelectionAction)return"selectionActions";if(e===u.kq.MyPrompt)return"myPrompts";if(e===u.kq.ComposeAction)return"composeActionList";throw Error("Invalid custom prompt type")}async initClientId(){let e=await this.storage.get("clientId");!e&&(e=c.m.genId(),await this.storage.set("clientId",e),a.o.isDesktop?this.createUserBehaviorEvent({eventName:"install_platform",source:"desktop"}):a.o.isExtension?this.createUserBehaviorEvent({eventName:"extension_install",extData:{clientId:e}}):a.o.isWeb&&this.createUserBehaviorEvent({eventName:"web_visit",extData:{clientId:e}})),i.Cb.setClientId(e),(0,g.uJ)(t=>{let{runtime:s}=t;s.setUninstallURL("".concat(c.m.getWebOrigin(),"/uninstall-success?cid=").concat(e))})}async createUserBehaviorEvent(e){(Array.isArray(e)?e:[e]).map(e=>({...e,extData:{...e.extData},eventAt:new Date().toISOString()})).forEach(e=>{this.userBehaviorManager.push(e)})}async trackPaymentEvent(e){let t;let{source:s,extData:n={},botInfo:r}=e;try{t=await this.getVipStatus({cacheOnly:!0})||void 0}catch(e){}let o={eventName:"payment",source:s,extData:{...n,botId:null==r?void 0:r.id,usageModule:null==r?void 0:r.usageModule},userInfo:t?{proStatus:t.vipVersion,proDuration:t.interval||""}:void 0};return this.createUserBehaviorEvent(o),i.Cb.vipApi.paymentMoti(o)}async createUnlimitedPromotionEvent(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.createUserBehaviorEvent({eventName:"unlimited_promotion",source:"".concat(e,"_").concat(t),extData:{...s}})}async markAppInstall(){o.M.createUserBehaviorEvent({eventName:"app_install"}),i.Cb.userApi.appInstall()}async getPublicPromptList(e){return await i.Cb.userApi.getPublicCustomPromptList(e)}async getPublicPromptListFromCache(){return this._fetchWithCache("publicPrompts",async()=>{let{data:e}=await i.Cb.userApi.getPublicCustomPromptList({tab:"public",limit:20});return e.items},{useCache:!0})}async getSpeechToken(){let{data:e}=await i.Cb.userApi.speechToken();if(e.token){let t={token:e.token,region:e.region,expireTime:Date.now()+e.expireIn};return await this.storage.set("azureSpeechToken",t),t}return null}checkInviteSuccess(e){return i.Cb.userApi.checkInviteSuccess(e,{ignoreGlobalErrorHandler:!0})}async getUserJobTitle(){return await i.Cb.userApi.getUserJobTitle()}async checkCountry(){let e=await this.storage.get("userCountryInfo");if(e&&Date.now()-e.timestamp<36e5)return e.country;let{country:t}=await i.Cb.userApi.checkCountry();return t&&await this.storage.set("userCountryInfo",{country:t,timestamp:Date.now()}),t}async checkUpgrade(){await y.ll.checkI18nInited();let{data:e}=await o.M.getNewVersion();if(!e)return;let t=await y.ll.get("showedUpgradeVersionMap");!Object.keys(t).includes(e.eventId||"")&&(y.ll.set("showedUpgradeVersionMap",{...t,[e.eventId||""]:!0}),e.showInWeb?(await y.ll.set("upgradeVersion",{...e.contentConfig,visible:!1}),S.T3.openPage("".concat(c.m.getWebOrigin(),"/home?upgradeEventId=").concat(e.eventId,"&upgradeVersion=").concat(i.Cb.getVersion()))):(null==e?void 0:e.contentConfig)&&(y.ll.set("upgradeVersion",e.contentConfig),S.T3.setBadge({text:e.contentConfig.badge})))}async getUserProfile(){return await i.Cb.userApi.getUserProfile()}getInviteInfo(){return i.Cb.userApi.unlimitedQueriesInviteStatus({ignoreGlobalErrorHandler:!0})}async getUsageRecords(e){return i.Cb.generateService.usagev2Api.queryModuleUsageRecords(e)}async applyGift(e){return i.Cb.generateService.giftApi.trigger(e,{ignoreGlobalErrorHandler:!0})}async getIsMonicaSoAuthorized(){let e=await this.storage.get("isMonicaSoAuthorized");return e||this.storage.set("isMonicaSoAuthorized",!0),e}constructor(...e){super(...e),(0,r._)(this,"meta",{key:"user",name:"UserService"}),(0,r._)(this,"dependencies",[]),(0,r._)(this,"defaultStorageValues",{userInfo:null,userVipStatus:null,staticConfig:null,staticConfigLastUpdatedAt:null,myPrompts:[],favoritePrompts:[],publicPrompts:[],recommendPrompts:[],selectionActions:[],composeActionList:[],inviteRewardList:[],inviteFriendList:[],categoryList:[],randomTweetingText:"",promptsI18n:null,userBatch:null,clientId:"",token:null,chatDailyUsage:"",quickActionDailyUsage:"",searchEnhanceDailyUsage:"",chatDailyUsageWithVip:"",quickActionDailyUsageWithVip:"",searchEnhanceDailyUsageWithVip:"",azureSpeechToken:null,userCountryInfo:null,isMonicaSoAuthorized:!1}),(0,r._)(this,"userBehaviorManager",void 0),(0,r._)(this,"requestLockMap",{})}}let v=new n.x(f);i.Cb.setUserService(v)},70174:function(e,t,s){s.d(t,{v:function(){return c}});var i=s(83260),n=s(66084),r=s(88882),o=s(82270),a=s(92235),l=s(65324),u=s(55180);class d extends u.b{async onInit(){this.storage.addChangeListener(e=>{this.emit("storageChange",e)}),r.a.on("localeChange",e=>{e&&(this.getTemplateList({useCache:!1}),this.getCommandList({useCache:!1}),this.getSiteTemplateList({useCache:!1}))}),this.storageReadySource.markReady()}async clearDisabledHosts(){this.storage.set("disabledHosts",[])}async setStorage(e,t){this.storage.set(e,t)}async getStorage(e){return this.storage.get(e)}async getAllConfig(){return this.storage.getAll()}generateMailSuggestion(e){return l.Cb.writingApi.generateMailSuggestion(e)}getTemplateList(e){return this._fetchWithCache("templates",async()=>(await l.Cb.generateService.writingApi.getTemplateList()).data,e)}getCommandList(e){return this._fetchWithCache("commands",async()=>(await l.Cb.generateService.writingApi.getCommandList()).data,e)}getSiteTemplateList(e){return this._fetchWithCache("siteTemplates",async()=>{var e,t;return((null===(t=await l.Cb.botFrameworkService.siteIntegrationApi.templateList())||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.data)||[]).map(e=>({...e,templateScene:e.type,socialMediaType:e.socialMediaType}))},e)}checkGrammar(e){return l.Cb.writingApi.checkGrammar(e)}async checkGrammarWithVipCheck(e){try{return{...await l.Cb.generateService.writingApi.checkGrammarV3(e),code:0}}catch(t){return{code:"object"==typeof t&&t&&"code"in t?t.code:-1,msg:"object"==typeof t&&t&&"message"in t?t.message:"",data:{errors:[],originText:e.text}}}}async getGrammarFreeModifyNum(e){return this._fetchWithCache("grammarFreeModifyNum",async()=>{let e=await l.Cb.generateService.writingApi.getGrammarFreeModifyNum({});if(0===e.code)return e.data.remain||0;throw Error(e.msg)},e)}async updateGrammarFreeModifyNum(e){let t=await l.Cb.generateService.writingApi.updateGrammarFreeModifyNum({count:e});if(0===t.code)return this.storage.set("grammarFreeModifyNum",t.data.remain||0),!0;if(10002===t.code)return!1;throw Error(t.msg)}detectLanguage(e){return l.Cb.writingApi.detectLanguage(e)}listGrammarDicWord(e){return this._fetchWithCache("grammarDictList",async()=>{var e,t;return null!==(t=null===(e=(await l.Cb.generateService.writingApi.listGrammarDicWord()).data)||void 0===e?void 0:e.words)&&void 0!==t?t:[]},e)}addGrammarDicWord(e){return l.Cb.generateService.writingApi.addGrammarDicWord({words:e})}deleteGrammarDicWord(e){return l.Cb.generateService.writingApi.deleteGrammarDicWord({words:e})}async fetchToneList(){await this.storageReadySource.waitReady();let e=await this.storage.get("customToneListV2");if(null!==e)return e;if(this.isToneFetching)return[];this.isToneFetching=!0;let t=await l.Cb.generateService.generateApi.tone({limit:100});return await this.storage.set("customToneListV2",t.data.data||[]),this.isToneFetching=!1,t.data.data||[]}async createTone(e){let t=await this.storage.get("customToneListV2")||[];return this.storage.set("customToneListV2",[...t,e]),l.Cb.generateService.generateApi.createTone(e)}async deleteTone(e){let t=await this.storage.get("customToneListV2")||[];return this.storage.set("customToneListV2",t.filter(t=>t.uid!==e.uid)),l.Cb.generateService.generateApi.deleteTone(e)}async checkAiContent(e){try{return await l.Cb.generateService.aiContentDetectApi.check(e)}catch(e){if(e.code===o.E0.quotaExceeded||e.code===o.Eg.creditsQuotaExceed)return o.Eg.quotaExceeded;return o.Eg.unknownServerError}}constructor(...e){super(...e),(0,n._)(this,"meta",{key:"writing",name:"WritingService"}),(0,n._)(this,"dependencies",[]),(0,n._)(this,"defaultStorageValues",{disabledHosts:[],tones:[],formality:"",format:"",length:"",entryBtnDisabled:!1,grammarCheckBtnDisabledV2:!0,quickReplyBtnDisabled:!1,socialMediaWritingBtnDisabled:!1,commands:[],templates:[],grammarDictList:[],siteTemplates:[],customToneListV2:null,grammarFreeModifyNum:10}),(0,n._)(this,"isToneFetching",!1),(0,n._)(this,"storageReadySource",a.m.createReadySource())}}let c=new i.x(d)},21365:function(e,t,s){s.d(t,{KA:function(){return r},ni:function(){return n},xc:function(){return o}});var i=s(66084);class n{}class r{}class o{destroy(){this.onDestroy()}call(e){this.handler(e)}constructor(e,t,s){(0,i._)(this,"event",void 0),(0,i._)(this,"handler",void 0),(0,i._)(this,"onDestroy",void 0),this.event=e,this.handler=t,this.onDestroy=s}}},50652:function(e,t,s){s.d(t,{K:function(){return h},O:function(){return p}});var i=s(66084),n=s(56607),r=s(92235),o=s(2525),a=s(815),l=s(61633),u=s(93746),d=s(20978),c=s(21365);class h extends c.ni{addChangeListener(e){this.changeListeners.push(e)}async clear(){this.cache={},this.handleChange()}async get(e){let t=this.cache[e];return void 0===t&&(t=this.defaultValues[e]),(0,o.Z)(t)}async getByKeys(e){let t={};for(let s of e)t[s]=this.cache[s];return(0,o.Z)(t)}async set(e,t){let s=(0,o.Z)(t);this.cache[e]=s,this.handleChange();let i={};i[e]=s,this.changeListeners.forEach(e=>{e(i)})}async getAll(){let e=Object.keys(this.defaultValues),t=(0,o.Z)((0,a.Z)(this.cache,e));return(0,l.Z)(t,this.defaultValues)}async update(e){if((0,u.Z)(e))return;let t={};for(let s of Object.keys(e))s in this.defaultValues&&(this.cache[s]=e[s],t[s]=e[s]);this.handleChange(),this.changeListeners.forEach(e=>{e(t)})}async delete(e){delete this.cache[e],this.handleChange();let t={};t[e]=void 0,this.changeListeners.forEach(e=>{e(t)})}constructor(e,t,s){super(),(0,i._)(this,"serviceName",void 0),(0,i._)(this,"defaultValues",void 0),(0,i._)(this,"store",void 0),(0,i._)(this,"cache",void 0),(0,i._)(this,"changeListeners",void 0),(0,i._)(this,"handleChange",void 0),this.serviceName=e,this.defaultValues=t,this.store=s,this.changeListeners=[],this.handleChange=(0,d.Z)(()=>{this.store.set(this.serviceName,this.cache)},50),this.cache=s.get(e)||{}}}class p extends c.KA{get _messaging(){return p._messaging}init(e,t){let s=t.meta.key,i=t.meta.name,r=Object.getPrototypeOf(t),o=Object.getPrototypeOf(r);for(let i of[...Object.getOwnPropertyNames(r),...Object.getOwnPropertyNames(o)]){let r=t[i];if("function"==typeof r){var a=this;e[i]=function(){for(var e=arguments.length,o=Array(e),l=0;l<e;l++)o[l]=arguments[l];if(n.o.isBackground)return r.apply(t,o);if(i.startsWith("_"))throw TypeError("method starting with _ can only be called from background");if("on"===i){let[e,t]=o;return a._addEventListener(e,t)}return a._sendMethodCallToBackground(s,i,o)}}}Promise.resolve().then(()=>{n.o.isBackground||this._messaging.addListenerInRenderer("serviceEvent",e=>{let{serviceName:t,eventName:s,data:n}=e;if(i===t){let e=this._eventListeners[s];e&&e.forEach(e=>e.call(n))}})}).catch(e=>{console.error(e)})}async _sendMethodCallToBackground(e,t,s){let i=r.m.genId(),n=[];return s.forEach((e,t)=>{if("function"==typeof e){let s="__func:".concat(i,":").concat(t);n.push(s),this._addProxiedFunc(s,e)}else n.push(e)}),this._messaging.invokeBackgroundHandler("callServiceMethod",{service:e,methodName:t,finalArgs:n},i)}_addEventListener(e,t){this._eventListeners[e]||(this._eventListeners[e]=[]);let s=new c.xc(e,t,()=>{var t;this._eventListeners[e]=null===(t=this._eventListeners[e])||void 0===t?void 0:t.filter(e=>e!==s)});return this._eventListeners[e].push(s),s}_addProxiedFunc(e,t){this._messaging.addListenerInRenderer("proxiedFuncCall",s=>{e===s.funcId&&t(...s.args)})}constructor(...e){super(...e),(0,i._)(this,"_eventListeners",{})}}(0,i._)(p,"_messaging",void 0)},58756:function(e,t,s){s.d(t,{y:function(){return o}});var i=s(66084),n=s(16042);class r{getService(){if(!this._service)throw new n.w;return this._service}setService(e){this._service=e}constructor(){(0,i._)(this,"_service",void 0)}}let o=new r},71749:function(e,t,s){s.d(t,{b:function(){return r}});var i=s(66084);class n{setBrowser(e){this.browser=e}getBrowser(){if(!this.browser)throw Error("Browser not set, remember to call browserProvider.setBrowser at the beginning of the application");return this.browser}constructor(){(0,i._)(this,"browser",void 0)}}let r=new n},38327:function(e,t,s){s.d(t,{F:function(){return h},Z:function(){return c}});var i=s(66084),n=s(56607),r=s(92235),o=s(93746),a=s(61633),l=s(21365),u=s(71749);let d="#_NULL_#";class c extends l.ni{addChangeListener(e){u.b.getBrowser().storage.local.onChanged.addListener(t=>{let s={};if(this.prefix)for(let e of Object.keys(t))e.startsWith(this.prefix)&&(s[this.decodeKey(e)]=this.normalizeValue(t[e].newValue,!1));else for(let e of Object.keys(t))1===e.split(".").length&&(s[this.decodeKey(e)]=this.normalizeValue(t[e].newValue,!1));(0,o.Z)(s)||e(s)})}async get(e){let t=this.encodeKey(e),s=await u.b.getBrowser().storage.local.get(t),i=this.normalizeValue(s[t],!1);return void 0===i&&(i=this.defaultValues[e]),i}async getByKeys(e){let t=e.map(e=>this.encodeKey(e)),s=await u.b.getBrowser().storage.local.get(t);return s?this.transformValues(s,!1):{}}async set(e,t){return this.update({[e]:t})}async getAll(){let e=Object.keys(this.defaultValues).map(e=>this.encodeKey(e)),t=await u.b.getBrowser().storage.local.get(e);return t?(0,a.Z)(this.transformValues(t,!1),this.defaultValues):this.defaultValues}async update(e){await u.b.getBrowser().storage.local.set(this.transformValues(e,!0))}async clear(){await u.b.getBrowser().storage.local.remove(Object.keys(this.transformValues(this.defaultValues,!0)))}async delete(e){await u.b.getBrowser().storage.local.remove(Object.keys(this.transformValues({[e]:1},!0)))}encodeKey(e){return this.prefix?"".concat(this.prefix,".").concat(e):e}decodeKey(e){return this.prefix?e.replace("".concat(this.prefix,"."),""):e}transformValues(e,t){let s={},i=new Set(Object.keys(this.defaultValues));for(let n of Object.keys(e))if(t)i.has(n)||globalThis.console.warn("[Service storage] Please indicate storage in default value, dynamic storage is not recommended"),s[this.encodeKey(n)]=this.normalizeValue(e[n],t);else{let r=this.decodeKey(n);i.has(r)||globalThis.console.warn("[Service storage] Please indicate storage in default value, dynamic storage is not recommended"),s[r]=this.normalizeValue(e[n],t)}return s}normalizeValue(e,t){if(n.o.isSafariExtension){if(t){if(null===e)return d}else if(e===d)return null}return e}constructor(e,t){super(),(0,i._)(this,"prefix",void 0),(0,i._)(this,"defaultValues",void 0),this.prefix=e,this.defaultValues=t}}class h extends l.KA{init(e,t){let s=t.meta.key,i=t.meta.name,r=Object.getPrototypeOf(t),o=Object.getPrototypeOf(r);for(let i of[...Object.getOwnPropertyNames(r),...Object.getOwnPropertyNames(o)]){let r=t[i];if("function"==typeof r){var a=this;e[i]=function(){for(var e=arguments.length,o=Array(e),l=0;l<e;l++)o[l]=arguments[l];if(n.o.isBackground)return r.apply(t,o);if(i.startsWith("_"))throw TypeError("method starting with _ can only be called from background");if("on"===i){let[e,t]=o;return a._addEventListener(e,t)}return a._sendMethodCallToBackground(s,i,o)}}}Promise.resolve().then(()=>{n.o.isBackground||u.b.getBrowser().runtime.onMessage.addListener(e=>{if("serviceEvent"===e.name){let{serviceName:t,eventName:s,data:n}=e.data;if(i===t){let e=this._eventListeners[s];e&&e.forEach(e=>e.call(n))}}})}).catch(e=>{console.error(e)})}async _sendMethodCallToBackground(e,t,s){let i=r.m.genId(),n=[];return s.forEach((e,t)=>{if("function"==typeof e){let s="__func:".concat(i,":").concat(t);n.push(s),this._addProxiedFunc(s,e)}else n.push(e)}),u.b.getBrowser().runtime.sendMessage({name:"callServiceMethod",data:{service:e,methodName:t,finalArgs:n}}).then(e=>{let[t,s]=e;if(t)throw t;return s})}_addEventListener(e,t){this._eventListeners[e]||(this._eventListeners[e]=[]);let s=new l.xc(e,t,()=>{var t;this._eventListeners[e]=null===(t=this._eventListeners[e])||void 0===t?void 0:t.filter(e=>e!==s)});return this._eventListeners[e].push(s),s}_addProxiedFunc(e,t){u.b.getBrowser().runtime.onMessage.addListener(s=>{"proxiedFuncCall"===s.name&&e===s.data.funcId&&t(...s.data.args)})}constructor(...e){super(...e),(0,i._)(this,"_eventListeners",{})}}},40245:function(e,t,s){s.d(t,{O:function(){return r}});var i=s(71749);class n{getExtensionId(){return i.b.getBrowser().runtime.id}getVersion(){return i.b.getBrowser().runtime.getManifest().version}getChatTabUrl(){return i.b.getBrowser().runtime.getURL("chatTab.html")}getOptionsUrl(){return i.b.getBrowser().runtime.getURL("monicaOptions.html")}getSidePanelUrl(){return i.b.getBrowser().runtime.getURL("sidePanel.html")}getCommands(){return i.b.getBrowser().commands.getAll()}async tryGetTab(e){try{return await i.b.getBrowser().tabs.get(parseInt(e))}catch(e){return null}}async isAllowedFileSchemeAccess(){return new Promise(e=>{this.chromeApi.extension.isAllowedFileSchemeAccess(t=>{e(t)})})}get sidePanelApiAvailable(){return"undefined"!=typeof chrome&&!!chrome.sidePanel}get chromeApi(){return chrome}}let r=new n},40814:function(e,t,s){s.d(t,{uJ:function(){return o}});var i=s(56607),n=s(16042),r=s(71749);function o(e,t){if(i.o.isExtension)return t?e(r.b.getBrowser()):void e(r.b.getBrowser());if(t)throw new n.w}},55180:function(e,t,s){s.d(t,{b:function(){return p}});var i=s(66084),n=s(22046),r=s(56607),o=s(92235),a=s(93746),l=s(38327),u=s(1637),d=s(50652),c=s(21365),h=s(71749);class p{_initBaseService(e,t){let{storagePrefix:s,name:i,key:o}=this.meta,a=s||o;if(r.o.isExtension)this.storage=new l.Z(a,this.defaultStorageValues);else if(r.o.isWeb)n.S.isRunInServerSide?this.storage={get:()=>null,set:()=>null,addChangeListener:()=>null,getAll:()=>null,update:()=>null,clear:()=>null,delete:()=>null}:this.storage=new u.P("".concat(a,"_").concat(i),this.defaultStorageValues);else if(r.o.isDesktop){if(!(null==t?void 0:t.desktop))throw Error("desktop context is required");this.platformContext=t,this.storage=new d.K(i,this.defaultStorageValues,t.desktop.store)}else throw Error("unsupported platform");this.allServices=e}async _initService(){if(this._initComplete)return;let e={},t=this.meta.name;for(let s of this.dependencies){let i=this.allServices[s];if(i&&i.meta.key===s&&i._initComplete)e[s]=i;else throw Error("[ServiceInitError] ".concat(t," depends on ").concat(s,", but it's not exists or not initialized"))}this.services=new Proxy(e,{get:(e,s)=>{if(s in e)return e[s];throw Error("[ServiceMissingDependency] ".concat(t," is accessing ").concat(s.toString()," but it's not exists, did you forget to add it to dependencies?"))}}),this.onInit(),this._initComplete=!0}on(e,t){this.eventListeners[e]||(this.eventListeners[e]=[]);let s=new c.xc(e,t,()=>{var t;this.eventListeners[e]=null===(t=this.eventListeners[e])||void 0===t?void 0:t.filter(e=>e!==s)});return this.eventListeners[e].push(s),s}async _onCallMethod(e,t,s){if("function"!=typeof this[t])throw Error("method ".concat(t," not found"));let i=[];s.forEach(t=>{if("string"==typeof t&&t.startsWith("__func:")){var s=this;i.push(function(){for(var i=arguments.length,n=Array(i),o=0;o<i;o++)n[o]=arguments[o];r.o.isExtension?e.tabId?h.b.getBrowser().tabs.sendMessage(e.tabId,{name:"proxiedFuncCall",data:{funcId:t,args:n}}):h.b.getBrowser().runtime.sendMessage({name:"proxiedFuncCall",data:{funcId:t,args:n}}):r.o.isDesktop&&s.platformContext.desktop.messaging.sendToRenderer(e.webContents,"proxiedFuncCall",{funcId:t,args:n})})}else i.push(t)}),this.lastCaller=e;let n=this[t](...i);if(void 0!==n&&!o.m.isPromise(n))throw TypeError("public service method must return a promise");return n}emit(e,t,s){let i=this.eventListeners[e];if(i&&i.forEach(e=>e.call(t)),r.o.isExtension){if(h.b.getBrowser().tabs.query(s?{active:!0}:{}).then(s=>{s.forEach(s=>{s.id&&chrome.tabs.sendMessage(s.id,{name:"serviceEvent",data:{serviceName:this.meta.name,eventName:e,data:t}}).catch(e=>{})})}),s)return;h.b.getBrowser().runtime.sendMessage({name:"serviceEvent",data:{data:t,eventName:e,serviceName:this.meta.name}}).catch(e=>{})}else r.o.isDesktop&&this.platformContext.desktop.messaging.broadcastToRenderer("serviceEvent",{serviceName:this.meta.name,eventName:e,data:t})}async _fetchWithCache(e,t,s){let{useCache:i=!0,autoUpdate:n=!0,cacheOnly:r=!1}=s||{},o=async()=>{let s=await t();return this.storage.set(e,s),s};if(i||r){let t=await this.storage.get(e);if(r)return t;if(t&&!(0,a.Z)(t))return n&&o(),t}return await o()}constructor(){(0,i._)(this,"_initComplete",!1),(0,i._)(this,"storage",void 0),(0,i._)(this,"lastCaller",void 0),(0,i._)(this,"services",{}),(0,i._)(this,"platformContext",void 0),(0,i._)(this,"allServices",{}),(0,i._)(this,"eventListeners",{})}}},83260:function(e,t,s){s.d(t,{x:function(){return l}});var i=s(66084),n=s(56607),r=s(38327),o=s(1637),a=s(50652);class l{get meta(){return this._instance.meta}get _initComplete(){return this._instance._initComplete}constructor(e){if((0,i._)(this,"_instance",void 0),this._instance=new e,n.o.isExtension)new r.F().init(this,this._instance);else if(n.o.isWeb)new o.D().init(this,this._instance);else if(n.o.isDesktop)new a.O().init(this,this._instance);else throw Error("unsupported platform")}}},1637:function(e,t,s){s.d(t,{D:function(){return d},P:function(){return u}});var i=s(66084),n=s(2525),r=s(815),o=s(61633),a=s(93746),l=s(21365);class u extends l.ni{addChangeListener(e){this.changeListeners.push(e)}async get(e){let t=this.getCache()[e];return void 0===t&&(t=this.defaultValues[e]),(0,n.Z)(t)}async getByKeys(e){let t=this.getCache(),s={};for(let i of e)s[i]=t[i];return(0,n.Z)(s)}async set(e,t){let s=this.getCache(),i=(0,n.Z)(t);s[e]=i,this.handleChange(s);let r={};r[e]=i,this.changeListeners.forEach(e=>{e(r)})}async getAll(){let e=this.getCache(),t=Object.keys(this.defaultValues),s=(0,n.Z)((0,r.Z)(e,t));return(0,o.Z)(s,this.defaultValues)}async update(e){if((0,a.Z)(e))return;let t=this.getCache(),s={};for(let i of Object.keys(e))i in this.defaultValues||console.warn("[Service storage] Please indicate storage in default value, dynamic storage is not recommended"),t[i]=e[i],s[i]=e[i];this.handleChange(t),this.changeListeners.forEach(e=>{e(s)})}async clear(){localStorage.clear()}async delete(e){let t=this.getCache();delete t[e],this.handleChange(t);let s={};s[e]=void 0,this.changeListeners.forEach(e=>{e(s)})}handleChange(e){localStorage.setItem(this.serviceName,JSON.stringify(e))}getCache(){let e=localStorage.getItem(this.serviceName);return"undefined"===e?{}:JSON.parse(e||"{}")}constructor(e,t){super(),(0,i._)(this,"serviceName",void 0),(0,i._)(this,"defaultValues",void 0),(0,i._)(this,"changeListeners",void 0),this.serviceName=e,this.defaultValues=t,this.changeListeners=[]}}class d extends l.KA{init(e,t){let s=Object.getPrototypeOf(t),i=Object.getPrototypeOf(s);for(let n of[...Object.getOwnPropertyNames(s),...Object.getOwnPropertyNames(i)]){let s=t[n];"function"==typeof s&&(e[n]=function(){for(var e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];return s.apply(t,i)})}}}}}]);