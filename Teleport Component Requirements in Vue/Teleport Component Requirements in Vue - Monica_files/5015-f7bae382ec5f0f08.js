"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5015,2496],{36401:function(e,t,n){n.d(t,{X:function(){return h}});var r=n(71576),a=n(34491),o=n(78716),i=n.n(o),l=n(46731),s={checkbox:"checkbox--iFWut",rounded:"rounded--rXFtQ",disabled:"disabled--mh6Q3",indeterminate:"indeterminate--rhDmk",checkboxWithLabel:"checkbox-with-label--D65JM"},c=n(66084),d=n(52921);class p extends a.PN{onViewCreate(){}onViewDestroy(){}constructor(...e){super(...e),(0,c._)(this,"props",void 0),(0,c._)(this,"someState",!0)}}(0,d.gn)([a.SB],p.prototype,"someState",void 0);let f={square:{checked:"gpt4CheckboxChecked",unchecked:"gpt4Checkbox",indeterminate:"Property1weiquanxuan"},circle:{checked:"circleCheckboxChecked",unchecked:"circleCheckbox",indeterminate:"Property1weiquanxuan"}},h=a._Y.createComponent("Checkbox",p,e=>{let{checked:t,className:n,onChange:a,onClick:o,size:c=24,rounded:d,disabled:p,indeterminate:h,label:m,labelPosition:u="right",labelClassName:g}=e.props,v=f[d?"circle":"square"],x=()=>(0,r.jsx)(l.J,{className:i()(s.checkbox,{[s.rounded]:d,[s.disabled]:p,[s.indeterminate]:h},n),size:c,name:h?v.indeterminate:t?v.checked:v.unchecked,fill:t||h?"var(--theme-icon-brand)":void 0,stroke:t?void 0:"var(--theme-text-quaternary)",onClick:e=>{p||m||(null==o||o(e),null==a||a(!t))}});return m?(0,r.jsxs)("div",{className:i()(s.checkboxWithLabel,g),onClick:e=>{p||(null==o||o(e),null==a||a(!t))},children:["right"===u&&x(),m,"left"===u&&x()]}):x()})},20995:function(e,t,n){n.d(t,{h:function(){return d}});var r=n(71576),a=n(34491),o=n(78716),i=n.n(o),l=n(66084),s=n(52921);class c extends a.PN{onViewCreate(){}onViewDestroy(){}constructor(...e){super(...e),(0,l._)(this,"props",void 0),(0,l._)(this,"someState",!0)}}(0,s.gn)([a.SB],c.prototype,"someState",void 0);let d=a._Y.createComponent("DropdownMenu",c,e=>{let{className:t,style:n,width:a="max-content",maxWidth:o,minWidth:l,maxListHeight:s=294,children:c,onDragOver:d,listClassName:p}=e.props;return(0,r.jsx)("div",{onDragOver:e=>{null==d||d(e)},style:{width:a,maxWidth:o,minWidth:l,maxHeight:s,...n},className:i()(t,"dropdown-menu--j_apT"),children:(0,r.jsx)("div",{className:i()("menu-list--o5pmP",p),children:c})})})},97953:function(e,t,n){n.d(t,{y:function(){return w}});var r=n(71576),a=n(34491),o=n(63623),i=n(33381),l=n(95782),s=n(78716),c=n.n(s),d={adUserAlertText:"ad-user-alert-text--bJRBR",strong:"strong--zrjPQ",link:"link--Adv4v"},p=n(66084),f=n(52921),h=n(88882),m=n(73047);class u extends a.PN{get S(){return h.S.Global.components.Paywalls.AdUserAlert.AdUserAlertText}onViewCreate(){}onViewDestroy(){}constructor(...e){super(...e),(0,p._)(this,"props",void 0),(0,p._)(this,"someState",!0)}}(0,f.gn)([a.SB],u.prototype,"someState",void 0),(0,f.gn)([m.Fl],u.prototype,"S",null);let g=a._Y.createComponent("AdUserAlertText",u,e=>(0,r.jsxs)("span",{className:c()(e.props.className,d.adUserAlertText),children:[(0,r.jsx)(l.Z,{S:e.S.error,components:{strong:e=>(0,r.jsx)("span",{className:d.strong,children:e})}}),(0,r.jsx)("br",{}),(0,r.jsx)(l.Z,{S:e.S.description,components:{pricing:t=>e.props.allowPricingClick?(0,r.jsx)("span",{className:d.link,onClick:()=>{i.userController.upgrade("ad_high_traffic_".concat(e.props.source))},children:t}):t}})]}));var v=n(82270);class x extends a.PN{onViewCreate(){}onViewDestroy(){}constructor(...e){super(...e),(0,p._)(this,"props",void 0),(0,p._)(this,"someState",!0)}}(0,f.gn)([a.SB],x.prototype,"someState",void 0);let w=a._Y.createComponent("ErrorText",x,e=>{let{error:t,source:n="",className:a,showMarkdown:i}=e.props;return t===v.Eg.highTraffic?(0,r.jsx)(g,{className:a,source:n,allowPricingClick:!0}):i?(0,r.jsx)(o.U,{children:t}):(0,r.jsx)(r.Fragment,{children:t})})},70290:function(e,t,n){n.d(t,{r:function(){return m}});var r=n(71576),a=n(34491),o=n(82005),i=n(92235),l=n(13763),s=n(51715),c=n(46731),d=n(66084),p=n(52921);class f extends a.PN{onViewCreate(){}onViewDestroy(){}constructor(...e){super(...e),(0,d._)(this,"props",void 0),(0,d._)(this,"someState",!0)}}(0,p.gn)([a.SB],f.prototype,"someState",void 0);let h=a._Y.createComponent("CommonImagePreviewDialog",f,e=>{let t=!1;return e.props.innerHtml&&(t=!0),(0,r.jsx)(l.Z,{style:{display:"none"},src:e.props.src,preview:{visible:!0,src:e.props.src,getContainer:()=>o.t.dialogRoot,onVisibleChange:()=>{e.props.onDisposed()},toolbarRender:(n,a)=>{let{icons:o}=a;return t?null:(0,r.jsxs)(s.Z,{size:12,className:"toolbar-wrapper",children:[o.flipYIcon,o.flipXIcon,o.rotateLeftIcon,o.rotateRightIcon,o.zoomOutIcon,o.zoomInIcon,(0,r.jsx)(c.J,{name:"downloadMonica",size:22,color:"rgb(215, 215, 215)",onClick:()=>{i.m.fetchWithDownload(e.props.src)},style:{cursor:"pointer"}})]})},imageRender:t=>e.props.innerHtml?(0,r.jsx)("div",{style:{background:"var(--theme-bg-white"},dangerouslySetInnerHTML:{__html:e.props.innerHtml}}):t}})}),m=o.t.createOpener(h,{singleton:!0})},58793:function(e,t,n){n.d(t,{i:function(){return f}});var r=n(71576),a=n(34491),o=n(5857),i=n(46731),l=n(66084),s=n(52921),c=n(88882),d=n(73047);class p extends a.PN{get S(){return c.S.Global.components.ImproveWithAiDrawer.ImproveWithAiButton}onViewCreate(){}onViewDestroy(){}constructor(...e){super(...e),(0,l._)(this,"props",void 0),(0,l._)(this,"someState",!0)}}(0,s.gn)([a.SB],p.prototype,"someState",void 0),(0,s.gn)([d.Fl],p.prototype,"S",null);let f=a._Y.createComponent("ImproveWithAiButton",p,e=>{let{customText:t}=e.props;return(0,r.jsxs)(o.z,{type:"brand",size:"medium",className:"improve-with-ai-button--rjT9M",onClick:e.props.onClick,children:[(0,r.jsx)(i.J,{name:"monicaLighting",size:16}),(0,r.jsx)("span",{children:null!=t?t:e.S.improveWithAi})]})})},63623:function(e,t,n){n.d(t,{U:function(){return q}});var r=n(71576),a=n(34491),o=n(4461),i=n(15851),l={src:"https://assets.monica.im/home-web/_next/static/media/mermaid.6e9a2c42.png",height:24,width:24,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAALVBMVEX/A2H/AFj/CWf/AFv/2Of+N4L/AFH/AFf/BGL//v//7fP/W5j/aaL/TpD/eraR36aAAAAAB3RSTlP8trIZ/fwZHEHvDgAAAAlwSFlzAAAWJQAAFiUBSVIk8AAAADhJREFUeJwFwYkBwDAIA7GDJLUhz/7jVmKEbMVHviWtlzBr35qgW921hbWrjgy4GyDNOTgZYckxfjvIAZValzUCAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},s={src:"https://assets.monica.im/home-web/_next/static/media/plantuml.16cc2764.png",height:24,width:24,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAbFBMVEUBHiYAHigkOlAoITICIioAFxsRKTMAGyQAGCcCISoAFBSejtMxQkuJdCkAKChhUximPGhOXYC4jxggNit2QmDkToOQMlhdLklYKEJzKVB5cKpeVWmHaw6XVUJwZ39BPRRwZnnepglxXA7/tQr0g964AAAAEHRSTlP+Gf78/v78tf6xGfz+/Bn9lJwOrQAAAAlwSFlzAAAWJQAAFiUBSVIk8AAAAERJREFUeJwFwQcCgCAMALFDwRYnuPf8/x9NMAIOMXjr5pDisbpM45CBXkcIvQV9232LDrT5nnNNMqSr2ruInlq0KxPJf2ZMAzbYAfRnAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},c=n(92347),d=n(88882),p=n(92235),f=n(16162),h=n(50645),m=n(78716),u=n.n(m),g=n(62499),v=n(75087),x=n(94399),w=n(2254),k=n(83965),S=n(41773),y=n(67061),j=n(58351),C=n(61546),b=n(92660),_=n(27534),T={wrap:"wrap--rn09u",artifact:"artifact--tzRmU",download:"download--HTOBG",right:"right--SLZQy"},A=n(95398),M=n(66084),I=n(52921),N=n(73047),R=n(67537);class X extends a.PN{get S(){return d.S.Global.modules.Artifact}get displayOpenText(){let{type:e}=this.props;return R.g.textMap[e]||R.g.defaultOpenText}onViewCreate(){}onViewDestroy(){}constructor(...e){super(...e),(0,M._)(this,"props",void 0),(0,M._)(this,"someState",!0)}}(0,I.gn)([a.SB],X.prototype,"someState",void 0),(0,I.gn)([N.Fl],X.prototype,"S",null),(0,I.gn)([N.Fl],X.prototype,"displayOpenText",null);let K=a._Y.createComponent("Artifact",X,e=>{let{name:t,isLoading:n,className:a,progress:o,type:i,onMouseDown:l,onDownload:s}=e.props;return(0,r.jsx)("div",{className:u()(T.wrap,"artifact-wrapper"),children:(0,r.jsxs)("div",{className:u()(T.artifact,a),onMouseDown:l,children:[(0,r.jsx)(A.K,{isLoading:n,progress:o,type:i}),(0,r.jsxs)("div",{className:T.right,children:[(0,r.jsx)("strong",{children:t||e.S.generating}),(0,r.jsx)("span",{children:e.displayOpenText})]}),!n&&(0,r.jsx)(_.h,{className:T.download,title:e.S.download,iconName:b.UZ.lineOperationDownload,onMousedown:e=>{e.stopPropagation(),null==s||s()}})]})})});var z=n(46731),P=n(70290),D=n(75372),B=n(48023),L=n(59111),F=n(36401),E=n(87393);class H extends a.PN{get S(){return d.S.Global.components.Markdown.CodePreviewButton}handleMarkdownFinished(){!this.autoPreviewLock&&(this.props.markdownLoading||this.props.previewing||(this.autoPreviewLock=!0,this.handleClick()))}onViewCreate(){}onViewDestroy(){}async handleClick(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.props.previewing){this.props.renderImageChange("");return}try{"mermaid"===this.props.codeType?await this.genMermaid():"plantuml"===this.props.codeType?this.genPlantuml():"svg"===this.props.codeType&&this.genSvg()}catch(t){e&&i.M.error((0,d.x)(this.S.syntaxError,{lang:this.props.codeType})),this.props.renderImageChange("")}}async genMermaid(){let{svg:e}=await this.chartRenderHelper.genMermaidSvg(this.props.code,{isDark:E.C.isDark});this.props.renderImageChange(this.convertSvgStringToBase64(e))}genPlantuml(){let{url:e}=this.chartRenderHelper.genPlantuml(this.props.code,{isDark:E.C.isDark});this.props.renderImageChange(e)}async genSvg(){this.props.renderImageChange(this.convertSvgStringToBase64(this.props.code))}convertSvgStringToBase64(e){let t=e.replace(/xlink:href/g,"href"),n=new Blob([t],{type:"image/svg+xml"});return URL.createObjectURL(n)}constructor(...e){super(...e),(0,M._)(this,"props",void 0),(0,M._)(this,"chartRenderHelper",new C.H),(0,M._)(this,"url",""),(0,M._)(this,"renderHtml",""),(0,M._)(this,"autoPreviewLock",!1)}}(0,I.gn)([a.SB],H.prototype,"url",void 0),(0,I.gn)([a.SB],H.prototype,"renderHtml",void 0),(0,I.gn)([a.SB],H.prototype,"autoPreviewLock",void 0),(0,I.gn)([N.Fl],H.prototype,"S",null),(0,I.gn)([(0,a.YP)(e=>[e.props.markdownLoading])],H.prototype,"handleMarkdownFinished",null);let V=a._Y.createComponent("CodePreviewButton",H,e=>(0,r.jsxs)("div",{className:u()("code-preview-button--wzIaz",{"active--kmdu2":e.props.previewing}),onClick:()=>{e.handleClick(!0)},children:[(0,r.jsx)(F.X,{size:16,checked:e.props.previewing}),e.S.preview]}));var W={markdown:"markdown--UqDin",octicon:"octicon--IriPb",anchor:"anchor--sGKao","octicon-link":"octicon-link--PNBtW",octiconLink:"octicon-link--PNBtW","pl-c":"pl-c--IeXTw",plC:"pl-c--IeXTw","pl-c1":"pl-c1--aWpiY",plC1:"pl-c1--aWpiY","pl-s":"pl-s--Wf04P",plS:"pl-s--Wf04P","pl-v":"pl-v--WFsQB",plV:"pl-v--WFsQB","pl-e":"pl-e--aUqQb",plE:"pl-e--aUqQb","pl-en":"pl-en--WNaCG",plEn:"pl-en--WNaCG","pl-smi":"pl-smi--JTlUe",plSmi:"pl-smi--JTlUe","pl-s1":"pl-s1--rIXQM",plS1:"pl-s1--rIXQM","pl-ent":"pl-ent--A4Gew",plEnt:"pl-ent--A4Gew","pl-k":"pl-k--JjRL_",plK:"pl-k--JjRL_","pl-pds":"pl-pds--fBa_R",plPds:"pl-pds--fBa_R","pl-pse":"pl-pse--NOdOU",plPse:"pl-pse--NOdOU","pl-sr":"pl-sr--fSwvu",plSr:"pl-sr--fSwvu","pl-cce":"pl-cce--DBM9o",plCce:"pl-cce--DBM9o","pl-sre":"pl-sre--PrvHb",plSre:"pl-sre--PrvHb","pl-sra":"pl-sra--EhilB",plSra:"pl-sra--EhilB","pl-smw":"pl-smw--udaBt",plSmw:"pl-smw--udaBt","pl-bu":"pl-bu--akVdd",plBu:"pl-bu--akVdd","pl-ii":"pl-ii--I7Xbg",plIi:"pl-ii--I7Xbg","pl-c2":"pl-c2--R64Eg",plC2:"pl-c2--R64Eg","pl-ml":"pl-ml--nCPhi",plMl:"pl-ml--nCPhi","pl-mh":"pl-mh--hxlpP",plMh:"pl-mh--hxlpP","pl-ms":"pl-ms--OuPW8",plMs:"pl-ms--OuPW8","pl-mi":"pl-mi--HdARA",plMi:"pl-mi--HdARA","pl-mb":"pl-mb--z1i69",plMb:"pl-mb--z1i69","pl-md":"pl-md--G6unc",plMd:"pl-md--G6unc","pl-mi1":"pl-mi1--oX7GH",plMi1:"pl-mi1--oX7GH","pl-mc":"pl-mc--PIuwf",plMc:"pl-mc--PIuwf","pl-mi2":"pl-mi2--htY9F",plMi2:"pl-mi2--htY9F","pl-mdr":"pl-mdr--_Gvso",plMdr:"pl-mdr--_Gvso","pl-ba":"pl-ba--PyKfk",plBa:"pl-ba--PyKfk","pl-sg":"pl-sg--lj4vJ",plSg:"pl-sg--lj4vJ","pl-corl":"pl-corl--bXRyc",plCorl:"pl-corl--bXRyc",absent:"absent--EX48B","no-list":"no-list--N8vF_",noList:"no-list--N8vF_",emoji:"emoji--EnbKK",frame:"frame--FM6fQ","align-center":"align-center--SGtIv",alignCenter:"align-center--SGtIv","align-right":"align-right--Qhj1z",alignRight:"align-right--Qhj1z","float-left":"float-left--xOmCY",floatLeft:"float-left--xOmCY","float-right":"float-right--ddJD1",floatRight:"float-right--ddJD1",highlight:"highlight--YYnV7","csv-data":"csv-data--UKqwh",csvData:"csv-data--UKqwh","blob-num":"blob-num--wXvkH",blobNum:"blob-num--wXvkH",footnotes:"footnotes--c10Qq","data-footnote-backref":"data-footnote-backref--qMHbW",dataFootnoteBackref:"data-footnote-backref--qMHbW","task-list-item":"task-list-item--nmdCx",taskListItem:"task-list-item--nmdCx",enabled:"enabled--RQotg",handle:"handle--ZVVkA","task-list-item-checkbox":"task-list-item-checkbox--LFXbp",taskListItemCheckbox:"task-list-item-checkbox--LFXbp","contains-task-list":"contains-task-list--pj_w7",containsTaskList:"contains-task-list--pj_w7","code-enhance":"code-enhance--_fiUF",codeEnhance:"code-enhance--_fiUF","code-enhance-header":"code-enhance-header--NVMaE",codeEnhanceHeader:"code-enhance-header--NVMaE",hide:"hide--FJyvz","code-logo":"code-logo--MTntR",codeLogo:"code-logo--MTntR","code-enhance-title":"code-enhance-title--sn26q",codeEnhanceTitle:"code-enhance-title--sn26q","code-enhance-header-right":"code-enhance-header-right--R62yQ",codeEnhanceHeaderRight:"code-enhance-header-right--R62yQ","code-enhance-copy":"code-enhance-copy--XipCY",codeEnhanceCopy:"code-enhance-copy--XipCY","code-enhance-content":"code-enhance-content--fGI3Q",codeEnhanceContent:"code-enhance-content--fGI3Q","artifact-after-code-preview":"artifact-after-code-preview--zye_h",artifactAfterCodePreview:"artifact-after-code-preview--zye_h",img:"img--TVoL4","agent-marker":"agent-marker--Y4gtr",agentMarker:"agent-marker--Y4gtr","search-source-marker":"search-source-marker--efR0x",searchSourceMarker:"search-source-marker--efR0x","drawer-img-placeholder":"drawer-img-placeholder--NX9K7",drawerImgPlaceholder:"drawer-img-placeholder--NX9K7","enable-indent":"enable-indent--Vs3di",enableIndent:"enable-indent--Vs3di",loading:"loading--Z_Pbw","agent-marker-content":"agent-marker-content--pgQ0G",agentMarkerContent:"agent-marker-content--pgQ0G","agent-url":"agent-url--iZ7Y4",agentUrl:"agent-url--iZ7Y4",logo:"logo--vUMab","agent-title":"agent-title--kyZ2k",agentTitle:"agent-title--kyZ2k","agent-content":"agent-content--kCOWt",agentContent:"agent-content--kCOWt","search-source-marker-popover-content":"search-source-marker-popover-content--ZUiJq",searchSourceMarkerPopoverContent:"search-source-marker-popover-content--ZUiJq","search-source-marker-title":"search-source-marker-title--EIzkD",searchSourceMarkerTitle:"search-source-marker-title--EIzkD","search-source-marker-content":"search-source-marker-content--g5sf0",searchSourceMarkerContent:"search-source-marker-content--g5sf0","search-source-marker-footer":"search-source-marker-footer--IvnAN",searchSourceMarkerFooter:"search-source-marker-footer--IvnAN","source-marker-host":"source-marker-host--n1ex_",sourceMarkerHost:"source-marker-host--n1ex_","source-maker-host-logo":"source-maker-host-logo--oju5H",sourceMakerHostLogo:"source-maker-host-logo--oju5H","reading-mark":"reading-mark--ZigtR",readingMark:"reading-mark--ZigtR","reading-heading":"reading-heading--h_HwG",readingHeading:"reading-heading--h_HwG","reading-li":"reading-li--LfMVC",readingLi:"reading-li--LfMVC","reading-summary-li":"reading-summary-li--tSHFW",readingSummaryLi:"reading-summary-li--tSHFW"};let O=!1;class U extends a.PN{get S(){return d.S.Global.components.Markdown}handleArtifactChange(){let e=this.props.renderArtifact;if(!this.props.loading){this.artifactsStreamingData.forEach(e=>{var t;null===(t=e.stopCb)||void 0===t||t.call(e)});return}e&&(e.artifacts.forEach((e,t)=>{if(this.artifactsStreamingData[t]||(this.artifactsStreamingData[t]={firstArtifactReceived:!0}),this.artifactsStreamingData[t].firstArtifactReceived&&e.streaming){let{stop:e}=p.m.fakeProgress(15,e=>{this.artifactsProgress[t]=e});this.artifactsStreamingData[t].stopCb=e,this.artifactsStreamingData[t].firstArtifactReceived=!1}}),this.artifactsStreamingData.forEach((t,n)=>{var r,a;(null===(r=e.artifacts[n])||void 0===r?void 0:r.streaming)||null===(a=t.stopCb)||void 0===a||a.call(t)}))}async onViewCreate(){O||(O=!0,function(){let e=document.createElement("style");e.innerHTML="@font-face {\n  font-family: KaTeX_AMS;\n  font-style: normal;\n  font-weight: 400;\n  src:\n    url(https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/KaTeX_AMS-Regular.woff2) format('woff2'),\n    url(https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/KaTeX_AMS-Regular.woff) format('woff'),\n    url(https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/KaTeX_AMS-Regular.ttf) format('truetype');\n}\n@font-face {\n  font-family: KaTeX_Caligraphic;\n  font-style: normal;\n  font-weight: 700;\n  src:\n    url(https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/KaTeX_Caligraphic-Bold.woff2) format('woff2'),\n    url(https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/KaTeX_Caligraphic-Bold.woff) format('woff'),\n    url(https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/KaTeX_Caligraphic-Bold.ttf) format('truetype');\n}\n@font-face {\n  font-family: KaTeX_Caligraphic;\n  font-style: normal;\n  font-weight: 400;\n  src:\n    url(https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/KaTeX_Caligraphic-Regular.woff2) format('woff2'),\n    url(https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/KaTeX_Caligraphic-Regular.woff) format('woff'),\n    url(https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/KaTeX_Caligraphic-Regular.ttf) format('truetype');\n}\n@font-face {\n  font-family: KaTeX_Fraktur;\n  font-style: normal;\n  font-weight: 700;\n  src:\n    url(https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/KaTeX_Fraktur-Bold.woff2) format('woff2'),\n    url(https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/KaTeX_Fraktur-Bold.woff) format('woff'),\n    url(https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/KaTeX_Fraktur-Bold.ttf) format('truetype');\n}\n@font-face {\n  font-family: KaTeX_Fraktur;\n  font-style: normal;\n  font-weight: 400;\n  src:\n    url(https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/KaTeX_Fraktur-Regular.woff2) format('woff2'),\n    url(https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/KaTeX_Fraktur-Regular.woff) format('woff'),\n    url(https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/KaTeX_Fraktur-Regular.ttf) format('truetype');\n}\n@font-face {\n  font-family: KaTeX_Main;\n  font-style: normal;\n  font-weight: 700;\n  src:\n    url(https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/KaTeX_Main-Bold.woff2) format('woff2'),\n    url(https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/KaTeX_Main-Bold.woff) format('woff'),\n    url(https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/KaTeX_Main-Bold.ttf) format('truetype');\n}\n@font-face {\n  font-family: KaTeX_Main;\n  font-style: italic;\n  font-weight: 700;\n  src:\n    url(https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/KaTeX_Main-BoldItalic.woff2) format('woff2'),\n    url(https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/KaTeX_Main-BoldItalic.woff) format('woff'),\n    url(https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/KaTeX_Main-BoldItalic.ttf) format('truetype');\n}\n@font-face {\n  font-family: KaTeX_Main;\n  font-style: italic;\n  font-weight: 400;\n  src:\n    url(https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/KaTeX_Main-Italic.woff2) format('woff2'),\n    url(https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/KaTeX_Main-Italic.woff) format('woff'),\n    url(https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/KaTeX_Main-Italic.ttf) format('truetype');\n}\n@font-face {\n  font-family: KaTeX_Main;\n  font-style: normal;\n  font-weight: 400;\n  src:\n    url(https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/KaTeX_Main-Regular.woff2) format('woff2'),\n    url(https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/KaTeX_Main-Regular.woff) format('woff'),\n    url(https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/KaTeX_Main-Regular.ttf) format('truetype');\n}\n@font-face {\n  font-family: KaTeX_Math;\n  font-style: italic;\n  font-weight: 700;\n  src:\n    url(https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/KaTeX_Math-BoldItalic.woff2) format('woff2'),\n    url(https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/KaTeX_Math-BoldItalic.woff) format('woff'),\n    url(https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/KaTeX_Math-BoldItalic.ttf) format('truetype');\n}\n@font-face {\n  font-family: KaTeX_Math;\n  font-style: italic;\n  font-weight: 400;\n  src:\n    url(https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/KaTeX_Math-Italic.woff2) format('woff2'),\n    url(https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/KaTeX_Math-Italic.woff) format('woff'),\n    url(https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/KaTeX_Math-Italic.ttf) format('truetype');\n}\n@font-face {\n  font-family: 'KaTeX_SansSerif';\n  font-style: normal;\n  font-weight: 700;\n  src:\n    url(https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/KaTeX_SansSerif-Bold.woff2) format('woff2'),\n    url(https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/KaTeX_SansSerif-Bold.woff) format('woff'),\n    url(https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/KaTeX_SansSerif-Bold.ttf) format('truetype');\n}\n@font-face {\n  font-family: 'KaTeX_SansSerif';\n  font-style: italic;\n  font-weight: 400;\n  src:\n    url(https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/KaTeX_SansSerif-Italic.woff2) format('woff2'),\n    url(https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/KaTeX_SansSerif-Italic.woff) format('woff'),\n    url(https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/KaTeX_SansSerif-Italic.ttf) format('truetype');\n}\n@font-face {\n  font-family: 'KaTeX_SansSerif';\n  font-style: normal;\n  font-weight: 400;\n  src:\n    url(https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/KaTeX_SansSerif-Regular.woff2) format('woff2'),\n    url(https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/KaTeX_SansSerif-Regular.woff) format('woff'),\n    url(https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/KaTeX_SansSerif-Regular.ttf) format('truetype');\n}\n@font-face {\n  font-family: KaTeX_Script;\n  font-style: normal;\n  font-weight: 400;\n  src:\n    url(https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/KaTeX_Script-Regular.woff2) format('woff2'),\n    url(https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/KaTeX_Script-Regular.woff) format('woff'),\n    url(https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/KaTeX_Script-Regular.ttf) format('truetype');\n}\n@font-face {\n  font-family: KaTeX_Size1;\n  font-style: normal;\n  font-weight: 400;\n  src:\n    url(https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/KaTeX_Size1-Regular.woff2) format('woff2'),\n    url(https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/KaTeX_Size1-Regular.woff) format('woff'),\n    url(https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/KaTeX_Size1-Regular.ttf) format('truetype');\n}\n@font-face {\n  font-family: KaTeX_Size2;\n  font-style: normal;\n  font-weight: 400;\n  src:\n    url(https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/KaTeX_Size2-Regular.woff2) format('woff2'),\n    url(https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/KaTeX_Size2-Regular.woff) format('woff'),\n    url(https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/KaTeX_Size2-Regular.ttf) format('truetype');\n}\n@font-face {\n  font-family: KaTeX_Size3;\n  font-style: normal;\n  font-weight: 400;\n  src:\n    url(https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/KaTeX_Size3-Regular.woff2) format('woff2'),\n    url(https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/KaTeX_Size3-Regular.woff) format('woff'),\n    url(https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/KaTeX_Size3-Regular.ttf) format('truetype');\n}\n@font-face {\n  font-family: KaTeX_Size4;\n  font-style: normal;\n  font-weight: 400;\n  src:\n    url(https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/KaTeX_Size4-Regular.woff2) format('woff2'),\n    url(https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/KaTeX_Size4-Regular.woff) format('woff'),\n    url(https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/KaTeX_Size4-Regular.ttf) format('truetype');\n}\n@font-face {\n  font-family: KaTeX_Typewriter;\n  font-style: normal;\n  font-weight: 400;\n  src:\n    url(https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/KaTeX_Typewriter-Regular.woff2) format('woff2'),\n    url(https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/KaTeX_Typewriter-Regular.woff) format('woff'),\n    url(https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/fonts/KaTeX_Typewriter-Regular.ttf) format('truetype');\n}",document.head.append(e)}()),this.startStreaming()}onViewDestroy(){this.clearTimer()}startStreaming(){let e=this.props.renderInStreaming;if(!e)return;this.clearTimer();let{content:t,expandTime:n=2}=e;if(n>0){let r=0,a=t.length,o=()=>{if((r+=Math.ceil(a/(1e3*n/100)))>=a)this.streamingContent=t,this.clearTimer();else{if(e.skipArtifact){let e=t.slice(0,r),n="```artifact",a=e.lastIndexOf(n);a>0&&e.lastIndexOf("```")<=a&&(r=Math.max(t.indexOf("```",a+n.length),r))}this.streamingContent=t.slice(0,r)}};this.timer=setInterval(()=>{o()},100),o()}else this.streamingContent=t}async onShowSource(e){var t;null===(t=this.props.readingData)||void 0===t||t.onShowSource(e)}extractReadingLinkList(e){let t=[];return{newChildren:null==e?void 0:e.flatMap(e=>{var n,r,a,o;if(((null==e?void 0:null===(r=e.props)||void 0===r?void 0:null===(n=r.node)||void 0===n?void 0:n.tagName)==="a"||(null==e?void 0:null===(a=e.type)||void 0===a?void 0:a.name)==="a")&&(null==e?void 0:null===(o=e.props)||void 0===o?void 0:o.href)){if(t.length<3){let n=e.props.href.replace(/[#_]/g,"");return t.push(n),e}return[]}return e}),linkList:t}}clearTimer(){this.timer&&(clearInterval(this.timer),this.timer=null)}close(){}constructor(...e){super(...e),(0,M._)(this,"props",void 0),(0,M._)(this,"timer",null),(0,M._)(this,"artifactIndex",0),(0,M._)(this,"codeIdMap",{}),(0,M._)(this,"streamingContent",""),(0,M._)(this,"artifactsProgress",[]),(0,M._)(this,"containerEl",null),(0,M._)(this,"artifactsStreamingData",[])}}(0,I.gn)([a.SB],U.prototype,"streamingContent",void 0),(0,I.gn)([a.SB],U.prototype,"artifactsProgress",void 0),(0,I.gn)([N.Fl],U.prototype,"S",null),(0,I.gn)([(0,a.YP)(e=>{let t=e.props.renderArtifact;return[JSON.stringify(null==t?void 0:t.artifacts),t,e.props.loading]})],U.prototype,"handleArtifactChange",null);var G=n(2097);let Q=e=>{let{hrefGenerator:t,disabled:n}=e;if(!n)return e=>{(0,G.Vn)(e,"text",(e,n,r)=>{let a;if(!r||"link"===r.type||!Array.isArray(r.children))return;let o=/\[(\d+)\]/g,i=[],l=0;for(;null!==(a=o.exec(e.value));){a.index>l&&i.push({type:"text",value:e.value.slice(l,a.index)});let[n,r]=a,o=t(r);!1===o?i.push({type:"text",value:n}):i.push({type:"link",url:o,children:[{type:"text",value:r}]}),l=a.index+n.length}l<e.value.length&&i.push({type:"text",value:e.value.slice(l)}),i.length>0&&r.children.splice(n,1,...i)})}},Y={getCodeLang(e){let t=/language-(\w+)/.exec(e||"");return t?t[1]:""},reactNodeToString(e){let t="";return"string"==typeof e?t=e:"number"==typeof e?t=e.toString():e instanceof Array?e.forEach(function(e){t+=Y.reactNodeToString(e)}):(0,v.isValidElement)(e)&&(t+=Y.reactNodeToString(e.props.children)),t}},J={singleDollarTextMath:!1},Z={singleTilde:!1},q=a._Y.createComponent("Markdown",U,e=>{let{className:t,theme:n,loading:a,children:o,renderInStreaming:i,agentData:l,enableIndent:s,readingData:p,getContainer:f,markdownClassName:m,citationsData:g}=e.props,j=(0,v.useMemo)(()=>({td:$(e),pre:ee(e),h3:et(e),li:en(e),link:er(e),img:ea(e),code:eo(e)}),[e]);return o?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:u()(W.markdown,"__markdown",n===c.Q2.Dark?W.dark:W.light,{[W.loading]:a,[W.agent]:!!l,[W.enableIndent]:s,[W.readingStyle]:!!p},t),dir:"auto",ref:t=>{e.containerEl=t,null==f||f(t)},...d.a.htmlRtlAttrs,children:(0,r.jsx)(x.D,{remarkPlugins:[[h.Z,J],[S.Z,Z],[Q,{disabled:!g,hrefGenerator:e=>{var t;return null!==(t=null==g?void 0:g[+e-1])&&void 0!==t&&t}}]],rehypePlugins:[k.Z,[w.Z,{detect:!0}]],components:{a:j.link,img:j.img,code:j.code,h3:j.h3,pre:j.pre,li:j.li,td:j.td},className:m,children:i?e.streamingContent:o})}),"other"!==y.L.mainWindowMode&&(0,r.jsx)("div",{style:{paddingBottom:10,position:"absolute",right:999999,top:999999}})]}):null}),$=e=>(0,g.Pi)(function(e){let{children:t}=e;return(0,r.jsx)("td",{children:null==t?void 0:t.map((e,t)=>"<br>"===e||"<br/>"===e?(0,r.jsx)("br",{},e+t.toString()):e)})}),ee=e=>(0,g.Pi)(function(t){let{children:n}=t;return(0,r.jsx)("pre",{style:e.props.renderArtifact?{background:"var(--theme-bg-white)"}:{},children:n})}),et=e=>(0,g.Pi)(function(t){let{readingData:n}=e.props,{children:a}=t;if(n){let{linkList:t,newChildren:n}=e.extractReadingLinkList(a);if(null==t?void 0:t.length)return(0,r.jsx)("h3",{className:W.readingHeading,children:(0,r.jsx)(ed,{vm:e,sourceIndexList:t,children:n})})}return(0,r.jsx)("h3",{children:a})}),en=e=>(0,g.Pi)(function(t){let{readingData:n}=e.props,{children:a}=t;if(n){let{linkList:t,newChildren:n}=e.extractReadingLinkList(a);if(null==t?void 0:t.length)return(0,r.jsx)("li",{className:W.readingLi,children:(0,r.jsx)(ed,{vm:e,sourceIndexList:t,children:n})})}return(0,r.jsx)("li",{children:a})}),er=e=>(0,g.Pi)(function(t){var n,a,o;let{readingData:i,agentData:l,onShowSource:s,citationsData:c}=e.props,{className:d,children:p=[],href:f="",node:h}=t,m=p[0];if(i&&f.includes("#__"))return(0,r.jsx)(ec,{vm:e,sourceIndex:f.replace(/[#_]/g,"")});if(l&&m===l.sourceMarker)return(0,r.jsx)(es,{vm:e,sourceIndex:f});if("string"==typeof(null===(n=h.properties)||void 0===n?void 0:n.href)&&h.properties.href.startsWith("sandbox:"))return(0,r.jsx)("a",{className:u()(d),href:"#",onClick:t=>{var n,r,a;t.stopPropagation(),t.preventDefault(),null===(r=(a=e.props).onSandboxLinkClick)||void 0===r||r.call(a,null===(n=h.properties)||void 0===n?void 0:n.href)},children:p});let g=null===(a=f.match(/#__(\d+)/))||void 0===a?void 0:a[1];if(g&&!isNaN(parseInt(g)))return(null===(o=e.props.sourcesData)||void 0===o?void 0:o.length)?(0,r.jsx)(ei,{vm:e,sourceIndex:g}):(0,r.jsx)("a",{className:u()(d),href:"#",onClick:t=>{t.stopPropagation(),t.preventDefault(),null==s||s(g,e.props.defaultInsertTarget)},children:p});let v=(0,r.jsx)("a",{className:u()(d),href:f,target:"_blank",rel:"noreferrer",children:p}),x=p.join("");return c&&/^\d+$/.test(x)?(0,r.jsx)(el,{vm:e,href:f,children:p}):/^((\[\d+\])|\d+)$/.test(x)?(0,r.jsx)(B.u,{title:f,placement:"bottom",arrow:!1,getTooltipContainer:t=>{var n,r;return null!==(r=null===(n=e.containerEl)||void 0===n?void 0:n.parentElement)&&void 0!==r?r:t.parentElement},children:v}):v}),ea=e=>(0,g.Pi)(function(t){let{src:n,title:a,alt:o,className:i}=t,l=(null==a?void 0:a.split("&"))||[],s={};if(null==n?void 0:n.startsWith("sandbox:"))return(0,r.jsxs)("span",{className:W.drawerImgPlaceholder,onClick:()=>{var t,r;null===(t=(r=e.props).onDrawerImageClick)||void 0===t||t.call(r,n)},children:[(0,r.jsx)(z.J,{name:"Image",size:16,color:"currentColor"}),o]});let c=["width","height","maxWidth","maxHeight","minWidth","minHeight","display","margin"],d=!1;return l.forEach(e=>{let[t,n]=e.trim().split("=");t&&n&&c.includes(t)&&(s[t]=n,d=!0)}),d||(s.maxHeight="300px",s.maxWidth="300px",s.display="block",s.margin="5px 0"),(0,r.jsx)("img",{className:u()(i,W.img),alt:o,src:n,style:{...s,minHeight:150,backgroundColor:"var(--theme-bg-white)"},onClick:()=>{n&&(0,P.r)({insertTarget:e.props.defaultInsertTarget||"dialogRoot",src:n})}})}),eo=e=>(0,g.Pi)(function(t){let{inline:n,className:a,children:c}=t,{renderArtifact:d,disableCodeEnhanceHeader:h,hideCodePreviewHeader:m,disableCodeTools:g}=e.props,x=Y.getCodeLang(a||""),w="artifact"===x,[k]=(0,v.useState)(()=>p.m.genId());w&&void 0===e.codeIdMap[k]&&(e.codeIdMap[k]=e.artifactIndex,e.artifactIndex++);let[S,y]=(0,v.useState)(!1),[b,_]=(0,v.useState)(null),T=Y.reactNodeToString(c),A=e=>{(null==e?void 0:e.imgSrc)?_(e):_(null)};if(!T)return null;if(w&&d&&d.artifacts.length>0){let{artifacts:t,onArtifactClick:n}=d,a=t[e.codeIdMap[k]]?e.codeIdMap[k]:0,o=t[a];if(o){var M,I;let t=(0,r.jsx)(r.Fragment,{});if(j.y.shouldRenderRawContent(o.data.type)){let e=o.data.type,n="````".concat(e,"\n").concat(o.data.content,"\n````");t=(0,r.jsx)(q,{loading:o.streaming,hideCodePreviewHeader:!0,className:W.artifactAfterCodePreview,children:n})}return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(K,{name:(null===(M=o.data)||void 0===M?void 0:M.name)||"",type:null===(I=o.data)||void 0===I?void 0:I.type,isLoading:null==o?void 0:o.streaming,progress:e.artifactsProgress[a],onMouseDown:()=>{n(o.data.id)},onDownload:()=>{j.y.downloadArtifact(o.data,new C.H)}}),t]})}}return n?(0,r.jsx)("code",{className:a,"data-code-tools":g?"false":"",children:c}):(0,r.jsxs)("div",{className:u()(W.codeEnhance,a),children:[!h&&(0,r.jsxs)("div",{className:u()(W.codeEnhanceHeader,{[W.hide]:m}),children:[(0,r.jsxs)("span",{className:W.codeEnhanceTitle,children:["mermaid"===x&&(0,r.jsx)("img",{className:W.codeLogo,src:(0,o.Q)(l)}),"plantuml"===x&&(0,r.jsx)("img",{className:W.codeLogo,src:(0,o.Q)(s)}),x]}),(0,r.jsxs)("div",{className:W.codeEnhanceHeaderRight,children:[("mermaid"===x||"plantuml"===x||"svg"===x)&&(0,r.jsx)(V,{markdownLoading:e.props.loading||!1,codeType:x,previewing:!!(null==b?void 0:b.imgSrc),code:T,renderImageChange:e=>{A({imgSrc:e})}}),S?(0,r.jsxs)("span",{className:W.codeEnhanceCopy,children:[(0,r.jsx)(f.nQG,{size:12}),(0,r.jsx)("span",{children:e.S.copied})]}):(0,r.jsxs)("span",{className:W.codeEnhanceCopy,onMouseDown:()=>{S||(p.m.copyToClipboard(T),y(!0),i.M.success(e.S.copied,e.props.defaultInsertTarget||"mainWindow"),setTimeout(()=>{y(!1)},5e3))},children:[(0,r.jsx)(f.TIy,{size:12}),(0,r.jsx)("span",{children:e.S.copy})]})]})]}),(0,r.jsx)("div",{className:W.codeEnhanceContent,children:(0,r.jsx)("code",{className:u()(a,W["language-".concat(x)]),"data-code-tools":g?"false":"",children:b?(0,r.jsx)("img",{style:{cursor:"zoom-in",width:b.width?"".concat(b.width,"px"):"auto",height:b.height?"".concat(b.height,"px"):"auto",maxWidth:"100%",backgroundColor:"transparent",opacity:b.width?1:0,display:"block",margin:"0 auto"},src:b.imgSrc,alt:"",onLoad:e=>{let t=Math.min(1.5*e.currentTarget.naturalWidth,e.currentTarget.clientWidth),n=e.currentTarget.naturalHeight/e.currentTarget.naturalWidth*t;A({imgSrc:b.imgSrc,width:t,height:n})},onClick:()=>{(0,P.r)({src:b.imgSrc,insertTarget:e.props.defaultInsertTarget||"dialogRoot"})}}):c})})]})}),ei=(0,g.Pi)(function(e){let{vm:t,sourceIndex:n}=e,{sourcesData:a}=t.props,o=null==a?void 0:a.find((e,t)=>t.toString()===n);if(!o)return null;let i=RegExp("\\[(?<title>.*?)\\]\\((?<url>https?:\\/\\/[^\\s]+)\\)\\n(?<content>.*)"),l=o.data.text.match(i);if(!(null==l?void 0:l.groups))return null;let{title:s,url:c,content:d}=l.groups,f=p.m.getMainDomain(c);return(0,r.jsx)(D.x,{content:(0,r.jsxs)("a",{href:c,target:"_blank",className:W.searchSourceMarkerPopoverContent,rel:"noreferrer",children:[(0,r.jsx)("div",{className:W.searchSourceMarkerTitle,children:s}),(0,r.jsx)("div",{className:W.searchSourceMarkerContent,children:d}),(0,r.jsxs)("div",{className:W.searchSourceMarkerFooter,children:[(0,r.jsxs)("div",{className:W.sourceMarkerHost,children:[(0,r.jsx)("img",{className:W.sourceMakerHostLogo,src:p.m.getFaviconFromOrigin(c),alt:""}),f]}),(0,r.jsx)(L.L,{size:16,color:"var(--theme-icon-tertiary)"})]})]}),placement:"top",trigger:"hover",children:(0,r.jsx)("a",{className:W.searchSourceMarker,href:c,target:"_blank",rel:"noreferrer",children:parseInt(n)+1})})}),el=(0,g.Pi)(function(e){let{vm:t,href:n,children:a}=e,o=p.m.getMainDomain(n);return(0,r.jsx)(D.x,{content:(0,r.jsx)("a",{href:n,target:"_blank",className:W.searchSourceMarkerPopoverContent,rel:"noreferrer",children:(0,r.jsxs)("div",{className:W.searchSourceMarkerFooter,children:[(0,r.jsxs)("div",{className:W.sourceMarkerHost,children:[(0,r.jsx)("img",{className:W.sourceMakerHostLogo,src:p.m.getFaviconFromOrigin(o),alt:""}),o]}),(0,r.jsx)(L.L,{size:16,color:"var(--theme-icon-tertiary)"})]})}),placement:"top",trigger:"hover",children:(0,r.jsx)("a",{className:W.searchSourceMarker,href:n,target:"_blank",rel:"noreferrer",children:a})})}),es=(0,g.Pi)(function(e){var t;let{vm:n,sourceIndex:a}=e,{agentData:o}=n.props,i=null==o?void 0:null===(t=o.searchResults)||void 0===t?void 0:t.find(e=>e.idx.toString()===a);return o&&i?(0,r.jsx)(D.x,{content:(0,r.jsxs)("div",{className:W.agentMarkerContent,children:[(0,r.jsxs)("div",{className:W.agentUrl,children:[(0,r.jsx)("img",{className:W.logo,src:i.favicon||p.m.getFaviconFromOrigin(i.url),alt:""}),(0,r.jsx)("span",{children:i.siteName})]}),(0,r.jsx)("p",{className:W.agentTitle,children:i.title}),(0,r.jsx)("p",{className:W.agentContent,children:i.snippet})]}),placement:"top",trigger:"hover",children:(0,r.jsx)("span",{className:W.agentMarker,onClick:()=>{o.onShowSource(a)},children:o.getSourceRenderIndex?o.getSourceRenderIndex(a):a})}):null}),ec=(0,g.Pi)(function(e){let{vm:t,sourceIndex:n}=e,{readingData:a}=t.props;return a?(0,r.jsx)("div",{className:W.readingMark,"data-source-index":n,onClick:e=>{e.stopPropagation(),t.onShowSource(n)},children:n}):null}),ed=(0,g.Pi)(function(e){var t;let{vm:n,sourceIndexList:a,children:o}=e,[i,l]=(0,v.useState)(0);(0,v.useEffect)(()=>{l(0)},[a]);let{readingData:s}=n.props;return s?(0,r.jsx)("div",{className:u()({[W.readingSummaryLi]:(null===(t=n.props.readingData)||void 0===t?void 0:t.type)==="summary"}),onClick:async e=>{e.stopPropagation(),n.onShowSource(a[i]),l(i+1>=a.length?0:i+1)},children:o}):null})},81131:function(e,t,n){n.d(t,{W:function(){return w}});var r=n(71576),a=n(34491),o=n(46731),i=n(97953),l=n(58793),s=n(82003),c=n(78716),d=n.n(c),p=n(62499),f={textareaV2:"textarea-v2--emIip",error:"error--w_eGH",readOnly:"read-only--zznlb",allowResize:"allow-resize--LnStl",newStyle:"new-style--SJ7OS",disabled:"disabled--dXupl",textarea:"textarea--Vsfsh",errorTextWrap:"error-text-wrap--KReV_",scrollAuto:"scrollAuto--DID5J",resizable:"resizable--MOaFL",hasError:"has-error--QangA",toolbar:"toolbar--pVUQl",toolbarLeft:"toolbar-left--NzL0w",toolbarRight:"toolbar-right--RKGG_",resizerWrapper:"resizer-wrapper--emwA4",resizer:"resizer--rPv9E"},h=n(66084),m=n(52921),u=n(12596),g=n(73047);class v extends a.PN{get resizable(){let{autoSize:e}=this.props;return!e}get textareaAutoSize(){let{rowsData:e,allowResize:t}=this.props,n={};return(!t||!this.isInited)&&("number"==typeof e&&(n.minRows=e,n.maxRows=e),"object"==typeof e&&(n.minRows=e.min,n.maxRows=e.max),n)}get wrapperStyle(){var e;let{allowResize:t}=this.props;return t&&this.isInited?{cursor:this.resizableController.cursor,height:null===(e=this.resizableController.data)||void 0===e?void 0:e.height}:{}}onViewCreate(){setTimeout(()=>{this.props.allowResize&&this.initResizable(),this.isInited=!0})}onViewDestroy(){this.resizableController.dispose()}initResizable(){if(!this.resizableController.root)return;let e=this.resizableController.root.offsetHeight,{rowsData:t}=this.props,n=window.innerHeight;"object"==typeof t&&t.max&&t.min&&(n=e+(t.max-t.min)*22),this.resizableController.init({defaultData:{translateX:0,translateY:0,width:0,height:e},touchArea:20,getMinSize:()=>({width:0,height:e}),getMaxSize:()=>({width:0,height:n}),getAllowedDirection:()=>["bottom"]})}constructor(...e){super(...e),(0,h._)(this,"props",void 0),(0,h._)(this,"isInited",!1),(0,h._)(this,"resizableController",new u.S)}}(0,m.gn)([a.SB],v.prototype,"isInited",void 0),(0,m.gn)([g.Fl],v.prototype,"resizable",null),(0,m.gn)([g.Fl],v.prototype,"textareaAutoSize",null),(0,m.gn)([g.Fl],v.prototype,"wrapperStyle",null);let{TextArea:x}=s.default,w=a._Y.createComponent("TextareaV2",v,e=>{let{toolbar:t,getTextAreaRef:n,spellCheck:a=!0,className:l="",enableImproveWithAiButton:s=!1,readOnly:c=!1,allowResize:p=!1,errorText:h="",rowsData:m,onImproveWithAiButtonClick:u,isNewStyle:g,hasError:v,disabled:w,scrollAuto:S,...y}=e.props,j=(null==t?void 0:t.leftContent)||(null==t?void 0:t.rightContent)||s,C=null;(null==t?void 0:t.leftContent)?C=null==t?void 0:t.leftContent:s&&(null==t?void 0:t.rightContent)&&(C=(0,r.jsx)(k,{vm:e}));let b=null;return(null==t?void 0:t.rightContent)?b=null==t?void 0:t.rightContent:s&&(b=(0,r.jsx)(k,{vm:e})),(0,r.jsxs)("div",{className:d()(f.textareaV2,l,{[f.readOnly]:c,[f.allowResize]:p,[f.newStyle]:g,[f.error]:v,[f.disabled]:w}),onMouseEnter:()=>{e.resizableController.handleRootMouseEnter()},onMouseLeave:()=>{e.resizableController.handleRootMouseLeave()},onMouseDown:t=>{e.resizableController.handleRootMouseDown(t)},style:e.wrapperStyle,ref:t=>{e.resizableController.root=t},children:[h&&(0,r.jsx)("div",{className:f.errorTextWrap,children:(0,r.jsx)(i.y,{error:h})}),(0,r.jsx)(x,{ref:e=>{e&&(null==n||n(e))},spellCheck:a,readOnly:c,className:d()(f.textarea,{[f.resizable]:e.resizable,[f.hasError]:h,[f.scrollAuto]:S}),autoSize:e.textareaAutoSize,disabled:w,...y}),j&&(0,r.jsxs)("div",{className:f.toolbar,children:[(0,r.jsx)("div",{className:f.toolbarLeft,children:C}),(0,r.jsx)("div",{className:f.toolbarRight,children:b})]}),p&&(0,r.jsx)("span",{className:f.resizerWrapper,children:(0,r.jsx)(o.J,{name:"monicaResizer",color:"currentColor",size:12,className:f.resizer})})]})}),k=(0,p.Pi)(e=>{let{vm:t}=e,{onImproveWithAiButtonClick:n}=t.props;return(0,r.jsx)(l.i,{onClick:()=>{null==n||n()}})})},61546:function(e,t,n){n.d(t,{H:function(){return o}});var r=n(66008),a=n(58541);class o{async genMermaidSvg(e,t){let n={};r.N.initialize({startOnLoad:!1,darkMode:null==t?void 0:t.isDark,theme:(null==t?void 0:t.isDark)?"dark":"default",quadrantChart:n,xyChart:n,flowchart:n,gantt:n,sequence:n,gitGraph:n,mindmap:n,er:n,c4:n,journey:n,pie:n,block:n,sankey:n,class:n,timeline:n,state:n,requirement:n});let a=document.createElement("style");a.innerHTML="#graphDiv .label {\n      line-height: unset !important;\n      font-size: inherit !important;\n    }",document.head.appendChild(a);let{svg:o}=await r.N.render("graphDiv",e).catch(e=>{throw setTimeout(()=>{var e;null===(e=document.getElementById("graphDiv"))||void 0===e||e.remove(),a.remove()}),e});return a.remove(),{svg:o.replace(/xlink:href/g,"href")}}genPlantuml(e,t){let n=(0,a.encode)(e),r=(null==t?void 0:t.isDark)?"dsvg":"svg";return{url:"http://www.plantuml.com/plantuml/".concat(r,"/").concat(n)}}}},95398:function(e,t,n){n.d(t,{K:function(){return h}});var r=n(71576),a=n(34491),o=n(32117),i=n(78716),l=n.n(i),s=n(46731),c={artifactFileIcon:"artifact-file-icon--BzKJZ",htmlIcon:"html-icon--r8p18",codeIcon:"code-icon--s4rEF",markdownIcon:"markdown-icon--BDJeN",chartIcon:"chart-icon--Te3iz",svgIcon:"svg-icon--LUWYw"},d=n(66084),p=n(52921);class f extends a.PN{onViewCreate(){}onViewDestroy(){}constructor(...e){super(...e),(0,d._)(this,"props",void 0),(0,d._)(this,"someState",!0)}}(0,p.gn)([a.SB],f.prototype,"someState",void 0);let h=a._Y.createComponent("ArtifactFileIcon",f,e=>{let{type:t,isLoading:n,progress:a,className:i,size:d=36,iconSize:p=24}=e.props,f=(0,r.jsx)(o.Z,{percent:a,type:"circle",strokeColor:"var(--theme-icon-white-primary)",trailColor:"var(--theme-fill-tsp-components-secondary)",size:20}),h=(e,t)=>(0,r.jsx)("div",{className:l()(c.artifactFileIcon,i,e),style:{width:d,height:d},children:n?f:(0,r.jsx)(s.J,{name:t,size:p})});return"html"===t||"tsx"===t||"code.tsx"===t||"tsx/react"===t?h(c.htmlIcon,"artifactWebPage"):t.startsWith("code.")||"json"===t?h(c.codeIcon,"artifactCode"):"svg"===t?h(c.svgIcon,"artifactSvg"):"markdown"===t?h(c.markdownIcon,"artifactMd"):"mermaid"===t||"plantuml"===t?h(c.chartIcon,"artifactChart"):null})},67537:function(e,t,n){n.d(t,{g:function(){return l}});var r=n(52921),a=n(88882),o=n(73047);class i{get S(){return a.S.Global.modules.Artifact}get textMap(){return{tsx:this.S.clickToOpenWebsite,html:this.S.clickToOpenWebsite}}get defaultOpenText(){return this.S.clickToOpenArtifact}constructor(){(0,o.rC)(this)}}(0,r.gn)([o.Fl],i.prototype,"S",null),(0,r.gn)([o.Fl],i.prototype,"textMap",null),(0,r.gn)([o.Fl],i.prototype,"defaultOpenText",null);let l=new i}}]);