(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1082],{38545:function(e,t){"use strict";var i;!/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/function(){var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var i=arguments[t];if(i){var s=typeof i;if("string"===s||"number"===s)e.push(i);else if(Array.isArray(i)){if(i.length){var a=o.apply(null,i);a&&e.push(a)}}else if("object"===s){if(i.toString===Object.prototype.toString)for(var r in i)n.call(i,r)&&i[r]&&e.push(r);else e.push(i.toString())}}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0!==(i=(function(){return o}).apply(t,[]))&&(e.exports=i)}()},93683:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return o}});let n=i(49016);function o(e){let{reason:t,children:i}=e;if("undefined"==typeof window)throw new n.BailoutToCSRError(t);return i}},45748:function(e,t,i){var n,o,s=i(46497),a=i(38545),r=i(75087),l=i(30918);function c(e){return e&&e.__esModule?e.default:e}function d(e,t,i,n){Object.defineProperty(e,t,{get:i,set:n,enumerable:!0,configurable:!0})}function h(e){null!==e.parentElement&&e.parentElement.removeChild(e)}function u(e){e.forEach(e=>h(e.element))}function p(e){e.forEach(e=>{!function(e,t,i){let n=e.children[i]||null;e.insertBefore(t,n)}(e.parentElement,e.element,e.oldIndex)})}function m(e,t){let i=f(e),n={parentElement:e.from},o=[];switch(i){case"normal":o=[{element:e.item,newIndex:e.newIndex,oldIndex:e.oldIndex,parentElement:e.from}];break;case"swap":o=[{element:e.item,oldIndex:e.oldIndex,newIndex:e.newIndex,...n},{element:e.swapItem,oldIndex:e.newIndex,newIndex:e.oldIndex,...n}];break;case"multidrag":o=e.oldIndicies.map((t,i)=>({element:t.multiDragElement,oldIndex:t.index,newIndex:e.newIndicies[i].index,...n}))}return o.map(e=>({...e,item:t[e.oldIndex]})).sort((e,t)=>e.oldIndex-t.oldIndex)}function g(e,t){let i=[...t];return e.concat().reverse().forEach(e=>i.splice(e.oldIndex,1)),i}function v(e,t,i,n){let o=[...t];return e.forEach(e=>{let t=n&&i&&n(e.item,i);o.splice(e.newIndex,0,t||e.item)}),o}function f(e){return e.oldIndicies&&e.oldIndicies.length>0?"multidrag":e.swapItem?"swap":"normal"}d(e.exports,"Sortable",()=>$882b6d93070905b3$re_export$Sortable),d(e.exports,"Direction",()=>$882b6d93070905b3$re_export$Direction),d(e.exports,"DOMRect",()=>$882b6d93070905b3$re_export$DOMRect),d(e.exports,"GroupOptions",()=>$882b6d93070905b3$re_export$GroupOptions),d(e.exports,"MoveEvent",()=>$882b6d93070905b3$re_export$MoveEvent),d(e.exports,"Options",()=>$882b6d93070905b3$re_export$Options),d(e.exports,"PullResult",()=>$882b6d93070905b3$re_export$PullResult),d(e.exports,"PutResult",()=>$882b6d93070905b3$re_export$PutResult),d(e.exports,"SortableEvent",()=>$882b6d93070905b3$re_export$SortableEvent),d(e.exports,"SortableOptions",()=>$882b6d93070905b3$re_export$SortableOptions),d(e.exports,"Utils",()=>$882b6d93070905b3$re_export$Utils),d(e.exports,"ReactSortable",()=>C);let b={dragging:null};class C extends r.Component{componentDidMount(){if(null===this.ref.current)return;let e=this.makeOptions();c(s).create(this.ref.current,e)}componentDidUpdate(e){e.disabled!==this.props.disabled&&this.sortable&&this.sortable.option("disabled",this.props.disabled)}render(){let{tag:e,style:t,className:i,id:n}=this.props;return r.createElement(e&&null!==e?e:"div",{ref:this.ref,style:t,className:i,id:n},this.getChildren())}getChildren(){let{children:e,dataIdAttr:t,selectedClass:i="sortable-selected",chosenClass:n="sortable-chosen",dragClass:o="sortable-drag",fallbackClass:s="sortable-falback",ghostClass:l="sortable-ghost",swapClass:d="sortable-swap-highlight",filter:h="sortable-filter",list:u}=this.props;if(!e||null==e)return null;let p=t||"data-id";return r.Children.map(e,(e,t)=>{if(void 0===e)return;let o=u[t]||{},{className:s}=e.props,l="string"==typeof h&&{[h.replace(".","")]:!!o.filtered},d=c(a)(s,{[i]:o.selected,[n]:o.chosen,...l});return r.cloneElement(e,{[p]:e.key,className:d})})}get sortable(){let e=this.ref.current;if(null===e)return null;let t=Object.keys(e).find(e=>e.includes("Sortable"));return t?e[t]:null}makeOptions(){let e=function(e){let{list:t,setList:i,children:n,tag:o,style:s,className:a,clone:r,onAdd:l,onChange:c,onChoose:d,onClone:h,onEnd:u,onFilter:p,onRemove:m,onSort:g,onStart:v,onUnchoose:f,onUpdate:b,onMove:C,onSpill:A,onSelect:x,onDeselect:y,...S}=e;return S}(this.props);return["onAdd","onChoose","onDeselect","onEnd","onRemove","onSelect","onSpill","onStart","onUnchoose","onUpdate"].forEach(t=>e[t]=this.prepareOnHandlerPropAndDOM(t)),["onChange","onClone","onFilter","onSort"].forEach(t=>e[t]=this.prepareOnHandlerProp(t)),{...e,onMove:(e,t)=>{let{onMove:i}=this.props,n=e.willInsertAfter||-1;if(!i)return n;let o=i(e,t,this.sortable,b);return void 0!==o&&o}}}prepareOnHandlerPropAndDOM(e){return t=>{this.callOnHandlerProp(t,e),this[e](t)}}prepareOnHandlerProp(e){return t=>{this.callOnHandlerProp(t,e)}}callOnHandlerProp(e,t){let i=this.props[t];i&&i(e,this.sortable,b)}onAdd(e){let{list:t,setList:i,clone:n}=this.props,o=m(e,[...b.dragging.props.list]);u(o),i(v(o,t,e,n).map(e=>Object.assign(e,{selected:!1})),this.sortable,b)}onRemove(e){let{list:t,setList:i}=this.props,n=f(e),o=m(e,t);p(o);let s=[...t];if("clone"!==e.pullMode)s=g(o,s);else{let t=o;switch(n){case"multidrag":t=o.map((t,i)=>({...t,element:e.clones[i]}));break;case"normal":t=o.map(t=>({...t,element:e.clone}));break;default:c(l)(!0,'mode "'.concat(n,'" cannot clone. Please remove "props.clone" from <ReactSortable/> when using the "').concat(n,'" plugin'))}u(t),o.forEach(t=>{let i=t.oldIndex,n=this.props.clone(t.item,e);s.splice(i,1,n)})}i(s=s.map(e=>Object.assign(e,{selected:!1})),this.sortable,b)}onUpdate(e){let{list:t,setList:i}=this.props,n=m(e,t);return u(n),p(n),i(function(e,t){let i=g(e,t);return v(e,i)}(n,t),this.sortable,b)}onStart(){b.dragging=this}onEnd(){b.dragging=null}onChoose(e){let{list:t,setList:i}=this.props;i(t.map((t,i)=>{let n=t;return i===e.oldIndex&&(n=Object.assign(t,{chosen:!0})),n}),this.sortable,b)}onUnchoose(e){let{list:t,setList:i}=this.props;i(t.map((t,i)=>{let n=t;return i===e.oldIndex&&(n=Object.assign(n,{chosen:!1})),n}),this.sortable,b)}onSpill(e){let{removeOnSpill:t,revertOnSpill:i}=this.props;t&&!i&&h(e.item)}onSelect(e){let{list:t,setList:i}=this.props,n=t.map(e=>Object.assign(e,{selected:!1}));e.newIndicies.forEach(t=>{let i=t.index;if(-1===i){console.log('"'.concat(e.type,'" had indice of "').concat(t.index,"\", which is probably -1 and doesn't usually happen here.")),console.log(e);return}n[i].selected=!0}),i(n,this.sortable,b)}onDeselect(e){let{list:t,setList:i}=this.props,n=t.map(e=>Object.assign(e,{selected:!1}));e.newIndicies.forEach(e=>{let t=e.index;-1!==t&&(n[t].selected=!0)}),i(n,this.sortable,b)}constructor(e){super(e),this.ref=r.createRef();let t=[...e.list].map(e=>Object.assign(e,{chosen:!1,selected:!1}));e.setList(t,this.sortable,b),c(l)(!e.plugins,'\nPlugins prop is no longer supported.\nInstead, mount it with "Sortable.mount(new MultiDrag())"\nPlease read the updated README.md at https://github.com/SortableJS/react-sortablejs.\n      ')}}C.defaultProps={clone:e=>e},n=e.exports,Object.keys(o={}).forEach(function(e){"default"===e||"__esModule"===e||n.hasOwnProperty(e)||Object.defineProperty(n,e,{enumerable:!0,get:function(){return o[e]}})})},46497:function(e,t,i){"use strict";/**!
 * Sortable 1.15.1
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(Object(i),!0).forEach(function(t){var n;n=i[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=Array(t);i<t;i++)n[i]=e[i];return n}function l(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}i.r(t),i.d(t,{MultiDrag:function(){return tl},Sortable:function(){return eF},Swap:function(){return e7}});var c=l(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),d=l(/Edge/i),h=l(/firefox/i),u=l(/safari/i)&&!l(/chrome/i)&&!l(/android/i),p=l(/iP(ad|od|hone)/i),m=l(/chrome/i)&&l(/android/i),g={capture:!1,passive:!1};function v(e,t,i){e.addEventListener(t,i,!c&&g)}function f(e,t,i){e.removeEventListener(t,i,!c&&g)}function b(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){}return!1}}function C(e,t,i,n){if(e){var o;i=i||document;do{if(null!=t&&(">"===t[0]?e.parentNode===i&&b(e,t):b(e,t))||n&&e===i)return e;if(e===i)break}while(e=(o=e).host&&o!==document&&o.host.nodeType?o.host:o.parentNode)}return null}var A=/\s+/g;function x(e,t,i){if(e&&t){if(e.classList)e.classList[i?"add":"remove"](t);else{var n=(" "+e.className+" ").replace(A," ").replace(" "+t+" "," ");e.className=(n+(i?" "+t:"")).replace(A," ")}}}function y(e,t,i){var n=e&&e.style;if(n){if(void 0===i)return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(i=e.currentStyle),void 0===t?i:i[t];t in n||-1!==t.indexOf("webkit")||(t="-webkit-"+t),n[t]=i+("string"==typeof i?"":"px")}}function S(e,t){var i="";if("string"==typeof e)i=e;else do{var n=y(e,"transform");n&&"none"!==n&&(i=n+" "+i)}while(!t&&(e=e.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(i)}function w(e,t,i){if(e){var n=e.getElementsByTagName(t),o=0,s=n.length;if(i)for(;o<s;o++)i(n[o],o);return n}return[]}function k(){return document.scrollingElement||document.documentElement}function _(e,t,i,n,o){if(e.getBoundingClientRect||e===window){if(e!==window&&e.parentNode&&e!==k()?(a=(s=e.getBoundingClientRect()).top,r=s.left,l=s.bottom,d=s.right,h=s.height,u=s.width):(a=0,r=0,l=window.innerHeight,d=window.innerWidth,h=window.innerHeight,u=window.innerWidth),(t||i)&&e!==window&&(o=o||e.parentNode,!c))do if(o&&o.getBoundingClientRect&&("none"!==y(o,"transform")||i&&"static"!==y(o,"position"))){var s,a,r,l,d,h,u,p=o.getBoundingClientRect();a-=p.top+parseInt(y(o,"border-top-width")),r-=p.left+parseInt(y(o,"border-left-width")),l=a+s.height,d=r+s.width;break}while(o=o.parentNode);if(n&&e!==window){var m=S(o||e),g=m&&m.a,v=m&&m.d;m&&(a/=v,r/=g,u/=g,h/=v,l=a+h,d=r+u)}return{top:a,left:r,bottom:l,right:d,width:u,height:h}}}function j(e){var t=_(e),i=parseInt(y(e,"padding-left")),n=parseInt(y(e,"padding-top")),o=parseInt(y(e,"padding-right")),s=parseInt(y(e,"padding-bottom"));return t.top+=n+parseInt(y(e,"border-top-width")),t.left+=i+parseInt(y(e,"border-left-width")),t.width=e.clientWidth-i-o,t.height=e.clientHeight-n-s,t.bottom=t.top+t.height,t.right=t.left+t.width,t}function L(e,t,i){for(var n=T(e,!0),o=_(e)[t];n;){var s=_(n)[i];if(!("top"===i||"left"===i?o>=s:o<=s))return n;if(n===k())break;n=T(n,!1)}return!1}function D(e,t,i,n){for(var o=0,s=0,a=e.children;s<a.length;){if("none"!==a[s].style.display&&a[s]!==eF.ghost&&(n||a[s]!==eF.dragged)&&C(a[s],i.draggable,e,!1)){if(o===t)return a[s];o++}s++}return null}function E(e,t){for(var i=e.lastElementChild;i&&(i===eF.ghost||"none"===y(i,"display")||t&&!b(i,t));)i=i.previousElementSibling;return i||null}function N(e,t){var i=0;if(!e||!e.parentNode)return -1;for(;e=e.previousElementSibling;)"TEMPLATE"!==e.nodeName.toUpperCase()&&e!==eF.clone&&(!t||b(e,t))&&i++;return i}function M(e){var t=0,i=0,n=k();if(e)do{var o=S(e),s=o.a,a=o.d;t+=e.scrollLeft*s,i+=e.scrollTop*a}while(e!==n&&(e=e.parentNode));return[t,i]}function T(e,t){if(!e||!e.getBoundingClientRect)return k();var i=e,n=!1;do if(i.clientWidth<i.scrollWidth||i.clientHeight<i.scrollHeight){var o=y(i);if(i.clientWidth<i.scrollWidth&&("auto"==o.overflowX||"scroll"==o.overflowX)||i.clientHeight<i.scrollHeight&&("auto"==o.overflowY||"scroll"==o.overflowY)){if(!i.getBoundingClientRect||i===document.body)return k();if(n||t)return i;n=!0}}while(i=i.parentNode);return k()}function I(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function B(e,t){return function(){if(!J){var i=arguments;1===i.length?e.call(this,i[0]):e.apply(this,i),J=setTimeout(function(){J=void 0},t)}}}function P(e,t,i){e.scrollLeft+=t,e.scrollTop+=i}function O(e){var t=window.Polymer,i=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):i?i(e).clone(!0)[0]:e.cloneNode(!0)}function U(e,t){y(e,"position","absolute"),y(e,"top",t.top),y(e,"left",t.left),y(e,"width",t.width),y(e,"height",t.height)}function R(e){y(e,"position",""),y(e,"top",""),y(e,"left",""),y(e,"width",""),y(e,"height","")}var F="Sortable"+new Date().getTime(),H=[],V={initializeByDefault:!0},W={mount:function(e){for(var t in V)!V.hasOwnProperty(t)||t in e||(e[t]=V[t]);H.forEach(function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),H.push(e)},pluginEvent:function(e,t,i){var n=this;this.eventCanceled=!1,i.cancel=function(){n.eventCanceled=!0};var s=e+"Global";H.forEach(function(n){t[n.pluginName]&&(t[n.pluginName][s]&&t[n.pluginName][s](o({sortable:t},i)),t.options[n.pluginName]&&t[n.pluginName][e]&&t[n.pluginName][e](o({sortable:t},i)))})},initializePlugins:function(e,t,i,n){for(var o in H.forEach(function(n){var o=n.pluginName;if(e.options[o]||n.initializeByDefault){var s=new n(e,t,e.options);s.sortable=e,s.options=e.options,e[o]=s,a(i,s.defaults)}}),e.options)if(e.options.hasOwnProperty(o)){var s=this.modifyOption(e,o,e.options[o]);void 0!==s&&(e.options[o]=s)}},getEventProperties:function(e,t){var i={};return H.forEach(function(n){"function"==typeof n.eventProperties&&a(i,n.eventProperties.call(t[n.pluginName],e))}),i},modifyOption:function(e,t,i){var n;return H.forEach(function(o){e[o.pluginName]&&o.optionListeners&&"function"==typeof o.optionListeners[t]&&(n=o.optionListeners[t].call(e[o.pluginName],i))}),n}};function Q(e){var t=e.sortable,i=e.rootEl,n=e.name,s=e.targetEl,a=e.cloneEl,r=e.toEl,l=e.fromEl,h=e.oldIndex,u=e.newIndex,p=e.oldDraggableIndex,m=e.newDraggableIndex,g=e.originalEvent,v=e.putSortable,f=e.extraEventProperties;if(t=t||i&&i[F]){var b,C=t.options,A="on"+n.charAt(0).toUpperCase()+n.substr(1);!window.CustomEvent||c||d?(b=document.createEvent("Event")).initEvent(n,!0,!0):b=new CustomEvent(n,{bubbles:!0,cancelable:!0}),b.to=r||i,b.from=l||i,b.item=s||i,b.clone=a,b.oldIndex=h,b.newIndex=u,b.oldDraggableIndex=p,b.newDraggableIndex=m,b.originalEvent=g,b.pullMode=v?v.lastPutMode:void 0;var x=o(o({},f),W.getEventProperties(n,t));for(var y in x)b[y]=x[y];i&&i.dispatchEvent(b),C[A]&&C[A].call(t,b)}}var z=["evt"],G=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i.evt,s=function(e,t){if(null==e)return{};var i,n,o=function(e,t){if(null==e)return{};var i,n,o={},s=Object.keys(e);for(n=0;n<s.length;n++)i=s[n],t.indexOf(i)>=0||(o[i]=e[i]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)i=s[n],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(o[i]=e[i])}return o}(i,z);W.pluginEvent.bind(eF)(e,t,o({dragEl:Y,parentEl:K,ghostEl:Z,rootEl:X,nextEl:$,lastDownEl:ee,cloneEl:et,cloneHidden:ei,dragStarted:eg,putSortable:el,activeSortable:eF.active,originalEvent:n,oldIndex:en,oldDraggableIndex:es,newIndex:eo,newDraggableIndex:ea,hideGhostForTarget:eP,unhideGhostForTarget:eO,cloneNowHidden:function(){ei=!0},cloneNowShown:function(){ei=!1},dispatchSortableEvent:function(e){q({sortable:t,name:e,originalEvent:n})}},s))};function q(e){Q(o({putSortable:el,cloneEl:et,targetEl:Y,rootEl:X,oldIndex:en,oldDraggableIndex:es,newIndex:eo,newDraggableIndex:ea},e))}var J,Y,K,Z,X,$,ee,et,ei,en,eo,es,ea,er,el,ec,ed,eh,eu,ep,em,eg,ev,ef,eb,eC,eA=!1,ex=!1,ey=[],eS=!1,ew=!1,ek=[],e_=!1,ej=[],eL="undefined"!=typeof document,eD=d||c?"cssFloat":"float",eE=eL&&!m&&!p&&"draggable"in document.createElement("div"),eN=function(){if(eL){if(c)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),eM=function(e,t){var i=y(e),n=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),o=D(e,0,t),s=D(e,1,t),a=o&&y(o),r=s&&y(s),l=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+_(o).width,c=r&&parseInt(r.marginLeft)+parseInt(r.marginRight)+_(s).width;if("flex"===i.display)return"column"===i.flexDirection||"column-reverse"===i.flexDirection?"vertical":"horizontal";if("grid"===i.display)return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&a.float&&"none"!==a.float){var d="left"===a.float?"left":"right";return s&&("both"===r.clear||r.clear===d)?"vertical":"horizontal"}return o&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||l>=n&&"none"===i[eD]||s&&"none"===i[eD]&&l+c>n)?"vertical":"horizontal"},eT=function(e,t,i){var n=i?e.left:e.top,o=i?e.right:e.bottom,s=i?e.width:e.height,a=i?t.left:t.top,r=i?t.right:t.bottom,l=i?t.width:t.height;return n===a||o===r||n+s/2===a+l/2},eI=function(e,t){var i;return ey.some(function(n){var o=n[F].options.emptyInsertThreshold;if(!(!o||E(n))){var s=_(n),a=e>=s.left-o&&e<=s.right+o,r=t>=s.top-o&&t<=s.bottom+o;if(a&&r)return i=n}}),i},eB=function(e){function t(e,i){return function(n,o,s,a){var r=n.options.group.name&&o.options.group.name&&n.options.group.name===o.options.group.name;if(null==e&&(i||r))return!0;if(null==e||!1===e)return!1;if(i&&"clone"===e)return e;if("function"==typeof e)return t(e(n,o,s,a),i)(n,o,s,a);var l=(i?n:o).options.group.name;return!0===e||"string"==typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var i={},n=e.group;n&&"object"==s(n)||(n={name:n}),i.name=n.name,i.checkPull=t(n.pull,!0),i.checkPut=t(n.put),i.revertClone=n.revertClone,e.group=i},eP=function(){!eN&&Z&&y(Z,"display","none")},eO=function(){!eN&&Z&&y(Z,"display","")};eL&&!m&&document.addEventListener("click",function(e){if(ex)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),ex=!1,!1},!0);var eU=function(e){if(Y){var t=eI((e=e.touches?e.touches[0]:e).clientX,e.clientY);if(t){var i={};for(var n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);i.target=i.rootEl=t,i.preventDefault=void 0,i.stopPropagation=void 0,t[F]._onDragOver(i)}}},eR=function(e){Y&&Y.parentNode[F]._isOutsideThisEl(e.target)};function eF(e,t){if(!(e&&e.nodeType&&1===e.nodeType))throw"Sortable: `el` must be an HTMLElement, not ".concat(({}).toString.call(e));this.el=e,this.options=t=a({},t),e[F]=this;var i,n,s={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return eM(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==eF.supportPointer&&"PointerEvent"in window&&!u,emptyInsertThreshold:5};for(var r in W.initializePlugins(this,e,s),s)r in t||(t[r]=s[r]);for(var l in eB(t),this)"_"===l.charAt(0)&&"function"==typeof this[l]&&(this[l]=this[l].bind(this));this.nativeDraggable=!t.forceFallback&&eE,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?v(e,"pointerdown",this._onTapStart):(v(e,"mousedown",this._onTapStart),v(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(v(e,"dragover",this),v(e,"dragenter",this)),ey.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),a(this,(n=[],{captureAnimationState:function(){n=[],this.options.animation&&[].slice.call(this.el.children).forEach(function(e){if("none"!==y(e,"display")&&e!==eF.ghost){n.push({target:e,rect:_(e)});var t=o({},n[n.length-1].rect);if(e.thisAnimationDuration){var i=S(e,!0);i&&(t.top-=i.f,t.left-=i.e)}e.fromRect=t}})},addAnimationState:function(e){n.push(e)},removeAnimationState:function(e){n.splice(function(e,t){for(var i in e)if(e.hasOwnProperty(i)){for(var n in t)if(t.hasOwnProperty(n)&&t[n]===e[i][n])return Number(i)}return -1}(n,{target:e}),1)},animateAll:function(e){var t=this;if(!this.options.animation){clearTimeout(i),"function"==typeof e&&e();return}var o=!1,s=0;n.forEach(function(e){var i,n=0,a=e.target,r=a.fromRect,l=_(a),c=a.prevFromRect,d=a.prevToRect,h=e.rect,u=S(a,!0);u&&(l.top-=u.f,l.left-=u.e),a.toRect=l,a.thisAnimationDuration&&I(c,l)&&!I(r,l)&&(h.top-l.top)/(h.left-l.left)==(r.top-l.top)/(r.left-l.left)&&(i=t.options,n=Math.sqrt(Math.pow(c.top-h.top,2)+Math.pow(c.left-h.left,2))/Math.sqrt(Math.pow(c.top-d.top,2)+Math.pow(c.left-d.left,2))*i.animation),I(l,r)||(a.prevFromRect=r,a.prevToRect=l,n||(n=t.options.animation),t.animate(a,h,l,n)),n&&(o=!0,s=Math.max(s,n),clearTimeout(a.animationResetTimer),a.animationResetTimer=setTimeout(function(){a.animationTime=0,a.prevFromRect=null,a.fromRect=null,a.prevToRect=null,a.thisAnimationDuration=null},n),a.thisAnimationDuration=n)}),clearTimeout(i),o?i=setTimeout(function(){"function"==typeof e&&e()},s):"function"==typeof e&&e(),n=[]},animate:function(e,t,i,n){if(n){y(e,"transition",""),y(e,"transform","");var o=S(this.el),s=o&&o.a,a=o&&o.d,r=(t.left-i.left)/(s||1),l=(t.top-i.top)/(a||1);e.animatingX=!!r,e.animatingY=!!l,y(e,"transform","translate3d("+r+"px,"+l+"px,0)"),this.forRepaintDummy=e.offsetWidth,y(e,"transition","transform "+n+"ms"+(this.options.easing?" "+this.options.easing:"")),y(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout(function(){y(e,"transition",""),y(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1},n)}}}))}function eH(e,t,i,n,o,s,a,r){var l,h,u=e[F],p=u.options.onMove;return!window.CustomEvent||c||d?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=i,l.draggedRect=n,l.related=o||t,l.relatedRect=s||_(t),l.willInsertAfter=r,l.originalEvent=a,e.dispatchEvent(l),p&&(h=p.call(u,l,a)),h}function eV(e){e.draggable=!1}function eW(){e_=!1}function eQ(e){return setTimeout(e,0)}function ez(e){return clearTimeout(e)}eF.prototype={constructor:eF,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(ev=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,Y):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,i=this.el,n=this.options,o=n.preventOnFilter,s=e.type,a=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,r=(a||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||r,c=n.filter;if(function(e){ej.length=0;for(var t=e.getElementsByTagName("input"),i=t.length;i--;){var n=t[i];n.checked&&ej.push(n)}}(i),!(Y||/mousedown|pointerdown/.test(s)&&0!==e.button||n.disabled||l.isContentEditable||!this.nativeDraggable&&u&&r&&"SELECT"===r.tagName.toUpperCase()||(r=C(r,n.draggable,i,!1))&&r.animated)&&ee!==r){if(en=N(r),es=N(r,n.draggable),"function"==typeof c){if(c.call(this,e,r,this)){q({sortable:t,rootEl:l,name:"filter",targetEl:r,toEl:i,fromEl:i}),G("filter",t,{evt:e}),o&&e.cancelable&&e.preventDefault();return}}else if(c&&(c=c.split(",").some(function(n){if(n=C(l,n.trim(),i,!1))return q({sortable:t,rootEl:n,name:"filter",targetEl:r,fromEl:i,toEl:i}),G("filter",t,{evt:e}),!0}))){o&&e.cancelable&&e.preventDefault();return}(!n.handle||C(l,n.handle,i,!1))&&this._prepareDragStart(e,a,r)}}},_prepareDragStart:function(e,t,i){var n,o=this,s=o.el,a=o.options,r=s.ownerDocument;if(i&&!Y&&i.parentNode===s){var l=_(i);if(X=s,K=(Y=i).parentNode,$=Y.nextSibling,ee=i,er=a.group,eF.dragged=Y,ep=(ec={target:Y,clientX:(t||e).clientX,clientY:(t||e).clientY}).clientX-l.left,em=ec.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,Y.style["will-change"]="all",n=function(){if(G("delayEnded",o,{evt:e}),eF.eventCanceled){o._onDrop();return}o._disableDelayedDragEvents(),!h&&o.nativeDraggable&&(Y.draggable=!0),o._triggerDragStart(e,t),q({sortable:o,name:"choose",originalEvent:e}),x(Y,a.chosenClass,!0)},a.ignore.split(",").forEach(function(e){w(Y,e.trim(),eV)}),v(r,"dragover",eU),v(r,"mousemove",eU),v(r,"touchmove",eU),v(r,"mouseup",o._onDrop),v(r,"touchend",o._onDrop),v(r,"touchcancel",o._onDrop),h&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Y.draggable=!0),G("delayStart",this,{evt:e}),!a.delay||a.delayOnTouchOnly&&!t||this.nativeDraggable&&(d||c))n();else{if(eF.eventCanceled){this._onDrop();return}v(r,"mouseup",o._disableDelayedDrag),v(r,"touchend",o._disableDelayedDrag),v(r,"touchcancel",o._disableDelayedDrag),v(r,"mousemove",o._delayedDragTouchMoveHandler),v(r,"touchmove",o._delayedDragTouchMoveHandler),a.supportPointer&&v(r,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(n,a.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Y&&eV(Y),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;f(e,"mouseup",this._disableDelayedDrag),f(e,"touchend",this._disableDelayedDrag),f(e,"touchcancel",this._disableDelayedDrag),f(e,"mousemove",this._delayedDragTouchMoveHandler),f(e,"touchmove",this._delayedDragTouchMoveHandler),f(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?v(document,"pointermove",this._onTouchMove):t?v(document,"touchmove",this._onTouchMove):v(document,"mousemove",this._onTouchMove):(v(Y,"dragend",this),v(X,"dragstart",this._onDragStart));try{document.selection?eQ(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){if(eA=!1,X&&Y){G("dragStarted",this,{evt:t}),this.nativeDraggable&&v(document,"dragover",eR);var i=this.options;e||x(Y,i.dragClass,!1),x(Y,i.ghostClass,!0),eF.active=this,e&&this._appendGhost(),q({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(ed){this._lastX=ed.clientX,this._lastY=ed.clientY,eP();for(var e=document.elementFromPoint(ed.clientX,ed.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(ed.clientX,ed.clientY))!==t;)t=e;if(Y.parentNode[F]._isOutsideThisEl(e),t)do{if(t[F]&&t[F]._onDragOver({clientX:ed.clientX,clientY:ed.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break;e=t}while(t=t.parentNode);eO()}},_onTouchMove:function(e){if(ec){var t=this.options,i=t.fallbackTolerance,n=t.fallbackOffset,o=e.touches?e.touches[0]:e,s=Z&&S(Z,!0),a=Z&&s&&s.a,r=Z&&s&&s.d,l=p&&eC&&M(eC),c=(o.clientX-ec.clientX+n.x)/(a||1)+(l?l[0]-ek[0]:0)/(a||1),d=(o.clientY-ec.clientY+n.y)/(r||1)+(l?l[1]-ek[1]:0)/(r||1);if(!eF.active&&!eA){if(i&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<i)return;this._onDragStart(e,!0)}if(Z){s?(s.e+=c-(eh||0),s.f+=d-(eu||0)):s={a:1,b:0,c:0,d:1,e:c,f:d};var h="matrix(".concat(s.a,",").concat(s.b,",").concat(s.c,",").concat(s.d,",").concat(s.e,",").concat(s.f,")");y(Z,"webkitTransform",h),y(Z,"mozTransform",h),y(Z,"msTransform",h),y(Z,"transform",h),eh=c,eu=d,ed=o}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!Z){var e=this.options.fallbackOnBody?document.body:X,t=_(Y,!0,p,!0,e),i=this.options;if(p){for(eC=e;"static"===y(eC,"position")&&"none"===y(eC,"transform")&&eC!==document;)eC=eC.parentNode;eC!==document.body&&eC!==document.documentElement?(eC===document&&(eC=k()),t.top+=eC.scrollTop,t.left+=eC.scrollLeft):eC=k(),ek=M(eC)}x(Z=Y.cloneNode(!0),i.ghostClass,!1),x(Z,i.fallbackClass,!0),x(Z,i.dragClass,!0),y(Z,"transition",""),y(Z,"transform",""),y(Z,"box-sizing","border-box"),y(Z,"margin",0),y(Z,"top",t.top),y(Z,"left",t.left),y(Z,"width",t.width),y(Z,"height",t.height),y(Z,"opacity","0.8"),y(Z,"position",p?"absolute":"fixed"),y(Z,"zIndex","100000"),y(Z,"pointerEvents","none"),eF.ghost=Z,e.appendChild(Z),y(Z,"transform-origin",ep/parseInt(Z.style.width)*100+"% "+em/parseInt(Z.style.height)*100+"%")}},_onDragStart:function(e,t){var i=this,n=e.dataTransfer,o=i.options;if(G("dragStart",this,{evt:e}),eF.eventCanceled){this._onDrop();return}G("setupClone",this),eF.eventCanceled||((et=O(Y)).removeAttribute("id"),et.draggable=!1,et.style["will-change"]="",this._hideClone(),x(et,this.options.chosenClass,!1),eF.clone=et),i.cloneId=eQ(function(){G("clone",i),eF.eventCanceled||(i.options.removeCloneOnHide||X.insertBefore(et,Y),i._hideClone(),q({sortable:i,name:"clone"}))}),t||x(Y,o.dragClass,!0),t?(ex=!0,i._loopId=setInterval(i._emulateDragOver,50)):(f(document,"mouseup",i._onDrop),f(document,"touchend",i._onDrop),f(document,"touchcancel",i._onDrop),n&&(n.effectAllowed="move",o.setData&&o.setData.call(i,n,Y)),v(document,"drop",i),y(Y,"transform","translateZ(0)")),eA=!0,i._dragStartId=eQ(i._dragStarted.bind(i,t,e)),v(document,"selectstart",i),eg=!0,u&&y(document.body,"user-select","none")},_onDragOver:function(e){var t,i,n,s,a=this.el,r=e.target,l=this.options,c=l.group,d=eF.active,h=er===c,u=l.sort,p=el||d,m=this,g=!1;if(!e_){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),r=C(r,l.draggable,a,!0),ee("dragOver"),eF.eventCanceled)return g;if(Y.contains(e.target)||r.animated&&r.animatingX&&r.animatingY||m._ignoreWhileAnimating===r)return ei(!1);if(ex=!1,d&&!l.disabled&&(h?u||(n=K!==X):el===this||(this.lastPutMode=er.checkPull(this,d,Y,e))&&c.checkPut(this,d,Y,e))){if(s="vertical"===this._getDirection(e,r),t=_(Y),ee("dragOverValid"),eF.eventCanceled)return g;if(n)return K=X,et(),this._hideClone(),ee("revert"),eF.eventCanceled||($?X.insertBefore(Y,$):X.appendChild(Y)),ei(!0);var v=E(a,l.draggable);if(!v||(b=s,A=_(E(this.el,this.options.draggable)),S=j(this.el),(b?e.clientX>S.right+10||e.clientY>A.bottom&&e.clientX>A.left:e.clientY>S.bottom+10||e.clientX>A.right&&e.clientY>A.top)&&!v.animated)){if(v===Y)return ei(!1);if(v&&a===e.target&&(r=v),r&&(i=_(r)),!1!==eH(X,a,Y,t,r,i,e,!!r))return et(),v&&v.nextSibling?a.insertBefore(Y,v.nextSibling):a.appendChild(Y),K=a,en(),ei(!0)}else if(v&&(w=s,k=_(D(this.el,0,this.options,!0)),M=j(this.el),w?e.clientX<M.left-10||e.clientY<k.top&&e.clientX<k.right:e.clientY<M.top-10||e.clientY<k.bottom&&e.clientX<k.left)){var f=D(a,0,l,!0);if(f===Y)return ei(!1);if(i=_(r=f),!1!==eH(X,a,Y,t,r,i,e,!1))return et(),a.insertBefore(Y,f),K=a,en(),ei(!0)}else if(r.parentNode===a){i=_(r);var b,A,S,w,k,M,T,I,B=0,O=Y.parentNode!==a,U=!eT(Y.animated&&Y.toRect||t,r.animated&&r.toRect||i,s),R=s?"top":"left",H=L(r,"top","top")||L(Y,"top","top"),V=H?H.scrollTop:void 0;if(ev!==r&&(I=i[R],eS=!1,ew=!U&&l.invertSwap||O),0!==(B=function(e,t,i,n,o,s,a,r){var l=n?e.clientY:e.clientX,c=n?i.height:i.width,d=n?i.top:i.left,h=n?i.bottom:i.right,u=!1;if(!a){if(r&&eb<c*o){if(!eS&&(1===ef?l>d+c*s/2:l<h-c*s/2)&&(eS=!0),eS)u=!0;else if(1===ef?l<d+eb:l>h-eb)return-ef}else if(l>d+c*(1-o)/2&&l<h-c*(1-o)/2)return N(Y)<N(t)?1:-1}return(u=u||a)&&(l<d+c*s/2||l>h-c*s/2)?l>d+c/2?1:-1:0}(e,r,i,s,U?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,ew,ev===r))){var W=N(Y);do W-=B,T=K.children[W];while(T&&("none"===y(T,"display")||T===Z))}if(0===B||T===r)return ei(!1);ev=r,ef=B;var Q=r.nextElementSibling,z=!1,J=eH(X,a,Y,t,r,i,e,z=1===B);if(!1!==J)return(1===J||-1===J)&&(z=1===J),e_=!0,setTimeout(eW,30),et(),z&&!Q?a.appendChild(Y):r.parentNode.insertBefore(Y,z?Q:r),H&&P(H,0,V-H.scrollTop),K=Y.parentNode,void 0===I||ew||(eb=Math.abs(I-_(r)[R])),en(),ei(!0)}if(a.contains(Y))return ei(!1)}return!1}function ee(l,c){G(l,m,o({evt:e,isOwner:h,axis:s?"vertical":"horizontal",revert:n,dragRect:t,targetRect:i,canSort:u,fromSortable:p,target:r,completed:ei,onMove:function(i,n){return eH(X,a,Y,t,i,_(i),e,n)},changed:en},c))}function et(){ee("dragOverAnimationCapture"),m.captureAnimationState(),m!==p&&p.captureAnimationState()}function ei(t){return ee("dragOverCompleted",{insertion:t}),t&&(h?d._hideClone():d._showClone(m),m!==p&&(x(Y,el?el.options.ghostClass:d.options.ghostClass,!1),x(Y,l.ghostClass,!0)),el!==m&&m!==eF.active?el=m:m===eF.active&&el&&(el=null),p===m&&(m._ignoreWhileAnimating=r),m.animateAll(function(){ee("dragOverAnimationComplete"),m._ignoreWhileAnimating=null}),m!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(r!==Y||Y.animated)&&(r!==a||r.animated)||(ev=null),l.dragoverBubble||e.rootEl||r===document||(Y.parentNode[F]._isOutsideThisEl(e.target),t||eU(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),g=!0}function en(){eo=N(Y),ea=N(Y,l.draggable),q({sortable:m,name:"change",toEl:a,newIndex:eo,newDraggableIndex:ea,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){f(document,"mousemove",this._onTouchMove),f(document,"touchmove",this._onTouchMove),f(document,"pointermove",this._onTouchMove),f(document,"dragover",eU),f(document,"mousemove",eU),f(document,"touchmove",eU)},_offUpEvents:function(){var e=this.el.ownerDocument;f(e,"mouseup",this._onDrop),f(e,"touchend",this._onDrop),f(e,"pointerup",this._onDrop),f(e,"touchcancel",this._onDrop),f(document,"selectstart",this)},_onDrop:function(e){var t=this.el,i=this.options;if(eo=N(Y),ea=N(Y,i.draggable),G("drop",this,{evt:e}),K=Y&&Y.parentNode,eo=N(Y),ea=N(Y,i.draggable),eF.eventCanceled){this._nulling();return}eA=!1,ew=!1,eS=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),ez(this.cloneId),ez(this._dragStartId),this.nativeDraggable&&(f(document,"drop",this),f(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),u&&y(document.body,"user-select",""),y(Y,"transform",""),e&&(eg&&(e.cancelable&&e.preventDefault(),i.dropBubble||e.stopPropagation()),Z&&Z.parentNode&&Z.parentNode.removeChild(Z),(X===K||el&&"clone"!==el.lastPutMode)&&et&&et.parentNode&&et.parentNode.removeChild(et),Y&&(this.nativeDraggable&&f(Y,"dragend",this),eV(Y),Y.style["will-change"]="",eg&&!eA&&x(Y,el?el.options.ghostClass:this.options.ghostClass,!1),x(Y,this.options.chosenClass,!1),q({sortable:this,name:"unchoose",toEl:K,newIndex:null,newDraggableIndex:null,originalEvent:e}),X!==K?(eo>=0&&(q({rootEl:K,name:"add",toEl:K,fromEl:X,originalEvent:e}),q({sortable:this,name:"remove",toEl:K,originalEvent:e}),q({rootEl:K,name:"sort",toEl:K,fromEl:X,originalEvent:e}),q({sortable:this,name:"sort",toEl:K,originalEvent:e})),el&&el.save()):eo!==en&&eo>=0&&(q({sortable:this,name:"update",toEl:K,originalEvent:e}),q({sortable:this,name:"sort",toEl:K,originalEvent:e})),eF.active&&((null==eo||-1===eo)&&(eo=en,ea=es),q({sortable:this,name:"end",toEl:K,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){G("nulling",this),X=Y=K=Z=$=et=ee=ei=ec=ed=eg=eo=ea=en=es=ev=ef=el=er=eF.dragged=eF.ghost=eF.clone=eF.active=null,ej.forEach(function(e){e.checked=!0}),ej.length=eh=eu=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":Y&&(this._onDragOver(e),e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault());break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],i=this.el.children,n=0,o=i.length,s=this.options;n<o;n++)C(e=i[n],s.draggable,this.el,!1)&&t.push(e.getAttribute(s.dataIdAttr)||function(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,i=t.length,n=0;i--;)n+=t.charCodeAt(i);return n.toString(36)}(e));return t},sort:function(e,t){var i={},n=this.el;this.toArray().forEach(function(e,t){var o=n.children[t];C(o,this.options.draggable,n,!1)&&(i[e]=o)},this),t&&this.captureAnimationState(),e.forEach(function(e){i[e]&&(n.removeChild(i[e]),n.appendChild(i[e]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return C(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var i=this.options;if(void 0===t)return i[e];var n=W.modifyOption(this,e,t);void 0!==n?i[e]=n:i[e]=t,"group"===e&&eB(i)},destroy:function(){G("destroy",this);var e=this.el;e[F]=null,f(e,"mousedown",this._onTapStart),f(e,"touchstart",this._onTapStart),f(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(f(e,"dragover",this),f(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),ey.splice(ey.indexOf(this.el),1),this.el=null},_hideClone:function(){ei||(G("hideClone",this),eF.eventCanceled||(y(et,"display","none"),this.options.removeCloneOnHide&&et.parentNode&&et.parentNode.removeChild(et),ei=!0))},_showClone:function(e){if("clone"!==e.lastPutMode){this._hideClone();return}if(ei){if(G("showClone",this),eF.eventCanceled)return;Y.parentNode!=X||this.options.group.revertClone?$?X.insertBefore(et,$):X.appendChild(et):X.insertBefore(et,Y),this.options.group.revertClone&&this.animate(Y,et),y(et,"display",""),ei=!1}}},eL&&v(document,"touchmove",function(e){(eF.active||eA)&&e.cancelable&&e.preventDefault()}),eF.utils={on:v,off:f,css:y,find:w,is:function(e,t){return!!C(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e},throttle:B,closest:C,toggleClass:x,clone:O,index:N,nextTick:eQ,cancelNextTick:ez,detectDirection:eM,getChild:D},eF.get=function(e){return e[F]},eF.mount=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];t[0].constructor===Array&&(t=t[0]),t.forEach(function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat(({}).toString.call(e));e.utils&&(eF.utils=o(o({},eF.utils),e.utils)),W.mount(e)})},eF.create=function(e,t){return new eF(e,t)},eF.version="1.15.1";var eG,eq,eJ,eY,eK,eZ,eX=[],e$=!1;function e1(){eX.forEach(function(e){clearInterval(e.pid)}),eX=[]}function e0(){clearInterval(eZ)}var e2=B(function(e,t,i,n){if(t.scroll){var o,s=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,r=t.scrollSensitivity,l=t.scrollSpeed,c=k(),d=!1;eq!==i&&(eq=i,e1(),eG=t.scroll,o=t.scrollFn,!0===eG&&(eG=T(i,!0)));var h=0,u=eG;do{var p=u,m=_(p),g=m.top,v=m.bottom,f=m.left,b=m.right,C=m.width,A=m.height,x=void 0,S=void 0,w=p.scrollWidth,j=p.scrollHeight,L=y(p),D=p.scrollLeft,E=p.scrollTop;p===c?(x=C<w&&("auto"===L.overflowX||"scroll"===L.overflowX||"visible"===L.overflowX),S=A<j&&("auto"===L.overflowY||"scroll"===L.overflowY||"visible"===L.overflowY)):(x=C<w&&("auto"===L.overflowX||"scroll"===L.overflowX),S=A<j&&("auto"===L.overflowY||"scroll"===L.overflowY));var N=x&&(Math.abs(b-s)<=r&&D+C<w)-(Math.abs(f-s)<=r&&!!D),M=S&&(Math.abs(v-a)<=r&&E+A<j)-(Math.abs(g-a)<=r&&!!E);if(!eX[h])for(var I=0;I<=h;I++)eX[I]||(eX[I]={});(eX[h].vx!=N||eX[h].vy!=M||eX[h].el!==p)&&(eX[h].el=p,eX[h].vx=N,eX[h].vy=M,clearInterval(eX[h].pid),(0!=N||0!=M)&&(d=!0,eX[h].pid=setInterval((function(){n&&0===this.layer&&eF.active._onTouchMove(eK);var t=eX[this.layer].vy?eX[this.layer].vy*l:0,i=eX[this.layer].vx?eX[this.layer].vx*l:0;("function"!=typeof o||"continue"===o.call(eF.dragged.parentNode[F],i,t,e,eK,eX[this.layer].el))&&P(eX[this.layer].el,i,t)}).bind({layer:h}),24))),h++}while(t.bubbleScroll&&u!==c&&(u=T(u,!1)));e$=d}},30),e5=function(e){var t=e.originalEvent,i=e.putSortable,n=e.dragEl,o=e.activeSortable,s=e.dispatchSortableEvent,a=e.hideGhostForTarget,r=e.unhideGhostForTarget;if(t){var l=i||o;a();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,d=document.elementFromPoint(c.clientX,c.clientY);r(),l&&!l.el.contains(d)&&(s("spill"),this.onSpill({dragEl:n,putSortable:i}))}};function e4(){}function e9(){}function e7(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(e){e6=e.dragEl},dragOverValid:function(e){var t=e.completed,i=e.target,n=e.onMove,o=e.activeSortable,s=e.changed,a=e.cancel;if(o.options.swap){var r=this.sortable.el,l=this.options;if(i&&i!==r){var c=e6;!1!==n(i)?(x(i,l.swapClass,!0),e6=i):e6=null,c&&c!==e6&&x(c,l.swapClass,!1)}s(),t(!0),a()}},drop:function(e){var t,i,n,o,s,a=e.activeSortable,r=e.putSortable,l=e.dragEl,c=r||this.sortable,d=this.options;e6&&x(e6,d.swapClass,!1),e6&&(d.swap||r&&r.options.swap)&&l!==e6&&(c.captureAnimationState(),c!==a&&a.captureAnimationState(),t=e6,o=l.parentNode,s=t.parentNode,!o||!s||o.isEqualNode(t)||s.isEqualNode(l)||(i=N(l),n=N(t),o.isEqualNode(s)&&i<n&&n++,o.insertBefore(t,o.children[i]),s.insertBefore(l,s.children[n])),c.animateAll(),c!==a&&a.animateAll())},nulling:function(){e6=null}},a(e,{pluginName:"swap",eventProperties:function(){return{swapItem:e6}}})}e4.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,i=e.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var n=D(this.sortable.el,this.startIndex,this.options);n?this.sortable.el.insertBefore(t,n):this.sortable.el.appendChild(t),this.sortable.animateAll(),i&&i.animateAll()},drop:e5},a(e4,{pluginName:"revertOnSpill"}),e9.prototype={onSpill:function(e){var t=e.dragEl,i=e.putSortable||this.sortable;i.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),i.animateAll()},drop:e5},a(e9,{pluginName:"removeOnSpill"});var e6,e3,e8,te,tt,ti,tn=[],to=[],ts=!1,ta=!1,tr=!1;function tl(){function e(e){for(var t in this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this));e.options.avoidImplicitDeselect||(e.options.supportPointer?v(document,"pointerup",this._deselectMultiDrag):(v(document,"mouseup",this._deselectMultiDrag),v(document,"touchend",this._deselectMultiDrag))),v(document,"keydown",this._checkKeyDown),v(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,avoidImplicitDeselect:!1,setData:function(t,i){var n="";tn.length&&e8===e?tn.forEach(function(e,t){n+=(t?", ":"")+e.textContent}):n=i.textContent,t.setData("Text",n)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(e){te=e.dragEl},delayEnded:function(){this.isMultiDrag=~tn.indexOf(te)},setupClone:function(e){var t=e.sortable,i=e.cancel;if(this.isMultiDrag){for(var n=0;n<tn.length;n++)to.push(O(tn[n])),to[n].sortableIndex=tn[n].sortableIndex,to[n].draggable=!1,to[n].style["will-change"]="",x(to[n],this.options.selectedClass,!1),tn[n]===te&&x(to[n],this.options.chosenClass,!1);t._hideClone(),i()}},clone:function(e){var t=e.sortable,i=e.rootEl,n=e.dispatchSortableEvent,o=e.cancel;this.isMultiDrag&&!this.options.removeCloneOnHide&&tn.length&&e8===t&&(tc(!0,i),n("clone"),o())},showClone:function(e){var t=e.cloneNowShown,i=e.rootEl,n=e.cancel;this.isMultiDrag&&(tc(!1,i),to.forEach(function(e){y(e,"display","")}),t(),ti=!1,n())},hideClone:function(e){var t=this;e.sortable;var i=e.cloneNowHidden,n=e.cancel;this.isMultiDrag&&(to.forEach(function(e){y(e,"display","none"),t.options.removeCloneOnHide&&e.parentNode&&e.parentNode.removeChild(e)}),i(),ti=!0,n())},dragStartGlobal:function(e){e.sortable,!this.isMultiDrag&&e8&&e8.multiDrag._deselectMultiDrag(),tn.forEach(function(e){e.sortableIndex=N(e)}),tn=tn.sort(function(e,t){return e.sortableIndex-t.sortableIndex}),tr=!0},dragStarted:function(e){var t=this,i=e.sortable;if(this.isMultiDrag){if(this.options.sort&&(i.captureAnimationState(),this.options.animation)){tn.forEach(function(e){e!==te&&y(e,"position","absolute")});var n=_(te,!1,!0,!0);tn.forEach(function(e){e!==te&&U(e,n)}),ta=!0,ts=!0}i.animateAll(function(){ta=!1,ts=!1,t.options.animation&&tn.forEach(function(e){R(e)}),t.options.sort&&td()})}},dragOver:function(e){var t=e.target,i=e.completed,n=e.cancel;ta&&~tn.indexOf(t)&&(i(!1),n())},revert:function(e){var t,i=e.fromSortable,n=e.rootEl,o=e.sortable,s=e.dragRect;tn.length>1&&(tn.forEach(function(e){o.addAnimationState({target:e,rect:ta?_(e):s}),R(e),e.fromRect=s,i.removeAnimationState(e)}),ta=!1,t=!this.options.removeCloneOnHide,tn.forEach(function(e,i){var o=n.children[e.sortableIndex+(t?Number(i):0)];o?n.insertBefore(e,o):n.appendChild(e)}))},dragOverCompleted:function(e){var t=e.sortable,i=e.isOwner,n=e.insertion,o=e.activeSortable,s=e.parentEl,a=e.putSortable,r=this.options;if(n){if(i&&o._hideClone(),ts=!1,r.animation&&tn.length>1&&(ta||!i&&!o.options.sort&&!a)){var l=_(te,!1,!0,!0);tn.forEach(function(e){e!==te&&(U(e,l),s.appendChild(e))}),ta=!0}if(!i){if(ta||td(),tn.length>1){var c=ti;o._showClone(t),o.options.animation&&!ti&&c&&to.forEach(function(e){o.addAnimationState({target:e,rect:tt}),e.fromRect=tt,e.thisAnimationDuration=null})}else o._showClone(t)}}},dragOverAnimationCapture:function(e){var t=e.dragRect,i=e.isOwner,n=e.activeSortable;if(tn.forEach(function(e){e.thisAnimationDuration=null}),n.options.animation&&!i&&n.multiDrag.isMultiDrag){tt=a({},t);var o=S(te,!0);tt.top-=o.f,tt.left-=o.e}},dragOverAnimationComplete:function(){ta&&(ta=!1,td())},drop:function(e){var t=e.originalEvent,i=e.rootEl,n=e.parentEl,o=e.sortable,s=e.dispatchSortableEvent,a=e.oldIndex,r=e.putSortable,l=r||this.sortable;if(t){var c=this.options,d=n.children;if(!tr){if(c.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),x(te,c.selectedClass,!~tn.indexOf(te)),~tn.indexOf(te))tn.splice(tn.indexOf(te),1),e3=null,Q({sortable:o,rootEl:i,name:"deselect",targetEl:te,originalEvent:t});else{if(tn.push(te),Q({sortable:o,rootEl:i,name:"select",targetEl:te,originalEvent:t}),t.shiftKey&&e3&&o.el.contains(e3)){var h,u,p=N(e3),m=N(te);if(~p&&~m&&p!==m)for(m>p?(u=p,h=m):(u=m,h=p+1);u<h;u++)~tn.indexOf(d[u])||(x(d[u],c.selectedClass,!0),tn.push(d[u]),Q({sortable:o,rootEl:i,name:"select",targetEl:d[u],originalEvent:t}))}else e3=te;e8=l}}if(tr&&this.isMultiDrag){if(ta=!1,(n[F].options.sort||n!==i)&&tn.length>1){var g=_(te),v=N(te,":not(."+this.options.selectedClass+")");if(!ts&&c.animation&&(te.thisAnimationDuration=null),l.captureAnimationState(),!ts&&(c.animation&&(te.fromRect=g,tn.forEach(function(e){if(e.thisAnimationDuration=null,e!==te){var t=ta?_(e):g;e.fromRect=t,l.addAnimationState({target:e,rect:t})}})),td(),tn.forEach(function(e){d[v]?n.insertBefore(e,d[v]):n.appendChild(e),v++}),a===N(te))){var f=!1;tn.forEach(function(e){if(e.sortableIndex!==N(e)){f=!0;return}}),f&&(s("update"),s("sort"))}tn.forEach(function(e){R(e)}),l.animateAll()}e8=l}(i===n||r&&"clone"!==r.lastPutMode)&&to.forEach(function(e){e.parentNode&&e.parentNode.removeChild(e)})}},nullingGlobal:function(){this.isMultiDrag=tr=!1,to.length=0},destroyGlobal:function(){this._deselectMultiDrag(),f(document,"pointerup",this._deselectMultiDrag),f(document,"mouseup",this._deselectMultiDrag),f(document,"touchend",this._deselectMultiDrag),f(document,"keydown",this._checkKeyDown),f(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(e){if(!(void 0!==tr&&tr||e8!==this.sortable||e&&C(e.target,this.options.draggable,this.sortable.el,!1))&&(!e||0===e.button))for(;tn.length;){var t=tn[0];x(t,this.options.selectedClass,!1),tn.shift(),Q({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:t,originalEvent:e})}},_checkKeyDown:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},a(e,{pluginName:"multiDrag",utils:{select:function(e){var t=e.parentNode[F];!t||!t.options.multiDrag||~tn.indexOf(e)||(e8&&e8!==t&&(e8.multiDrag._deselectMultiDrag(),e8=t),x(e,t.options.selectedClass,!0),tn.push(e))},deselect:function(e){var t=e.parentNode[F],i=tn.indexOf(e);t&&t.options.multiDrag&&~i&&(x(e,t.options.selectedClass,!1),tn.splice(i,1))}},eventProperties:function(){var e,t=this,i=[],n=[];return tn.forEach(function(e){var o;i.push({multiDragElement:e,index:e.sortableIndex}),o=ta&&e!==te?-1:ta?N(e,":not(."+t.options.selectedClass+")"):N(e),n.push({multiDragElement:e,index:o})}),{items:function(e){if(Array.isArray(e))return r(e)}(e=tn)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if("Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return r(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),clones:[].concat(to),oldIndicies:i,newIndicies:n}},optionListeners:{multiDragKey:function(e){return"ctrl"===(e=e.toLowerCase())?e="Control":e.length>1&&(e=e.charAt(0).toUpperCase()+e.substr(1)),e}}})}function tc(e,t){to.forEach(function(i,n){var o=t.children[i.sortableIndex+(e?Number(n):0)];o?t.insertBefore(i,o):t.appendChild(i)})}function td(){tn.forEach(function(e){e!==te&&e.parentNode&&e.parentNode.removeChild(e)})}eF.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?v(document,"dragover",this._handleAutoScroll):this.options.supportPointer?v(document,"pointermove",this._handleFallbackAutoScroll):t.touches?v(document,"touchmove",this._handleFallbackAutoScroll):v(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?f(document,"dragover",this._handleAutoScroll):(f(document,"pointermove",this._handleFallbackAutoScroll),f(document,"touchmove",this._handleFallbackAutoScroll),f(document,"mousemove",this._handleFallbackAutoScroll)),e0(),e1(),clearTimeout(J),J=void 0},nulling:function(){eK=eq=eG=e$=eZ=eJ=eY=null,eX.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var i=this,n=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,s=document.elementFromPoint(n,o);if(eK=e,t||this.options.forceAutoScrollFallback||d||c||u){e2(e,this.options,s,t);var a=T(s,!0);e$&&(!eZ||n!==eJ||o!==eY)&&(eZ&&e0(),eZ=setInterval(function(){var s=T(document.elementFromPoint(n,o),!0);s!==a&&(a=s,e1()),e2(e,i.options,s,t)},10),eJ=n,eY=o)}else{if(!this.options.bubbleScroll||T(s,!0)===k()){e1();return}e2(e,this.options,T(s,!1),!1)}}},a(e,{pluginName:"scroll",initializeByDefault:!0})}),eF.mount(e9,e4),t.default=eF},30918:function(e,t,i){"use strict";function n(e,t){if(!e)throw Error("Invariant failed")}i.r(t),i.d(t,{default:function(){return n}})},39815:function(e,t,i){"use strict";i.d(t,{J:function(){return c}});var n=i(66084),o=i(52921),s=i(34491),a=i(70151),r=i(73047),l=i(37067);class c{init(e){var t;this.options=e,this.activeIndex=e.defaultActiveIndex,l.I.getProxy(this,document).addEventListener("keydown",e=>{this.handleKeydown(e)}),null===(t=this.options.keydownContainer)||void 0===t||t.forEach(e=>{e&&l.I.getProxy(this,e).addEventListener("keydown",e=>{this.handleKeydown(e)})})}destroy(){var e,t;l.I.getProxy(this,document).removeAllListeners(),null===(t=this.options)||void 0===t||null===(e=t.keydownContainer)||void 0===e||e.forEach(e=>{e&&l.I.getProxy(this,e).removeAllListeners()})}reset(e){this.options={...this.options,...e},this.activeIndex=this.options.defaultActiveIndex||0}handleKeydown(e){var t,i,n,o,s,r,l,c;let d=()=>{e.stopPropagation(),e.preventDefault()};(0,a.TB)("up",e)||this.options.withTab&&(0,a.ZP)("shift+tab",e)?(d(),this.activeIndex<0&&void 0!==this.options.activeIndexWithFirstKeyup?this.activeIndex=Math.min(this.options.activeIndexWithFirstKeyup,this.options.listLength-1):this.activeIndex=Math.max(0,this.activeIndex-1),null===(t=(i=this.options).onKeyUp)||void 0===t||t.call(i),this.scrollIntoView("up")):(0,a.TB)("down",e)||this.options.withTab&&(0,a.TB)("tab",e)?(d(),this.activeIndex=Math.min(this.options.listLength-1,this.activeIndex+1),null===(n=(o=this.options).onKeyDown)||void 0===n||n.call(o),this.scrollIntoView("down")):(0,a.TB)("enter",e)&&this.options.onEnter?(d(),null===(s=(r=this.options).onEnter)||void 0===s||s.call(r,this.activeIndex,this.activeIndex>=0&&this.activeIndex<this.options.listLength)):(0,a.TB)("esc",e)&&this.options.onClose&&(d(),null===(l=(c=this.options).onClose)||void 0===l||l.call(c))}scrollIntoView(e){let t=this.options.listScrollableContainer;if(t){if(0===this.activeIndex)t.scrollTop=0;else if(this.activeIndex===this.options.listLength-1)t.scrollTop=t.scrollHeight;else{let e=this.options.getListItem(this.activeIndex);null==e||e.scrollIntoView({block:"nearest"})}}}constructor(){(0,n._)(this,"activeIndex",0),(0,n._)(this,"options",void 0),(0,r.rC)(this)}}(0,o.gn)([s.SB],c.prototype,"activeIndex",void 0)},15364:function(e,t,i){"use strict";i.d(t,{q:function(){return A},Z:function(){return x}});var n=i(71576),o=i(34491),s=i(33381),a=i(18918),r=i(78716),l=i.n(r),c=i(46731),d=i(75372),h=i(49738),u=i(36047),p=i(12718),m={"avatar-wrapper":"avatar-wrapper--udjic",avatarWrapper:"avatar-wrapper--udjic",personal:"personal--zC52J",team:"team--g86N3","vip-tag":"vip-tag--yw3r9",vipTag:"vip-tag--yw3r9",starter:"starter--jHq5x",basic:"basic--BqSNy",boost:"boost--hyRcT",elite:"elite--pY26y"},g=i(66084),v=i(52921),f=i(88882),b=i(73047);class C extends o.PN{get S(){return f.S.Global.components.Avatar}onViewCreate(){}onViewDestroy(){}constructor(...e){super(...e),(0,g._)(this,"props",void 0),(0,g._)(this,"someState",!0)}}(0,v.gn)([o.SB],C.prototype,"someState",void 0),(0,v.gn)([b.Fl],C.prototype,"S",null);let A=o._Y.createComponent("Avatar",C,e=>{let{placement:t,size:i=24}=e.props,o=i+4,r=s.userController.isVipUser;return(0,n.jsx)(d.x,{trigger:"click",content:(0,n.jsx)(h.N,{}),placement:t,triggerNode:(0,n.jsxs)("div",{className:l()(m.avatarWrapper,{[m.personal]:r&&!a.teamController.isTeamAccount,[m.team]:r&&a.teamController.isTeamAccount}),style:{width:o,height:o},children:[(0,n.jsx)(u.Y,{circle:!0,size:i}),(0,n.jsx)(x,{})]}),closeAfterContentClick:!0})}),x=e=>{var t;let{className:i}=e,o=null===(t=s.userController.userVipStatus)||void 0===t?void 0:t.vipVersion;return o&&"free"!==o?(0,n.jsxs)("div",{className:l()(m.vipTag,m[o],i),children:[("starter"===o||"basic"===o)&&(0,n.jsx)(c.J,{name:"starter"}),"boost"===o&&(0,n.jsx)(c.J,{name:"boost"}),"elite"===o&&(0,n.jsx)(c.J,{name:"elite"}),"team"===o&&(0,n.jsx)(p.W,{size:8,color:"currentColor"})]}):null}},54526:function(e,t,i){"use strict";i.d(t,{f:function(){return n}});let n=i(75087).createContext(null)},76183:function(e,t,i){"use strict";i.d(t,{H:function(){return u}});var n=i(71576),o=i(34491),s=i(78716),a=i.n(s),r=i(46731),l={dropdownLabel:"dropdown-label--YdrdN",labelContent:"label-content--ELn64"},c=i(66084),d=i(52921);class h extends o.PN{onViewCreate(){}onViewDestroy(){}constructor(...e){super(...e),(0,c._)(this,"props",void 0),(0,c._)(this,"someState",!0)}}(0,d.gn)([o.SB],h.prototype,"someState",void 0);let u=o._Y.createComponent("DropdownLabel",h,e=>{let{label:t,icon:i,width:o="max-content",height:s="fit-content",maxWidth:c,minWidth:d,className:h,labelClassName:u,iconSize:p=16}=e.props;return(0,n.jsxs)("div",{style:{width:o,height:s,maxWidth:c,minWidth:d},className:a()(l.dropdownLabel,h),children:[i,(0,n.jsx)("div",{className:a()(l.labelContent,u),children:(0,n.jsx)("span",{children:t})}),(0,n.jsx)(r.J,{name:"monicaDown",color:"currentColor",className:(l.switchIcon,"monica-dropdown-label"),size:p,style:{color:"var(--theme-icon-quaternary)"}})]})})},5336:function(e,t,i){"use strict";i.d(t,{S:function(){return A}});var n=i(71576),o=i(34491),s=i(22046),a=i(56607),r=i(92235),l=i(31640),c=i(78716),d=i.n(c),h=i(87393),u=i(75372),p={languageSelectContent:"language-select-content--TQGMH",popoverOverlay:"popover-overlay--i9HqR"},m=i(32771),g=i(66084),v=i(52921),f=i(52825),b=i(73047);class C extends o.PN{get localeList(){let{includeLocales:e}=this.props;return e?f.sV.filter(t=>e.includes(t.locale)):f.sV}onViewCreate(){}onViewDestroy(){}constructor(...e){super(...e),(0,g._)(this,"props",void 0),(0,g._)(this,"popoverVisible",!1)}}(0,v.gn)([o.SB],C.prototype,"popoverVisible",void 0),(0,v.gn)([b.Fl],C.prototype,"localeList",null);let A=o._Y.createComponent("LanguageSelect",C,e=>{let{className:t,labelClassName:i,placement:o="bottomRight",popoverFullWidth:c,triggerNode:g,onOpenChange:v,popoverUseParentContainer:f,dropdownLabelClassName:b,dropdownLabelContentClassName:C,contentWidth:A=252,contentHeight:x=368,popoverWrapperClassName:y,open:S,getTooltipContainer:w,trigger:k,align:_,...j}=e.props,L=void 0!==S?S:e.popoverVisible;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(u.x,{destroyTooltipOnHide:!0,open:L,onOpenChange:t=>{e.popoverVisible=t,null==v||v(t)},trigger:k||["click"],placement:o,fullWidth:c,useParentContainer:f,getTooltipContainer:w,wrapperClassName:y,overlayClassName:p.popoverOverlay,align:_,className:i,content:(0,n.jsx)("div",{className:d()(p.languageSelectContent,{...h.C.getThemeClassNames()},t),onMouseDown:e=>e.stopPropagation(),onClick:e=>e.stopPropagation(),style:{width:A,height:x},children:(0,n.jsx)(m.i,{...j,onChange:(t,i)=>{var n;e.popoverVisible=!1,null===(n=j.onChange)||void 0===n||n.call(j,t,i)}})}),children:g||(0,n.jsx)(m.i,{showSelectLabel:!0,className:b,labelClassName:C,...j})}),"ui"===e.props.scene&&a.o.isWeb&&(0,n.jsx)("span",{style:{display:"none"},children:e.localeList.map(e=>(0,n.jsx)("a",{className:p.optionLink,href:r.m.genFullUrl(l.q.getPathWithLocale(e.locale,s.S.location.pathname)),children:e.localName},e.locale))})]})})},32771:function(e,t,i){"use strict";i.d(t,{i:function(){return j}});var n=i(71576),o=i(34491),s=i(48023),a=i(46731),r=i(37231),l=i(76183),c=i(78716),d=i.n(c),h=i(62499),u=i(96567),p=i.n(u),m={languageSelectContent:"language-select-content--c8srN",search:"search--pHjkb",input:"input--jnkZs",divider:"divider--McL5T",contentWrapper:"content-wrapper--_5bC3",listWrapper:"list-wrapper--rH01m",list:"list--k2jgJ",listItem:"list-item--oM8UO",selected:"selected--MURtK",active:"active--ELtAg",title:"title--Mx_90",titleText:"title-text--djdwM",titleIcon:"title-icon--DLKEQ",desc:"desc--LIkYj",searchResult:"search-result--YKV8U",empty:"empty--omTto",emptyIcon:"empty-icon--RTDBV",emptyDescription:"empty-description--PrigH",small:"small--ggC99",highlight:"highlight--QHqBE",selectBtn:"select-btn--l8gdJ",selectText:"select-text--lWlMA",followGlobalSettingLabel:"follow-global-setting-label--N4xuV",fromVideoSummary:"from-video-summary--jNL6x",fromTranslation:"from-translation--Ig5dl"},g=i(66084),v=i(52921),f=i(90180),b=i(33381),C=i(38172),A=i(88882),x=i(92235),y=i(31640),S=i(52825),w=i(39815),k=i(73047);class _ extends o.PN{get S(){return A.S.Global.components.LanguageSelect.LanguageSelectContent}get searchResult(){let e=this.keywords;return e?[...this.fixedList,...this.contentList].filter(t=>{if(t.label&&x.m.isLike(t.label,e)||t.desc&&x.m.isLike(t.desc,e))return!0;if(t.key){let i=y.q.getLocaleByComposeLanguage(t.key);if(x.m.isLike(i,e))return!0}return!1}):[]}get listLength(){return this.keywords?this.searchResult.length:this.fixedList.length+this.contentList.length}onViewCreate(){this.props.showSelectLabel||(this.initDataSource(),setTimeout(()=>{var e;null===(e=this.inputEl)||void 0===e||e.focus({preventScroll:!0}),this.listKeyboardManager.init({defaultActiveIndex:-1,listLength:this.listLength,getListItem:e=>{var t;let i="";return i=this.keywords?this.getListItemId(e,"search"):e<this.fixedList.length?this.getListItemId(e,"fixed"):this.getListItemId(e-this.fixedList.length,"content"),(null===(t=this.contentListScrollableContainer)||void 0===t?void 0:t.querySelector("#".concat(i)))||null},onEnter:(e,t)=>{let i,n;t&&(this.keywords?(i=this.searchResult[e].key,n=this.searchResult[e].label):this.fixedList[e]?(i=this.fixedList[e].key,n=this.fixedList[e].label):(i=this.contentList[e-this.fixedList.length].key,n=this.contentList[e-this.fixedList.length].label),this.handleListItemClick(i,n))},onClose:()=>{this.keywords&&this.handleKeywordsChange("")},keydownContainer:[this.inputEl],listScrollableContainer:this.contentListScrollableContainer})}))}onViewDestroy(){this.listKeyboardManager.destroy()}initDataSource(){"ui"===this.props.scene?this.initDataSourceForUiScene():this.initDataSourceForFunctionalScene()}handleKeywordsChange(e){this.keywords=e,setTimeout(()=>{this.listKeyboardManager.reset({listLength:this.listLength,defaultActiveIndex:0,listScrollableContainer:this.keywords?this.searchListScrollableContainer:this.contentListScrollableContainer})})}async handleListItemClick(e,t){if("ui"===this.props.scene&&null!==e&&"auto"!==e){let t=y.q.getLocaleByComposeLanguage(e);y.q.matchSupportedLocale(t)&&await C.W.setLocale(t)}this.props.onChange(e,t),"functional"===this.props.scene&&e&&"auto"!==e&&C.W.addUserLanguage(e)}convComposeLangToListItem(e){if("auto"===e){let{allowAutoDetect:e,detectLabel:t}=this.props;return e?{label:t?"".concat(t," (").concat(this.S.autoDetect,")"):this.S.autoDetect,key:"auto"}:{label:this.S.auto,desc:this.S.autoDesc,key:"auto"}}if(null===e){let e=f.A.finalGlobalRespondLanguage;if("auto"===e)return{label:this.S.followGlobalSetting,desc:this.S.auto,key:"auto"};let{originName:t,displayNameByCurrentUi:i}=this.getComposeLangDisplayData(e);return{label:this.S.followGlobalSetting,desc:"ui"===this.props.scene?t:i,key:null}}let{originName:t,displayNameByCurrentUi:i}=this.getComposeLangDisplayData(e);return"ui"===this.props.scene?{label:t,desc:i,key:e}:{label:i,desc:t,key:e}}getListItemId(e,t){return"monica-lang-select-content-".concat(t,"-").concat(e)}initDataSourceForUiScene(){let e=["en","es","es_419","ru","pt_BR"],{includeLocales:t}=this.props;t&&(e=e.filter(e=>t.includes(e))),this.initDataSourceByFixedLocaleList(e)}initDataSourceForFunctionalScene(){var e;let t=((null===(e=b.userController.userInfo)||void 0===e?void 0:e.languagePreferences)||[]).slice(0,5).flatMap(e=>{let t=S.sC[e];return t?[t.locale]:[]});t.includes(A.a.locale)||t.push(A.a.locale),t.includes("en")||t.push("en"),this.props.allowFollowSystem&&this.fixedList.push(this.convComposeLangToListItem(null)),this.props.allowAuto&&this.fixedList.push(this.convComposeLangToListItem("auto"));let{includeLocales:i}=this.props;i&&(t=t.filter(e=>i.includes(e))),this.initDataSourceByFixedLocaleList(t)}initDataSourceByFixedLocaleList(e){e.forEach(e=>{let t=y.q.getComposeLanguageByLocale(e);this.fixedList.push(this.convComposeLangToListItem(t))}),"ui"===this.props.scene?S.sV.forEach(t=>{if(!this.props.disableFixedList&&e.includes(t.locale)||this.props.includeLocales&&!this.props.includeLocales.includes(t.locale))return;let i=y.q.getComposeLanguageByLocale(t.locale);this.contentList.push(this.convComposeLangToListItem(i))}):Object.keys(S.sC).forEach(t=>{let i=S.sC[t];!(!this.props.disableFixedList&&e.includes(i.locale))&&(!this.props.includeLocales||this.props.includeLocales.includes(i.locale))&&this.contentList.push(this.convComposeLangToListItem(t))})}getComposeLangDisplayData(e){let t=S.sC[e];return t||console.log("compose language not found in lang select",e),{originName:(null==t?void 0:t.localeName)||e,displayNameByCurrentUi:y.q.getLanguageDisplayNameByComposeLanguage(A.a.locale,e),enName:e}}constructor(...e){super(...e),(0,g._)(this,"props",void 0),(0,g._)(this,"listKeyboardManager",new w.J),(0,g._)(this,"inputEl",null),(0,g._)(this,"searchListScrollableContainer",null),(0,g._)(this,"contentListScrollableContainer",null),(0,g._)(this,"keywords",""),(0,g._)(this,"fixedList",[]),(0,g._)(this,"contentList",[])}}(0,v.gn)([o.SB],_.prototype,"keywords",void 0),(0,v.gn)([o.SB],_.prototype,"fixedList",void 0),(0,v.gn)([o.SB],_.prototype,"contentList",void 0),(0,v.gn)([k.Fl],_.prototype,"S",null),(0,v.gn)([k.Fl],_.prototype,"searchResult",null),(0,v.gn)([k.Fl],_.prototype,"listLength",null);let j=o._Y.createComponent("LanguageSelectContent",_,e=>{if(e.props.showSelectLabel){let t=e.convComposeLangToListItem(e.props.value),i=e.props.value?t.label:t.desc||"",o=e.props.labelRender;return(o&&(i=o(i)),"blue"===e.props.selectLabelStyle)?(0,n.jsx)(s.u,{title:e.props.tooltipTitle||"",children:(0,n.jsxs)("span",{className:m.selectBtn,style:{maxWidth:e.props.maxWidth,width:e.props.width},onMouseDown:e=>{e.stopPropagation()},children:[(0,n.jsx)(a.J,{name:"writingLang",size:12}),(0,n.jsx)("span",{className:m.selectText,children:i}),(0,n.jsx)(a.J,{name:"arrow",size:12,style:{transform:"rotate(-90deg)"}})]})}):(0,n.jsx)(l.H,{label:i,width:e.props.width,height:e.props.height,icon:e.props.icon,iconSize:e.props.iconSize,maxWidth:e.props.maxWidth,minWidth:e.props.minWidth,className:e.props.className,labelClassName:d()(e.props.labelClassName,{[m.followGlobalSettingLabel]:null===e.props.value})})}return(0,n.jsxs)("div",{className:d()(m.languageSelectContent,{[m.fromVideoSummary]:e.props.fromVideoSummary,[m.fromTranslation]:e.props.fromTranslation,[m.small]:"small"===e.props.size}),children:[!e.props.disableSearch&&(0,n.jsx)("div",{className:m.search,children:(0,n.jsx)(r.I,{getInputRef:t=>{e.inputEl=t},value:e.keywords,className:m.input,placeholder:e.S.search,onChange:t=>{e.handleKeywordsChange(t)},stopPropagation:!0,autofocus:!0,type:"search",size:e.props.size})}),(0,n.jsxs)("div",{className:m.contentWrapper,children:[(0,n.jsxs)("div",{className:m.listWrapper,ref:t=>{e.contentListScrollableContainer=t},children:[!e.props.disableFixedList&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(D,{vm:e,list:e.fixedList,type:"fixed"}),(0,n.jsx)("div",{className:m.divider})]}),(0,n.jsx)(D,{vm:e,list:e.contentList,type:"content"})]}),e.keywords.length>0&&(0,n.jsx)(L,{vm:e})]})]})}),L=(0,h.Pi)(e=>{let{vm:t}=e;return 0===t.searchResult.length?(0,n.jsxs)("div",{className:d()(m.searchResult,m.empty),children:[(0,n.jsx)("div",{className:m.emptyIcon,children:(0,n.jsx)(a.J,{name:"monicaInputSearch",color:"currentColor"})}),(0,n.jsx)("div",{className:m.emptyDescription,children:t.S.emptyDesc})]}):(0,n.jsx)("div",{className:m.searchResult,ref:e=>{t.searchListScrollableContainer=e},children:(0,n.jsx)(D,{vm:t,list:t.searchResult,type:"search"})})}),D=(0,h.Pi)(e=>{let{vm:t,list:i,type:o}=e;return(0,n.jsx)("div",{className:m.list,children:i.map((e,i)=>{let s=t.props.value===e.key,r="search"===o||"fixed"===o?t.listKeyboardManager.activeIndex===i:t.listKeyboardManager.activeIndex-t.fixedList.length===i,l=t.getListItemId(i,o);return(0,n.jsxs)("div",{className:d()(m.listItem,{[m.active]:s,[m.selected]:r}),onClick:()=>{t.handleListItemClick(e.key,e.label)},id:l,children:[(0,n.jsxs)("span",{className:m.title,children:[(0,n.jsx)(p(),{className:m.titleText,textToHighlight:e.label,highlightClassName:m.highlight,searchWords:[t.keywords]}),(0,n.jsx)("span",{className:m.titleIcon,children:(0,n.jsx)(a.J,{name:"monicaSuccess",color:"currentColor"})})]}),e.desc&&(0,n.jsx)(p(),{className:m.desc,textToHighlight:e.desc,highlightClassName:m.highlight,searchWords:[t.keywords]})]},l)})})})},96299:function(e,t,i){"use strict";i.d(t,{t:function(){return h}});var n=i(71576),o=i(34491),s=i(12650),a=i(78716),r=i.n(a),l=i(66084),c=i(52921);class d extends o.PN{onViewCreate(){}onViewDestroy(){}constructor(...e){super(...e),(0,l._)(this,"props",void 0),(0,l._)(this,"someState",!0)}}(0,c.gn)([o.SB],d.prototype,"someState",void 0);let h=o._Y.createComponent("Pagination",d,e=>{let{className:t}=e.props;return(0,n.jsx)(s.Z,{...e.props,showSizeChanger:!1,className:r()(t,"pagination--tl8Xv")})})},59627:function(e,t,i){"use strict";i.d(t,{g:function(){return y}});var n=i(71576),o=i(34491),s=i(61658),a=i(46731),r=i(68104),l=i(96299),c=i(18245),d=i(82005),h=i(21320),u={dialogWrapper:"dialog-wrapper--l3JSa",creditsRecordsDialog:"credits-records-dialog--HnOg9",title:"title--fhEQA",content:"content--ei6II",records:"records--cT_z4",loadingBox:"loading-box--IDJtp",noData:"no-data--a18i6",empty:"empty--hj6tz",emptyDesc:"empty-desc--vLPQP",preWrap:"pre-wrap--lC2JW",footer:"footer--YYCNo"},p=i(66084),m=i(52921),g=i(15851),v=i(38172),f=i(11502),b=i(88882),C=i(92235);class A extends o.PN{get S(){return b.S.Global.components.Profile.CreditsRecordsDialog}get modelMap(){return{"gpt-4o-mini":this.S.basicQuery,genius:this.S.advanceQuery,"gpt-4o":"GPT-4o","claude_3.5_sonnet":"Claude 3.5 Sonnet",llama_3_1_405b:"Llama 3.1 405B",gemini_1_5:"Gemini 1.5 Pro",llama_3_1_70b_versatile:"Llama 3.1 70B",sdxl:"SDXL",sd3:"SD3",flux_pro:"Flux Pro",flux_dev:"Flux Dev",flux_schnell:"Flux Schnell",flux_schenll:"Flux Schnell",dalle3:"Dalle3",svd:"SVD",openai:"OpenAI",claude:"Claude",deepl:"DeepL"}}onViewCreate(){this.reportShow(),this.loadData()}onViewDestroy(){}async loadData(){try{this.loading=!0;let e=await v.W.getUsageRecords({module:"credits",offset:(this.page-1)*this.pageSize,limit:this.pageSize});this.list=e.data.items||[],this.total=e.data.total||this.total}catch(e){g.M.error(C.m.formatErrorMsg(e))}finally{this.loading=!1}}async onPageChange(e){this.page=e,this.loadData()}getDetail(e,t){if(!e)return"-";if("chat"===e||"model_bot"===e)return this.getChatDetail(t);if(this.imageFeat.includes(e))return this.getArtistDetail(t);if("profession_translate"===e)return this.getTranslateDetail(t);if("realtime"===e)return(0,b.x)(this.S.realtimeToken,{count:t.token});if("bypass"===e||"ai_content_detect"===e)return(0,b.x)(this.S.wordCount,{count:t.wordsUsed});if("audio_to_text"===e&&(null==t?void 0:t.audioSec))return h.L.formatDuration(t.audioSec);if("generate_podcast"===e){let{inputTokens:e,outputTokens:i,audioTokens:n}=t;if(void 0!==e||void 0!==i||void 0!==n)return(0,b.x)(this.S.aiPodcastDetail,{textInput:null!=e?e:0,textOutput:null!=i?i:0,audioGen:null!=n?n:0})}return"-"}getChatDetail(e){if(!e||!e.token&&!e.model)return"-";let t=[];return e.token&&t.push(this.formatToken(e.token)),e.model&&t.push("(".concat(this.modelMap[e.model]||e.model,")")),t.join("")}getArtistDetail(e){let t=[];return(null==e?void 0:e.imageCount)&&t.push((0,b.x)(this.S.imageNum,{count:e.imageCount})),(null==e?void 0:e.model)&&"MODEL_UNSPECIFIED"!==e.model&&t.push("(".concat(this.modelMap[e.model]||e.model,")")),t.join("")||"-"}getTranslateDetail(e){let t=[];return("number"==typeof e.token||"string"==typeof e.token)&&t.push(this.formatToken(e.token)),"string"==typeof(null==e?void 0:e.engine)&&t.push("(".concat(this.modelMap[e.engine]||e.engine,")")),t.join("")||""}formatToken(e){if("number"!=typeof e)return e;if(e<100)return e.toString();let t=e/1e3;return t<.1?"".concat(t.toFixed(2),"K"):"".concat(t.toFixed(1),"K")}reportShow(){f.M.createUserBehaviorEvent({eventName:"credits_records_dialog_show"})}constructor(...e){super(...e),(0,p._)(this,"props",void 0),(0,p._)(this,"loading",!0),(0,p._)(this,"page",1),(0,p._)(this,"pageSize",10),(0,p._)(this,"total",0),(0,p._)(this,"list",[]),(0,p._)(this,"imageFeat",["text_to_image","text_to_video","image_to_video","remove_bg","remove_text","inpainting","inpainting_mask","replace_bg","replace_bg_color","upscale","artist_bot:text_to_img","artist_bot:upscale","artist_bot:variations"])}}(0,m.gn)([o.SB],A.prototype,"loading",void 0),(0,m.gn)([o.SB],A.prototype,"page",void 0),(0,m.gn)([o.SB],A.prototype,"pageSize",void 0),(0,m.gn)([o.SB],A.prototype,"total",void 0),(0,m.gn)([o.SB],A.prototype,"list",void 0),(0,m.gn)([o.Fl],A.prototype,"S",null),(0,m.gn)([o.Fl],A.prototype,"modelMap",null);let x=o._Y.createComponent("CreditsRecordsDialog",A,e=>(0,n.jsxs)(r.u,{wrapperClassName:u.dialogWrapper,className:u.creditsRecordsDialog,onDispose:e.props.onDisposed,width:770,children:[(0,n.jsx)("div",{className:u.title,children:e.S.title}),(0,n.jsx)("div",{className:u.content,children:(0,n.jsxs)("table",{className:u.records,children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:e.S.date}),(0,n.jsx)("th",{children:e.S.feat}),(0,n.jsx)("th",{children:e.S.detail}),(0,n.jsx)("th",{children:e.S.used})]})}),(0,n.jsx)("tbody",{children:e.loading?(0,n.jsx)("tr",{children:(0,n.jsx)("td",{colSpan:4,className:u.loadingBox,children:(0,n.jsx)(s.g,{fullScreen:!0})})}):0===e.list.length?(0,n.jsx)("tr",{children:(0,n.jsxs)("td",{colSpan:4,className:u.noData,children:[(0,n.jsx)("span",{className:u.empty,children:(0,n.jsx)(a.J,{name:"zanwuneirong-liangse",size:100})}),(0,n.jsx)("p",{className:u.emptyDesc,children:e.S.emptyText})]})}):e.list.map((t,i)=>{var o,s,a,r,l;let d=(null===(o=t.description)||void 0===o?void 0:o.type)||"-",p=(null===(a=t.description)||void 0===a?void 0:null===(s=a.info)||void 0===s?void 0:s.feature)||"-",m=null===(l=t.description)||void 0===l?void 0:null===(r=l.info)||void 0===r?void 0:r.info,g="buy"===d;return(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:t.createdAt?h.L.formatTime(t.createdAt,"LL"):"-"}),(0,n.jsx)("td",{children:g?e.S.extBuy:c.K.featureMap[p]||p}),(0,n.jsx)("td",{className:u.preWrap,children:g?"-":e.getDetail(p,m)}),(0,n.jsxs)("td",{children:["buy"===d?"+":"",c.K.formatCredits(t.amount,!0)]})]},i)})})]})}),(0,n.jsx)("div",{className:u.footer,children:(0,n.jsx)(l.t,{total:e.total,pageSize:e.pageSize,current:e.page,onChange:t=>{e.onPageChange(t)}})})]})),y=d.t.createOpener(x,{singleton:!0})},49738:function(e,t,i){"use strict";i.d(t,{N:function(){return D}});var n=i(71576),o=i(34491),s=i(54526),a=i(33381),r=i(67061),l=i(11502),c=i(38172),d=i(78716),h=i.n(d),u=i(62499),p=i(75087),m=i(15364),g=i(46731),v=i(36047),f=i(16795),b={profile:"profile--bKvb3",header:"header--wrCYj",avatar:"avatar--UotfZ",starter:"starter--N858D",basic:"basic--IepkC",boost:"boost--EImNe",elite:"elite--njfb5",team:"team--q7lE3","vip-icon":"vip-icon--pSdzu",vipIcon:"vip-icon--pSdzu","user-info":"user-info--t4KAN",userInfo:"user-info--t4KAN","user-info-left":"user-info-left--dKMd0",userInfoLeft:"user-info-left--dKMd0","user-name":"user-name--w7Lq5",userName:"user-name--w7Lq5","user-email":"user-email--rK1oH",userEmail:"user-email--rK1oH",container:"container--FGVGK","query-info":"query-info--EhY1y",queryInfo:"query-info--EhY1y","menu-list":"menu-list--O5VCJ",menuList:"menu-list--O5VCJ","menu-item":"menu-item--dwbLe",menuItem:"menu-item--dwbLe","sign-out":"sign-out--bphX8",signOut:"sign-out--bphX8","queries-progress":"queries-progress--lZvuC",queriesProgress:"queries-progress--lZvuC","vip-tag":"vip-tag--QJstK",vipTag:"vip-tag--QJstK"},C=i(66084),A=i(52921),x=i(18918),y=i(88882),S=i(92235),w=i(56607),k=i(73047),_=i(73361);class j extends o.PN{get S(){return y.S.Global.components.Profile}get menuData(){return[{id:"myAccount",url:S.m.getAccountPageUrl({from:"extension_v4_profile"}),name:y.S.Global.components.Profile.billingAndAccount,paymentETFrom:"profile_box_billing_and_account_click"},{id:"myTeam",url:x.teamController.genTeamMemberPageUrl(),name:y.S.Global.components.Profile.myTeam,hide:!x.teamController.isTeamAccount},{id:"helpCenter",url:S.m.getHelpCenterPageUrl({from:"extension_v4_profile"}),name:y.S.Global.components.Profile.helpCenter},{id:"feedback",url:S.m.getFeedbackPageUrl(),name:y.S.Global.components.Profile.feedback,hide:!w.o.isChatPDF}]}onViewCreate(){a.userController.fetchUserInfo(),a.userController.fetchVipStatus(),_.gM.updateUsageInfos()}onViewDestroy(){}constructor(...e){super(...e),(0,C._)(this,"props",void 0)}}(0,A.gn)([k.Fl],j.prototype,"S",null),(0,A.gn)([k.Fl],j.prototype,"menuData",null);var L=i(98957);let D=o._Y.createComponent("Profile",j,e=>{var t,i,o,l,c;let d=a.userController.isVipUser,u=null===(t=a.userController.userVipStatus)||void 0===t?void 0:t.vipVersion,g=(0,p.useContext)(s.f),C=(null==g?void 0:g.from)==="artifactBuilder";return(0,n.jsxs)("div",{className:b.profile,children:[(0,n.jsxs)("div",{className:b.header,children:[(0,n.jsxs)("div",{className:h()(b.avatar,u&&b[u],{[b.isVip]:d}),children:[(0,n.jsx)(v.Y,{size:50,circle:!0}),(0,n.jsx)(m.Z,{className:b.vipIcon})]}),(0,n.jsx)("div",{className:b.userInfo,children:(0,n.jsxs)("div",{className:b.userInfoLeft,children:[(0,n.jsx)("div",{className:b.userName,children:C?null===(i=a.userController.userInfo)||void 0===i?void 0:i.name:r.L.privacyGuard(null===(o=a.userController.userInfo)||void 0===o?void 0:o.name)}),(0,n.jsx)("div",{className:b.userEmail,children:C?null===(l=a.userController.userInfo)||void 0===l?void 0:l.email:r.L.privacyGuard(null===(c=a.userController.userInfo)||void 0===c?void 0:c.email)})]})})]}),(0,n.jsxs)("div",{className:b.container,children:[a.userController.shouldEnableTeam&&(0,n.jsx)(f.b,{mode:"mini"}),(0,n.jsx)(L.e,{className:b.queryInfo,source:"profile",upgradeSource:e.props.source}),(0,n.jsx)(E,{vm:e})]})]})}),E=(0,u.Pi)(e=>{let{vm:t}=e;return(0,n.jsxs)("div",{className:b.menuList,children:[t.menuData.map(e=>{let{name:t,url:i,paymentETFrom:o,hide:s}=e;return!s&&(0,n.jsxs)("div",{onClick:()=>{window.open(i),o&&l.M.trackPaymentEvent({source:o})},className:b.menuItem,children:[(0,n.jsx)("span",{children:t}),(0,n.jsx)(g.J,{name:"arrow-y",size:16,color:"currentColor"})]},t)}),(0,n.jsx)("div",{className:b.menuItem,onClick:()=>{c.W.logout()},children:(0,n.jsx)("span",{className:b.signOut,children:t.S.signOut})})]})})},98957:function(e,t,i){"use strict";i.d(t,{e:function(){return R}});var n=i(71576),o=i(34491),s=i(4461),a=i(61658),r=i(58812),l=i(66084);class c extends o.PN{constructor(...e){super(...e),(0,l._)(this,"props",void 0)}}var d=JSON.parse('{"fill":"none","content":"\\n<path d=\\"M20.7169 8.4631C19.7941 7.54633 18.5436 7.03143 17.2398 7.03143C15.936 7.03143 14.6855 7.54633 13.7627 8.4631L13.1148 9.10799L11.9226 10.2946L10.8428 9.21977L10.0826 8.4631C9.39485 7.77851 8.51862 7.31229 7.56468 7.12339C6.61074 6.93448 5.62195 7.03138 4.72334 7.40184C3.82474 7.77229 3.05668 8.39966 2.5163 9.2046C1.97593 10.0095 1.6875 10.9559 1.6875 11.924C1.6875 12.8921 1.97593 13.8385 2.5163 14.6434C3.05668 15.4483 3.82474 16.0757 4.72334 16.4462C5.62195 16.8166 6.61074 16.9135 7.56468 16.7246C8.51862 16.5357 9.39485 16.0695 10.0826 15.3849L10.7305 14.74L11.9226 13.5534L13.0025 14.6282L13.7648 15.3741C14.2129 15.8621 14.7556 16.2547 15.3602 16.5282C15.9648 16.8017 16.6189 16.9505 17.2828 16.9655C17.9468 16.9806 18.6069 16.8616 19.2235 16.6158C19.84 16.37 20.4001 16.0025 20.87 15.5353C21.3399 15.0682 21.7099 14.5111 21.9576 13.8978C22.2053 13.2845 22.3257 12.6275 22.3114 11.9667C22.2971 11.3058 22.1484 10.6546 21.8744 10.0525C21.6003 9.45032 21.2066 8.90966 20.7169 8.4631ZM9.09776 13.0998L8.44985 13.7447C8.08705 14.1046 7.62525 14.3494 7.12277 14.4482C6.62029 14.547 6.09966 14.4954 5.62662 14.2999C5.15359 14.1044 4.74936 13.7737 4.46499 13.3497C4.18061 12.9257 4.02884 12.4274 4.02884 11.9175C4.02884 11.4077 4.18061 10.9094 4.46499 10.4854C4.74936 10.0613 5.15359 9.73071 5.62662 9.53521C6.09966 9.33971 6.62029 9.2881 7.12277 9.38691C7.62525 9.48572 8.08705 9.73051 8.44985 10.0904L9.23166 10.8685L10.2877 11.9175L9.09776 13.0998ZM19.0734 13.7447C18.8326 13.9852 18.5465 14.176 18.2315 14.3062C17.9165 14.4364 17.5787 14.5034 17.2376 14.5034C16.8965 14.5034 16.5588 14.4364 16.2438 14.3062C15.9288 14.176 15.6427 13.9852 15.4019 13.7447L14.6158 12.9666L13.5705 11.9197L14.7518 10.746L15.3997 10.1011C15.8866 9.61652 16.5469 9.34427 17.2355 9.34427C17.924 9.34427 18.5843 9.61652 19.0712 10.1011C19.5581 10.5857 19.8316 11.243 19.8316 11.9283C19.8316 12.6136 19.5581 13.2709 19.0712 13.7555L19.0734 13.7447Z\\" fill=\\"url(#paint0_linear_752_69128)\\"/>\\n<path d=\\"M13.1148 9.109L13.7627 8.46411L15.3997 10.1021L14.7518 10.747L13.5705 11.9207L11.9226 10.2956L13.1148 9.109Z\\" fill=\\"url(#paint1_linear_752_69128)\\"/>\\n<path d=\\"M10.7311 14.7424L10.0832 15.3873L8.45044 13.7471L9.09835 13.1022L10.2883 11.9199L11.9232 13.5558L10.7311 14.7424Z\\" fill=\\"url(#paint2_linear_752_69128)\\"/>\\n<defs>\\n<linearGradient id=\\"paint0_linear_752_69128\\" x1=\\"12\\" y1=\\"7.0293\\" x2=\\"13.8462\\" y2=\\"20.3057\\" gradientUnits=\\"userSpaceOnUse\\">\\n<stop stop-color=\\"white\\"/>\\n<stop offset=\\"1\\" stop-color=\\"#9F9FA9\\"/>\\n</linearGradient>\\n<linearGradient id=\\"paint1_linear_752_69128\\" x1=\\"14.7694\\" y1=\\"9.69097\\" x2=\\"13.3847\\" y2=\\"11.0756\\" gradientUnits=\\"userSpaceOnUse\\">\\n<stop stop-color=\\"#E4E4E6\\"/>\\n<stop offset=\\"1\\" stop-color=\\"#BFBFC5\\"/>\\n</linearGradient>\\n<linearGradient id=\\"paint2_linear_752_69128\\" x1=\\"10.1868\\" y1=\\"11.9199\\" x2=\\"8.76955\\" y2=\\"14.3069\\" gradientUnits=\\"userSpaceOnUse\\">\\n<stop stop-color=\\"#C6C6CB\\"/>\\n<stop offset=\\"1\\" stop-color=\\"#BFBFC5\\" stop-opacity=\\"0\\"/>\\n</linearGradient>\\n</defs>\\n</svg>\\n","viewBox":"0 0 24 24"}');let h=o._Y.createComponent("LightUnlimitedIcon",c,e=>(0,n.jsx)(r.s,{...e.props,name:"LightUnlimitedIcon",iconData:d}));var u=i(39169),p=i(5857),m=i(53040),g=i(77397),v=i(46731),f=i(33381),b=i(18918),C=i(87393),A=i(11502),x=i(24797),y=i(92235),S=i(88882),w=i(95782),k=i(78716),_=i.n(k),j=i(62499),L=i(47720),D=i(48023),E=i(60445),N={featureTitle:"feature-title--GeqPD",light:"light--bKmif",features:"features--KJVFR",featureItem:"feature-item--sMTg2",icon:"icon--oTVY0",name:"name--j2lX6",text:"text--LAGUW",qs:"qs--vSB0t",play:"play--HTqpZ",tooltipLink:"tooltip-link--KFb88"},M=i(52921),T=i(73047);class I extends o.PN{get S(){return S.S.Global.components.Profile.Features}get features(){let e={icon:"gpt4",name:this.S.unlimited,tip:L.serverConfigController.copywritingManager.unlimitedQueriesTip,anchor:y.m.genFullUrl("".concat(E.Cl.learningCenter,"?id=introduction&vIdx=1"))},t={icon:"mYoutube",name:this.S.pageSummary,anchor:y.m.genFullUrl("".concat(E.Cl.learningCenter,"?id=aiSummary&vIdx=0"))},i={icon:"aiTools",name:this.S.artist,anchor:y.m.genFullUrl("".concat(E.Cl.learningCenter,"?id=introduction&vIdx=4"))},n={icon:"linkedin-industry-news",name:this.S.advanceFeat,anchor:y.m.genFullUrl("".concat(E.Cl.learningCenter,"?id=aiSummary&vIdx=3"))},o=this.S.title;return f.userController.isUnlimitedUser?{title:o,list:[e,i,t,n]}:f.userController.isVipUser?{title:o,list:[{icon:"gpt4",name:this.S.accessToGpt,anchor:y.m.genFullUrl("".concat(E.Cl.learningCenter,"?id=introduction&vIdx=1"))},i,t,n]}:{title:this.S.upgrade,list:[e,i,t,n]}}onViewCreate(){}onViewDestroy(){}openVideo(e){window.open(e,"_blank","noreferrer noopener")}constructor(...e){super(...e),(0,l._)(this,"props",void 0)}}(0,M.gn)([T.Fl],I.prototype,"S",null),(0,M.gn)([T.Fl],I.prototype,"features",null);let B=o._Y.createComponent("Features",I,e=>{let t={[N.light]:"light"===e.props.theme};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:_()(N.featureTitle,t),children:(0,n.jsx)("span",{children:e.features.title})}),(0,n.jsx)("div",{className:_()(N.features,t),children:e.features.list.map(t=>(0,n.jsxs)("div",{className:N.featureItem,onClick:()=>{e.openVideo(t.anchor)},children:[(0,n.jsx)(v.J,{className:N.icon,name:t.icon,color:"currentColor",size:16}),(0,n.jsxs)("div",{className:N.name,children:[(0,n.jsx)("span",{className:N.text,children:t.name}),t.tip&&(0,n.jsx)(D.u,{title:(0,n.jsx)(w.Z,{S:t.tip,components:{"plan-rules":e=>(0,n.jsx)("a",{className:N.tooltipLink,href:y.m.getHelpCenterPageUrl({},E.se.planRules),target:"_blank",rel:"noopener noreferrer",onClick:e=>{e.stopPropagation()},children:e})}}),children:(0,n.jsx)("span",{className:N.qs,children:(0,n.jsx)(v.J,{name:"question",size:16,color:"var(--theme-icon-quaternary)"})})})]}),(0,n.jsx)(v.J,{className:N.play,name:"playCircle",color:"currentColor",size:18})]},t.name))})]})});var P=i(14219),O={loading:"loading--PcJfb",queryInfo:"query-info--XPICR",planInfo:"plan-info--FQN5R",plan:"plan--ztmi7",upgradeButton:"upgrade-button--kOhAb",teamPlanInfo:"team-plan-info--b4ZSA",label:"label--F0odu",value:"value--gSuLb",dark:"dark--jnWca",queriesUsage:"queries-usage--dDF1N",usages:"usages--Iuz4P",divider:"divider--EzamT",light:"light--q6Hu8",inviteBanner:"invite-banner--whHUT",cont:"cont--pULU7",name:"name--Wpb7i",desc:"desc--HZ_Zz"};class U extends o.PN{get S(){return S.S.Global.components.Profile}onViewCreate(){}onViewDestroy(){}constructor(...e){super(...e),(0,l._)(this,"props",void 0)}}(0,M.gn)([o.Fl],U.prototype,"S",null);let R=o._Y.createComponent("QueryInfo",U,e=>{let{theme:t,source:i,upgradeSource:o,className:r,inviteBannerClass:l}=e.props,c="light"===t,d=f.userController.userVipStatus,g=d.vipVersion,v=g&&"free"!==g?L.serverConfigController.copywritingManager.getVersionDisplayName(g,!0):e.S.free01;return d?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:_()(O.queryInfo,{[O.light]:c},r),children:[b.teamController.isTeamAccount?(0,n.jsxs)("div",{className:_()(O.teamPlanInfo,{[O.dark]:C.C.isDark}),children:[(0,n.jsx)("div",{className:O.label,children:e.S.teamPlan}),(0,n.jsxs)("div",{className:O.value,children:[C.C.isDark?(0,n.jsx)(h,{size:24}):(0,n.jsx)(u.q,{size:24}),(0,n.jsx)("span",{children:"Unlimited"})]})]}):(0,n.jsxs)("div",{className:O.planInfo,children:[(0,n.jsxs)("div",{className:O.plan,children:[(0,n.jsxs)("span",{children:[e.S.plan01,":"]}),(0,n.jsx)("strong",{children:v})]}),"elite"!==g&&(0,n.jsx)(p.z,{className:O.upgradeButton,type:"soft",color:"primary",size:"small",shape:"round",animation:"sheen",icon:(0,n.jsx)(m.E,{className:O.icon,src:(0,s.Q)(x.Z)}),onClick:()=>{f.userController.upgrade(null!=o?o:"profile_popover_upgrade_click")},children:e.S.upgrade})]}),!b.teamController.isTeamAccount&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(F,{}),(0,n.jsx)("div",{className:O.divider}),e.props.alertSlot]}),(0,n.jsx)(B,{theme:e.props.theme}),c&&(0,n.jsx)(H,{vm:e,source:i,className:l})]}),!c&&(0,n.jsx)(H,{vm:e,source:i,className:l})]}):(0,n.jsx)("div",{className:O.loading,children:(0,n.jsx)(a.g,{size:32})})}),F=(0,j.Pi)(()=>(0,n.jsx)("div",{className:O.queriesUsage,children:(0,n.jsxs)("div",{className:O.usages,children:[(0,n.jsx)(P.x,{usageModule:"basic_query"}),(0,n.jsx)(P.x,{usageModule:"genius_bot"}),(0,n.jsx)(P.x,{usageModule:"credits"})]})})),H=(0,j.Pi)(e=>{let{vm:t,source:i,className:o}=e;return f.userController.isFreeUser?(0,n.jsx)(g.j,{onViewCreate:()=>{A.M.createUserBehaviorEvent({eventName:"invite_banner_show",source:i})},children:(0,n.jsx)("div",{className:_()(O.inviteBanner,o),onClick:()=>{A.M.createUserBehaviorEvent({eventName:"invite_banner_click",source:i}),window.open(y.m.getInvitationLandingPageUrl(S.a.locale,{source:i||""}),"__blank","noreferrer noopener")},children:(0,n.jsxs)("div",{className:O.cont,children:[(0,n.jsx)(v.J,{name:"giftColor",size:24}),(0,n.jsx)("span",{className:O.name,children:t.S.invite}),(0,n.jsx)("span",{className:O.desc,children:(0,n.jsx)(w.Z,{S:t.S.inviteBonus,components:{b:e=>(0,n.jsx)("b",{children:e})}})})]})})}):null})},14219:function(e,t,i){"use strict";i.d(t,{x:function(){return v}});var n=i(71576),o=i(34491),s=i(18245),a=i(67061),r=i(46731),l=i(48023),c=i(97986),d={usageInfo:"usage-info--M8TFl",queriesInfo:"queries-info--KcOFz",queriesInfoTitle:"queries-info-title--HZ9fF",infoIcon:"info-icon--IW0RX",unlimited:"unlimited--sVJM9",tip:"tip--jpK4e"},h=i(66084),u=i(52921),p=i(88882),m=i(73047);class g extends o.PN{get S(){return p.S.Global.components.Profile}get displayData(){let{usageModule:e}=this.props;switch(e){case"basic_query":return{queriesName:this.S.standardQueries,icon:"normalQuery"};case"genius_bot":return{queriesName:this.S.advancedQueries,icon:"advancedQuery"};case"credits":return{queriesName:this.S.credits,icon:"credits"}}return{queriesName:"",icon:"",tooltip:""}}onViewCreate(){}onViewDestroy(){}constructor(...e){super(...e),(0,h._)(this,"props",void 0),(0,h._)(this,"someState",!0)}}(0,u.gn)([o.SB],g.prototype,"someState",void 0),(0,u.gn)([m.Fl],g.prototype,"S",null),(0,u.gn)([m.Fl],g.prototype,"displayData",null);let v=o._Y.createComponent("UsageInfo",g,e=>{let{usageModule:t}=e.props,{displayFinallyCanUsed:i,displayFinallyTotal:o}=s.K.getUsageInfo(t),l="credits"!==t&&s.K.checkQuotaIsUnlimited(o);return(0,n.jsx)(f,{icon:e.displayData.icon,name:e.displayData.queriesName,tip:(0,n.jsx)(c.U,{usageModule:t,fallback:(0,n.jsx)(n.Fragment,{children:e.displayData.tooltip})}),children:l?(0,n.jsx)(r.J,{className:d.unlimited,name:"monicaUnlimited",size:18,color:"currentColor"}):(0,n.jsx)("span",{className:d.queriesInfoTitle,children:a.L.privacyGuard(i)})})}),f=e=>{let{icon:t,name:i,tip:o,children:s}=e;return(0,n.jsx)("div",{className:d.usageInfo,children:(0,n.jsxs)("div",{className:d.queriesInfo,children:[(0,n.jsxs)("span",{className:d.queriesInfoTitle,children:[(0,n.jsx)(r.J,{name:t,size:16}),i,(0,n.jsx)(l.u,{getTooltipContainer:e=>e.parentElement,title:o,overlayClassName:d.tip,children:(0,n.jsx)("span",{className:d.infoIcon,children:(0,n.jsx)(r.J,{name:"monicaFeedback",size:16,color:"#8a939d"})})})]}),s]})})}},97986:function(e,t,i){"use strict";i.d(t,{U:function(){return y}});var n=i(71576),o=i(34491),s=i(18245),a=i(18918),r=i(33381),l=i(95782),c=i(92235),d=i(60445),h=i(62499),u=i(5857),p=i(46731),m={quotaPanel:"quota-panel--Ce2Wd",title:"title--T7dV4",current:"current--p7jI4",value:"value--WN35y",quotaList:"quota-list--ZLhVN",addon:"addon--ox0Ba",divider:"divider--PHmgW",descText:"desc-text--lkZIO",linkBtn:"link-btn--OzA3i",arrow:"arrow--qt5Vm"},g=i(66084),v=i(52921),f=i(11502),b=i(88882),C=i(56607),A=i(59627);class x extends o.PN{get S(){return b.S.Global.components.Profile.UsageInfoPanel}get isFreePlan(){var e;let t=null===(e=r.userController.userVipStatus)||void 0===e?void 0:e.vipVersion;return t&&"free"===t}get isModuleUnlimited(){let{usageModule:e}=this.props,{planTotal:t}=s.K.getUsageInfo(e);return"credits"!==e&&s.K.checkQuotaIsUnlimited(t)}get title(){let{usageModule:e}=this.props;return"basic_query"===e?this.S.basic:"genius_bot"===e?this.S.advance:"credits"===e?this.S.credits:e}get leftQuotaLabel(){let{usageModule:e}=this.props;return"credits"===e?this.S.creditsLeft:this.S.quotaLeft}get usageList(){return[this.planQuota,this.rewardQuota,this.extQuota].filter(e=>!!e)}get usedInfo(){let{usageModule:e}=this.props;if("credits"===e||!this.isModuleUnlimited)return null;let{planUsed:t}=s.K.getUsageInfo(e);return{name:this.S.usedQueries,value:t,list:this.usageList}}get planQuota(){let{usageModule:e}=this.props,{planTotal:t,planCanUsed:i,planUsed:n}=s.K.getUsageInfo(e);return this.isFreePlan?"basic_query"===e?{label:this.isFreePlan?this.S.freeUsage:this.S.moUsage,isUnlimited:this.isModuleUnlimited,remain:i,total:t,used:n}:null:"credits"===e?{label:this.S.moCredits,remain:i,total:t,used:n}:{label:this.S.moUsage,isUnlimited:this.isModuleUnlimited,remain:i,total:t,used:n}}get rewardQuota(){let{usageModule:e}=this.props,{rewardTotal:t,rewardCanUsed:i,rewardUsed:n}=s.K.getUsageInfo(e),o=s.K.checkQuotaIsUnlimited(t);return t<=0?null:{label:this.S.rewards,remain:i,total:t,used:n,isUnlimited:o,hideTotal:!0}}get extQuota(){let{usageModule:e}=this.props,{extTotal:t,extCanUsed:i,extUsed:n}=s.K.getUsageInfo(e);return t<=0?null:"credits"===e?{label:this.S.addonCredits,remain:i,total:t,hideTotal:!0,used:n}:{label:this.S.addonQueries,remain:i,total:t,hideTotal:!0,used:n}}onViewCreate(){}onViewDestroy(){}checkCreditsDetail(){"web-billing-page"===C.o.entryType?(0,A.g)({insertTarget:"mainWindow"}):window.open(c.m.genUrl("".concat(c.m.getWebOrigin()).concat(d.Cl.billing),{dialog:"credits"}))}reportClick(e){f.M.createUserBehaviorEvent({eventName:"usage_info_panel_click",extData:{button:e}})}constructor(...e){super(...e),(0,g._)(this,"props",void 0),(0,g._)(this,"someState",!0)}}(0,v.gn)([o.SB],x.prototype,"someState",void 0),(0,v.gn)([o.Fl],x.prototype,"S",null),(0,v.gn)([o.Fl],x.prototype,"isFreePlan",null),(0,v.gn)([o.Fl],x.prototype,"isModuleUnlimited",null),(0,v.gn)([o.Fl],x.prototype,"title",null),(0,v.gn)([o.Fl],x.prototype,"leftQuotaLabel",null),(0,v.gn)([o.Fl],x.prototype,"usageList",null),(0,v.gn)([o.Fl],x.prototype,"usedInfo",null),(0,v.gn)([o.Fl],x.prototype,"planQuota",null),(0,v.gn)([o.Fl],x.prototype,"rewardQuota",null),(0,v.gn)([o.Fl],x.prototype,"extQuota",null);let y=o._Y.createComponent("UsageInfoPanel",x,e=>{let{usageModule:t}=e.props,{displayFinallyCanUsed:i}=s.K.getUsageInfo(t),o=e.isModuleUnlimited?(0,n.jsx)(p.J,{name:"monicaUnlimited",size:18}):i;return(0,n.jsx)(k,{title:e.title,quotaName:e.leftQuotaLabel,quotaLeft:o,list:e.usageList,usedInfo:e.usedInfo,listAddon:a.teamController.isTeamAccount||e.isFreePlan||"credits"!==t?void 0:(0,n.jsx)("div",{className:m.addon,children:(0,n.jsxs)(u.z,{className:m.linkBtn,type:"text-primary",onClick:()=>{e.reportClick("credits_details"),e.checkCreditsDetail()},children:[(0,n.jsx)("span",{children:e.S.creditsDetail}),(0,n.jsx)(p.J,{className:m.arrow,name:"backArrow",size:16,color:"currentColor"})]})}),footer:(0,n.jsx)(S,{vm:e,usageModule:t})})}),S=(0,h.Pi)(e=>{let{vm:t,usageModule:i}=e;return"basic_query"===i?(0,n.jsxs)("div",{className:m.descText,children:[t.S.basicTip,"\xa0",t.isFreePlan?t.S.freeUsageReset:t.S.moUsageReset]}):"genius_bot"===i?(0,n.jsxs)("div",{className:m.descText,children:[t.S.advanceTip,"\xa0",!t.isFreePlan&&t.S.moUsageReset]}):"credits"===i?(0,n.jsx)(w,{vm:t}):null}),w=(0,h.Pi)(e=>{var t;let{vm:i}=e,o=null===(t=r.userController.userVipStatus)||void 0===t?void 0:t.vipVersion,s=[];return o&&"free"===o?s.push(i.S.creditsForFreeUser):(s.push(i.S.creditsForVipUser),a.teamController.isTeamAccount||s.push(i.S.creditsPurchase)),(0,n.jsx)(n.Fragment,{children:s.map((e,t)=>(0,n.jsx)("div",{className:m.descText,children:(0,n.jsx)(l.Z,{S:e,components:{more:e=>(0,n.jsx)("a",{href:c.m.getHelpCenterPageUrl({},d.se.creditsRule),target:"_blank",rel:"noopener noreferrer",onClick:()=>{i.reportClick("credits_more")},children:e}),buy:e=>(0,n.jsx)("a",{href:c.m.getCreditsPageUrl({source:"usage_info_panel"}),target:"_blank",rel:"noopener noreferrer",onClick:()=>{i.reportClick("credits_buy")},children:e})}})},t))})}),k=e=>{let{title:t,quotaName:i,quotaLeft:o,list:s,usedInfo:a,listAddon:r,footer:l}=e,c=(e,t)=>(0,n.jsxs)("li",{children:[(0,n.jsx)("label",{children:e}),(0,n.jsx)("span",{className:m.value,children:t})]},e);return(0,n.jsxs)("div",{className:m.quotaPanel,children:[(0,n.jsx)("div",{className:m.title,children:t}),(0,n.jsxs)("div",{className:m.current,children:[(0,n.jsx)("label",{children:i}),(0,n.jsx)("span",{className:m.value,children:o})]}),!!(null==s?void 0:s.length)&&(0,n.jsx)("ul",{className:m.quotaList,children:null==s?void 0:s.map(e=>e.hideTotal?c(e.label,e.remain):e.isUnlimited?c(e.label,(0,n.jsx)(p.J,{name:"monicaUnlimited",size:18})):c(e.label,(0,n.jsxs)(n.Fragment,{children:[e.remain,"\xa0/\xa0",e.total]})))}),a&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:m.current,children:[(0,n.jsx)("label",{children:a.name}),(0,n.jsx)("span",{className:m.value,children:a.value})]}),!!(null==s?void 0:s.length)&&(0,n.jsx)("ul",{className:m.quotaList,children:null==s?void 0:s.map(e=>c(e.label,e.used))})]}),r,(0,n.jsx)("div",{className:m.divider}),l]})}},36047:function(e,t,i){"use strict";i.d(t,{Y:function(){return g}});var n=i(71576),o=i(34491),s=i(4461),a=i(33381),r=i(67061),l={src:"https://assets.monica.im/home-web/_next/static/media/defaultAvatar.d2c316b9.png",height:64,width:64,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAHlBMVEXh5OpMaXHl5+3i4ujX2d/e4efd4Ofi5erv8fb4+PkFAl86AAAAB3RSTlPzALEtMLW1ed9kNQAAAAlwSFlzAAAWJQAAFiUBSVIk8AAAADNJREFUeJxFyrERACAMA7FPAtjef2GOik6FqNmwp1hYMos2idwgJRIP9kPbid0/1xw4UxcqKgEwprnbqgAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},c=i(78716),d=i.n(c),h={userAvatar:"user-avatar--xy2hC",avatar:"avatar--FvlOj",loaded:"loaded--p2Y7G",default:"default--SGR8y",isClickable:"is-clickable--TwVsN",hasBorder:"has-border--mu48y"},u=i(66084),p=i(52921);class m extends o.PN{onViewCreate(){var e;(null===(e=this.imgEl)||void 0===e?void 0:e.complete)&&(this.loaded=!0)}onViewDestroy(){}constructor(...e){super(...e),(0,u._)(this,"props",void 0),(0,u._)(this,"loaded",!1),(0,u._)(this,"imgEl",null)}}(0,p.gn)([o.SB],m.prototype,"loaded",void 0);let g=o._Y.createComponent("UserAvatar",m,e=>{var t,i;let{src:o,className:c,circle:u,borderRadius:p,size:m=20,onClick:g,hasBorder:v}=e.props;u&&(p=m/2);let f=r.L.privacyGuard(null!==(i=null!=o?o:null===(t=a.userController.userInfo)||void 0===t?void 0:t.avatar)&&void 0!==i?i:"","https://no_data");return(0,n.jsxs)("span",{className:d()(h.userAvatar,c,{[h.loaded]:e.loaded,[h.isClickable]:!!g,[h.hasBorder]:v}),style:{minWidth:m,width:m,height:m,borderRadius:p},onClick:g,children:[f&&(0,n.jsx)(s.E,{src:f,className:h.avatar,onLoad:()=>{e.loaded=!0},ref:t=>{e.imgEl=t},alt:""}),(0,n.jsx)(s.E,{src:l,className:h.default,alt:""})]})})},16795:function(e,t,i){"use strict";i.d(t,{b:function(){return N}});var n=i(71576),o=i(34491),s=i(95782),a=i(62499),r=i(33381),l=i(663),c=i(7441),d=i(58812),h=i(66084);class u extends o.PN{constructor(...e){super(...e),(0,h._)(this,"props",void 0)}}var p=JSON.parse('{"fill":"none","content":"\\n<path fill-rule=\\"evenodd\\" clip-rule=\\"evenodd\\" d=\\"M2.3295 5.57098C2.52374 5.78901 2.84444 5.79525 3.04579 5.58491L5.66349 2.8504C6.07272 2.4229 6.3443 2.14077 6.57193 1.9589C6.78777 1.78645 6.90544 1.75334 7 1.75334C7.09456 1.75334 7.21223 1.78645 7.42807 1.9589C7.6557 2.14077 7.92728 2.4229 8.33651 2.85039L10.9542 5.58491C11.1556 5.79525 11.4763 5.78901 11.6705 5.57098C11.8647 5.35295 11.859 5.00568 11.6576 4.79534L9.01563 2.03543C8.63727 1.64015 8.31766 1.30625 8.02961 1.0761C7.72361 0.831618 7.39629 0.65625 7 0.65625C6.60371 0.65625 6.27639 0.831618 5.97039 1.0761C5.68233 1.30625 5.36273 1.64015 4.98435 2.03544L2.34237 4.79534C2.14101 5.00568 2.13525 5.35295 2.3295 5.57098Z\\" fill=\\"#55555D\\"/>\\n<path fill-rule=\\"evenodd\\" clip-rule=\\"evenodd\\" d=\\"M2.3295 8.42902C2.52374 8.21099 2.84444 8.20475 3.04579 8.41509L5.66349 11.1496C6.07272 11.5771 6.3443 11.8592 6.57193 12.0411C6.78777 12.2136 6.90544 12.2467 7 12.2467C7.09456 12.2467 7.21223 12.2136 7.42807 12.0411C7.6557 11.8592 7.92728 11.5771 8.33651 11.1496L10.9542 8.41509C11.1556 8.20475 11.4763 8.21099 11.6705 8.42902C11.8647 8.64705 11.859 8.99432 11.6576 9.20466L9.01563 11.9646C8.63727 12.3599 8.31766 12.6937 8.02961 12.9239C7.72361 13.1684 7.39629 13.3438 7 13.3438C6.60371 13.3438 6.27639 13.1684 5.97039 12.9239C5.68233 12.6937 5.36273 12.3598 4.98435 11.9646L2.34237 9.20466C2.14101 8.99432 2.13525 8.64705 2.3295 8.42902Z\\" fill=\\"#55555D\\"/>\\n</svg>\\n","viewBox":"0 0 14 14"}');let m=o._Y.createComponent("SelectIcon",u,e=>(0,n.jsx)(d.s,{...e.props,name:"SelectIcon",iconData:p}));class g extends o.PN{constructor(...e){super(...e),(0,h._)(this,"props",void 0)}}var v=JSON.parse('{"fill":"none","content":"\\n<path opacity=\\"0.7\\" d=\\"M18.2663 13.5641C18.0906 12.3827 15.8606 11.8501 15.1579 11.3175C15.0998 11.2594 15.0403 11.081 15.0403 10.962C15.0403 10.666 15.0984 10.5484 15.0984 10.5484C15.0984 10.5484 16.3296 9.78062 16.2715 7.83008C16.2134 7.00282 15.7431 5.52539 14.1605 5.52539H14.0429C13.6901 5.52539 13.3983 5.58349 13.1617 5.70246C13.5145 6.82575 13.9239 8.95337 12.2238 10.3132C11.5791 11.3175 13.8063 11.9082 13.455 11.7312C15.4484 12.6774 16.0349 13.3262 16.1525 14.0953C16.2701 14.686 16.3282 15.0997 16.3282 15.0997C16.3282 15.0997 17.8527 14.8631 18.2635 14.5671C18.3244 14.2157 18.3825 13.8602 18.2663 13.5641Z\\" fill=\\"#46464D\\"/>\\n<path d=\\"M11.052 11.319C10.9345 11.2609 10.8764 10.9635 10.8764 10.9054C10.8764 10.5498 10.9939 10.4336 10.9939 10.4336C10.9939 10.4336 12.4589 9.605 12.4589 7.06376C12.4008 6.05943 11.8143 4.16699 9.81947 4.16699H9.70188C7.64897 4.16699 7.12191 5.99995 7.06242 7.06376C7.06242 9.48741 8.52879 10.4322 8.52879 10.4322C8.52879 10.4322 8.70447 10.6688 8.70447 11.0229C8.70447 11.081 8.58689 11.2595 8.47069 11.3785C7.64897 12.0273 4.65813 12.7369 4.42296 14.1549C4.24727 14.7456 3.36607 15.7499 6.35829 16.1054C7.17862 16.2244 8.29361 16.2825 9.75998 16.2825C16.6215 16.2825 15.216 14.9227 15.0389 14.1549C14.9213 12.6788 11.8724 11.9678 11.052 11.319Z\\" fill=\\"url(#paint0_linear_109_36423)\\"/>\\n<path opacity=\\"0.6\\" d=\\"M3.74984 3.3335L4.47168 4.69499L5.83317 5.41683L4.47168 6.13867L3.74984 7.50016L3.028 6.13867L1.6665 5.41683L3.028 4.69499L3.74984 3.3335Z\\" fill=\\"#46464D\\"/>\\n<path opacity=\\"0.3\\" d=\\"M4.58301 9.16699L5.02849 9.97151L5.83301 10.417L5.02849 10.8625L4.58301 11.667L4.13753 10.8625L3.33301 10.417L4.13753 9.97151L4.58301 9.16699Z\\" fill=\\"#46464D\\"/>\\n<defs>\\n<linearGradient id=\\"paint0_linear_109_36423\\" x1=\\"9\\" y1=\\"6\\" x2=\\"14\\" y2=\\"15\\" gradientUnits=\\"userSpaceOnUse\\">\\n<stop stop-color=\\"#46464D\\"/>\\n<stop offset=\\"1\\" stop-color=\\"#79797E\\"/>\\n</linearGradient>\\n</defs>\\n</svg>\\n","viewBox":"0 0 20 20"}');let f=o._Y.createComponent("WorkspaceIcon",g,e=>(0,n.jsx)(d.s,{...e.props,name:"WorkspaceIcon",iconData:v}));class b extends o.PN{constructor(...e){super(...e),(0,h._)(this,"props",void 0)}}var C=JSON.parse('{"fill":"none","content":"\\n<path fill-rule=\\"evenodd\\" clip-rule=\\"evenodd\\" d=\\"M9.76095 2.80928C9.56069 2.58319 9.21506 2.56224 8.98896 2.7625C8.76287 2.96275 8.74192 3.30838 8.94218 3.53448L11.5273 6.45313L1.75 6.45313C1.44797 6.45313 1.20312 6.69798 1.20312 7.00001C1.20312 7.30204 1.44797 7.54688 1.75 7.54688L11.5273 7.54688L8.94218 10.4655C8.74192 10.6916 8.76287 11.0373 8.98896 11.2375C9.21506 11.4378 9.56069 11.4168 9.76095 11.1907L12.8304 7.7252C13.1971 7.31125 13.1971 6.68876 12.8304 6.27481L9.76095 2.80928Z\\" fill=\\"#3D3D43\\"/>\\n</svg>\\n","viewBox":"0 0 14 14"}');let A=o._Y.createComponent("LongArrowRightIcon",b,e=>(0,n.jsx)(d.s,{...e.props,name:"LongArrowRightIcon",iconData:C}));var x=i(52921),y=i(4461),S=i(88882),w=i(56607),k=i(73047),_=i(18918),j=i(67061),L={src:"https://assets.monica.im/home-web/_next/static/media/personalAvatar.68917bdb.png",height:48,width:48,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAALVBMVEWAWvh9VvWhdf6hdP+gdf2KZfiTbPmAXPWdc/7Lu/icevbTx/u7p/bt6fyhhPGGELSlAAAABXRSTlPrVehV7zE02A8AAAAJcEhZcwAAFiUAABYlAUlSJPAAAAA6SURBVHicFcbHEQAwDAIwUsDYKfuPm4teQkNEBBrAIIMAybVI/mRShFR7lwQrz0kZ3XVvuWNMS57jATTHAaD+XrsmAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},D=i(28031);class E extends o.PN{get S(){return S.S.Global.components.WorkspaceSelector}get isMiniMode(){return"mini"===this.props.mode}get hasWorkspace(){return _.teamController.teamInfos.length>0}get workspaceInfo(){var e,t,i,n;let{currentTeamInfo:o}=_.teamController;return _.teamController.isTeamAccount?{name:null!==(t=null==o?void 0:o.teamName)&&void 0!==t?t:"-",avatar:null!==(i=null==o?void 0:o.teamAvatar)&&void 0!==i?i:"-",type:"team",isLocked:null==o?void 0:o.isLocked}:{name:null!==(n=null===(e=r.userController.userInfo)||void 0===e?void 0:e.name)&&void 0!==n?n:"-",avatar:(0,y.Q)(L),type:"personal"}}onViewCreate(){_.teamController.updateWorkspaceList(!w.o.isWeb)}onViewDestroy(){}async handleSelectWorkspace(){(0,D.k)({insertTarget:"sidebar"===j.L.mainWindowMode?"mainWindow":"dialogRoot"})}constructor(...e){super(...e),(0,h._)(this,"props",void 0),(0,h._)(this,"someState",!0)}}(0,x.gn)([o.SB],E.prototype,"someState",void 0),(0,x.gn)([k.Fl],E.prototype,"S",null),(0,x.gn)([k.Fl],E.prototype,"isMiniMode",null),(0,x.gn)([k.Fl],E.prototype,"hasWorkspace",null),(0,x.gn)([k.Fl],E.prototype,"workspaceInfo",null);let N=o._Y.createComponent("WorkspaceSelector",E,e=>{let{className:t,mode:i}=e.props;return r.userController.shouldEnableTeam?(0,n.jsx)("div",{className:"workspace-selector--ByS5j",children:e.hasWorkspace?(0,n.jsx)(c.K,{...e.workspaceInfo,className:t,mode:i,customIcon:(0,n.jsx)(m,{size:14}),onClick:e.handleSelectWorkspace.bind(e)}):(0,n.jsx)(M,{vm:e})}):null}),M=(0,a.Pi)(function(e){let{vm:t}=e;return(0,n.jsxs)("div",{className:"guide--ZE_Uf",onClick:()=>{l.m.gotoCreateTeam()},children:[(0,n.jsxs)("div",{className:"lt--w1hIT",children:[(0,n.jsx)(f,{size:20}),(0,n.jsx)("span",{children:(0,n.jsx)(s.Z,{S:t.S.createTeam,components:{b:e=>(0,n.jsx)("b",{children:e})}})})]}),(0,n.jsx)("div",{className:"rt--P8cJr",children:(0,n.jsx)(A,{size:14})})]})})},21609:function(e,t,i){"use strict";i.d(t,{v:function(){return c}});var n=i(71576),o=i(58812),s=i(34491),a=i(66084);class r extends s.PN{constructor(...e){super(...e),(0,a._)(this,"props",void 0)}}var l=JSON.parse('{"fill":"currentColor","content":"<path fill-rule=\\"evenodd\\" d=\\"M1.167 3.655a.47.47 0 0 1 .663-.004l3.84 3.8c.183.182.477.182.66 0l3.84-3.8a.469.469 0 1 1 .66.667l-3.84 3.8a1.406 1.406 0 0 1-1.98 0l-3.84-3.8a.47.47 0 0 1-.003-.663\\" clip-rule=\\"evenodd\\"/>","viewBox":"0 0 12 12"}');let c=s._Y.createComponent("ArrowDownIcon",r,e=>(0,n.jsx)(o.s,{...e.props,name:"ArrowDownIcon",iconData:l}))},90226:function(e,t,i){"use strict";i.d(t,{T:function(){return c}});var n=i(71576),o=i(58812),s=i(34491),a=i(66084);class r extends s.PN{constructor(...e){super(...e),(0,a._)(this,"props",void 0)}}var l=JSON.parse('{"fill":"none","content":"\\n<path fill-rule=\\"evenodd\\" clip-rule=\\"evenodd\\" d=\\"M4.51025 3.51594C4.2386 3.23845 3.79343 3.23372 3.51594 3.50537C3.23845 3.77702 3.23372 4.22219 3.50537 4.49968L8.00075 9.09168L3.5155 13.4902C3.23825 13.7621 3.2339 14.2072 3.50579 14.4845C3.77769 14.7617 4.22286 14.7661 4.50012 14.4942L9 10.0814L13.4999 14.4942C13.7771 14.7661 14.2223 14.7617 14.4942 14.4845C14.7661 14.2072 14.7617 13.7621 14.4845 13.4902L9.99924 9.09168L14.4946 4.49968C14.7663 4.22219 14.7615 3.77702 14.4841 3.50537C14.2066 3.23372 13.7614 3.23845 13.4897 3.51594L9 8.10217L4.51025 3.51594Z\\" fill=\\"#545C66\\"/>\\n</svg>\\n","viewBox":"0 0 18 18"}');let c=s._Y.createComponent("CloseIcon",r,e=>(0,n.jsx)(o.s,{...e.props,name:"CloseIcon",iconData:l}))},12718:function(e,t,i){"use strict";i.d(t,{W:function(){return c}});var n=i(71576),o=i(58812),s=i(34491),a=i(66084);class r extends s.PN{constructor(...e){super(...e),(0,a._)(this,"props",void 0)}}var l=JSON.parse('{"fill":"currentColor","content":"\\n<path fill-rule=\\"evenodd\\" clip-rule=\\"evenodd\\" d=\\"M15.765 3.20092C15.7653 3.06374 15.7386 2.92785 15.6863 2.80104C15.6339 2.67423 15.5571 2.55899 15.4602 2.46194C15.3632 2.36488 15.2481 2.28792 15.1213 2.23546C14.9946 2.18301 14.8587 2.15609 14.7216 2.15625L3.53783 4.78084C3.26077 4.78084 2.99505 4.8909 2.79914 5.08682C2.60323 5.28273 2.49316 5.54845 2.49316 5.82551V20.7991C2.49349 21.076 2.60366 21.3416 2.7995 21.5374C2.99534 21.7333 3.26087 21.8434 3.53783 21.8438C7.22289 21.8438 10.9506 21.8438 14.6257 21.8438C15.2466 21.8438 15.7501 21.3406 15.7506 20.7197L15.765 3.20092ZM6.44666 18.1782H11.8127C12.0982 18.1782 12.3295 17.9026 12.3283 17.563C12.3283 17.2233 12.0982 16.9477 11.8127 16.9477H6.44666C6.16242 16.9477 5.93109 17.2233 5.93109 17.563C5.93109 17.9026 6.16119 18.1782 6.44666 18.1782ZM6.44666 13.8826H11.8127C12.0982 13.8826 12.3295 13.607 12.3283 13.2674C12.3283 12.9278 12.0982 12.6521 11.8127 12.6521H6.44666C6.16242 12.6521 5.93109 12.9278 5.93109 13.2674C5.93109 13.607 6.16119 13.8826 6.44666 13.8826ZM6.44666 9.58705H11.8127C12.0982 9.58705 12.3295 9.31143 12.3283 8.97182C12.3283 8.63221 12.0982 8.35658 11.8127 8.35658H6.44666C6.16242 8.35658 5.93109 8.63221 5.93109 8.97182C5.93109 9.31143 6.16119 9.58705 6.44666 9.58705Z\\" fill=\\"#3D3D43\\"/>\\n<path d=\\"M17.2497 9.21006L20.8627 10.3634C21.2471 10.486 21.5101 10.8409 21.514 11.2444C21.5461 14.5424 21.5064 17.8432 21.5064 21.1412C21.5107 21.3231 21.4426 21.4992 21.3171 21.631C21.1916 21.7627 21.0189 21.8392 20.837 21.8438H17.9997C17.5855 21.8438 17.2497 21.508 17.2497 21.0938V9.21006Z\\" fill=\\"#3D3D43\\"/>\\n</svg>\\n","viewBox":"0 0 24 24"}');let c=s._Y.createComponent("EnterpriseIcon",r,e=>(0,n.jsx)(o.s,{...e.props,name:"EnterpriseIcon",iconData:l}))},39169:function(e,t,i){"use strict";i.d(t,{q:function(){return c}});var n=i(71576),o=i(58812),s=i(34491),a=i(66084);class r extends s.PN{constructor(...e){super(...e),(0,a._)(this,"props",void 0)}}var l=JSON.parse('{"fill":"none","content":"\\n<g id=\\"/linear/unlimited\\">\\n<g id=\\"unlimited\\">\\n<path id=\\"Vector (Stroke)\\" fill-rule=\\"evenodd\\" clip-rule=\\"evenodd\\" d=\\"M0.908203 5.50015C0.908203 2.99427 2.94401 0.958496 5.44988 0.958496C6.96362 0.958496 8.27495 1.70285 9.09022 2.82634C9.3335 3.16158 9.25894 3.63057 8.92369 3.87384C8.58845 4.11712 8.11946 4.04256 7.87619 3.70731C7.32479 2.94747 6.45281 2.4585 5.44988 2.4585C3.77243 2.4585 2.4082 3.82271 2.4082 5.50015C2.4082 7.1776 3.77243 8.54181 5.44988 8.54181C6.59437 8.54181 7.65877 7.93874 8.24844 6.95597L9.35599 5.11557L9.35727 5.11343L10.456 3.27388L10.4568 3.2726C11.3171 1.8387 12.8694 0.958496 14.5416 0.958496C17.0474 0.958496 19.0832 2.99427 19.0832 5.50015C19.0832 8.00603 17.0474 10.0418 14.5416 10.0418C13.0346 10.0418 11.7255 9.29629 10.9037 8.17747C10.6585 7.84363 10.7304 7.37422 11.0642 7.12902C11.3981 6.88381 11.8675 6.95566 12.1127 7.28949C12.6742 8.054 13.5485 8.54181 14.5416 8.54181C16.219 8.54181 17.5832 7.17761 17.5832 5.50015C17.5832 3.8227 16.219 2.4585 14.5416 2.4585C13.3973 2.4585 12.3332 3.06128 11.7434 4.04364C11.7433 4.04387 11.7436 4.0434 11.7434 4.04364L10.6438 5.88474L10.6425 5.88687L9.53467 7.72771C9.53458 7.72787 9.53477 7.72755 9.53467 7.72771C8.67428 9.16132 7.12189 10.0418 5.44988 10.0418C2.94401 10.0418 0.908203 8.00604 0.908203 5.50015Z\\" fill=\\"#6841EA\\"/>\\n</g>\\n</g>\\n","viewBox":"0 0 20 11"}');let c=s._Y.createComponent("UnlimitedIcon",r,e=>(0,n.jsx)(o.s,{...e.props,name:"UnlimitedIcon",iconData:l}))},31826:function(e,t,i){"use strict";var n,o,s,a;i.d(t,{EG:function(){return r},PR:function(){return n},Q0:function(){return l},kE:function(){return o}}),(s=n||(n={})).grammar_Loading_mistake_show="grammar_Loading_mistake_show",s.grammar_Loading_mistake_click="grammar_Loading_mistake_click",s.grammar_checker_trial_show="grammar_checker_trial_show",s.grammar_checker_trial_click="grammar_checker_trial_click",s.grammar_checker_get_show="grammar_checker_get_show",s.grammar_checker_get_click="grammar_checker_get_click",s.grammar_expand_bar_show="grammar_expand_bar_show",s.grammar_expand_bar_click="grammar_expand_bar_click",s.grammar_modify_panel_show="grammar_modify_panel_show",s.grammar_modify_accept_click="grammar_modify_accept_click",s.grammar_modify_fix_all_click="grammar_modify_fix_all_click",s.grammar_modify_float_show="grammar_modify_float_show",s.grammar_modify_float_click="grammar_modify_float_click",s.grammar_add_dict_confirm_show="grammar_add_dict_confirm_show",s.grammar_add_dict_confirm_click="grammar_add_dict_confirm_click",s.writing_assistant_dict_manage_show="writing_assistant_dict_manage_show",s.writing_assistant_dict_save_confirm_show="writing_assistant_dict_save_confirm_show",s.writing_assistant_dict_save_confirm_button_click="writing_assistant_dict_save_confirm_button_click",s.writing_assistant_enable_grammar_trail_show="writing_assistant_enable_grammar_trail_show",s.writing_assistant_enable_grammar_trail_click="writing_assistant_enable_grammar_trail_click",s.grammar_open="grammar_open",s.grammar_close="grammar_close",s.grammar_check_result="grammar_check_result",s.grammar_enable_spellcheck="grammar_enable_spellcheck",s.grammar_api_response="grammar_api_response";let r=3;(a=o||(o={})).all="all",a.check="check";let l=[{host:".feishu.cn",disableType:"check"},{host:".larksuite.com",disableType:"check"},{host:"larkenterprise.com",disableType:"check"},{host:"larkoffice.com",disableType:"check"},{host:"bytedance.larkoffice.com",disableType:"check"},{host:"www.wolai.com",disableType:"check"},{host:"www.kdocs.cn",disableType:"check"},{host:"www.google.com",include:["/search"]},{host:"github.com",exclude:[/\/issues\/\d+/,/\/issues\/new/]}]},36386:function(e,t,i){"use strict";i.d(t,{BP:function(){return I}});var n=i(66084),o=i(52921),s=i(34491),a=i(88882),r=i(92235),l=i(28901),c=i(76469),d=i(1340),h=i(73047),u=i(74145),p=i(71528),m=i(31284),g=i(19541),v=i(39160),f=i(72700),b=i(15851),C=i(70174),A=i(87038),x=i(46816),y=i(64859);class S{get currentActiveMatchIndex(){return this.enableMatchList.findIndex(e=>!0===e.active)}get currentActiveMatch(){if(-1!==this.currentActiveMatchIndex)return this.enableMatchList[this.currentActiveMatchIndex]}get enableMatchList(){let e=this.mirrorObj,t=this.ignoreMap;return t.length?e.matchList.filter(e=>!t.some(t=>t.type===e.type&&t.bad===e.bad)):e.matchList}async init(){var e;this.registerCheck(),this.autoClearHighlight=null!==(e=this.options.autoClearHighlight)&&void 0!==e&&e,this.listenerManager.addWindowEventListener("click",()=>{this.autoClearHighlight&&this.clearHighlight()}),"web"===this.type&&(this.gmailHelper=new g.g,this.toggleOriginSpellcheck(!0))}setMatchSugIndex(e,t){let i=this.enableMatchList.find(t=>t.id===e);i&&(i.activeSugIndex=t)}isUpdating(){return this.isTimeLock()}disableHighlight(){this.highlightDisabled=!0,this.drawUnderlines(!0),this.toggleOriginSpellcheck(!1)}enableHighlight(){this.highlightDisabled=!1,this.drawUnderlines(),this.toggleOriginSpellcheck(!0)}toggleMatch(e){if(!this.enableMatchList.length)return;let t=(()=>{if("start"===e)return this.enableMatchList[0];let t=this.currentActiveMatchIndex;return -1===t?this.enableMatchList[0]:"pre"===e?0===t?this.enableMatchList[this.enableMatchList.length-1]:this.enableMatchList[t-1]:"next"===e?t===this.enableMatchList.length-1?this.enableMatchList[0]:this.enableMatchList[t+1]:null})();t&&this.highlightMatch({match:t,event:null})}highlightMatch(e){var t,i,n,o;let{match:s,event:a,enableScroll:r=!0}=e,l=this.mirrorObj;if(!l)return;if(this.highlightPosition=a,!l.matchList.some(e=>e.active)&&!s){null===(n=(o=this.options).onHighlightMatchChange)||void 0===n||n.call(o,{match:s,event:a});return}let c=null;l.matchList.forEach(e=>{e.id===(null==s?void 0:s.id)?(e.active=!0,c=e):e.active=!1}),this.drawUnderlines(),null===(t=(i=this.options).onHighlightMatchChange)||void 0===t||t.call(i,{match:c,event:a}),r&&c&&setTimeout(()=>{l.mirror.scrollToMatch(c)},0)}clearHighlight(){this.highlightMatch({match:null,event:null})}clearUnderlines(){this.drawUnderlines(!0)}replaceMatchText(e){var t,i;let{match:n,replacement:o="",highlightNextMatch:s}=e;this.setTimeLock(),this.addToHistory();let a=new m.B;this.acceptLock=a;let r=this.getNextMatch(n,this.enableMatchList),l=this.mirrorObj;l.mirror.replaceMatchText(n,o),l.matchList=l.matchList.filter(e=>e.id!==n.id),l.matchList.forEach(e=>{e.offset>n.offset&&(e.offset+=o.length-n.bad.length)}),null===(t=(i=this.options).onMatchListChange)||void 0===t||t.call(i,{matchList:this.enableMatchList}),this.drawUnderlines(),s&&r?this.highlightMatch({match:r,event:null}):this.clearHighlight(),Promise.race([new Promise(e=>{setTimeout(()=>{e(!0)},1e3)}),a.promise]).then(()=>{this.acceptLock===a&&this.disableTimeLock()})}async replaceAllMatchText(){var e,t,i,n,o,s;this.setTimeLock(),this.addToHistory();let a=this.mirrorObj,r=a.mirror.replaceAllMatchText(this.enableMatchList);this.drawUnderlines(!0),null===(e=(t=this.options).onFixingStatusChange)||void 0===e||e.call(t,{fixing:!0}),await r,null===(i=(n=this.options).onFixingStatusChange)||void 0===i||i.call(n,{fixing:!1}),a.matchList=[],null===(o=(s=this.options).onMatchListChange)||void 0===o||o.call(s,{matchList:[]}),this.disableTimeLock()}ignoreMatchText(e){var t,i;let{match:n,highlightNextMatch:o}=e;this.addToHistory(),this.addIgnoreInThisSession({type:n.type,bad:n.bad});let s=this.getNextMatch(n,this.enableMatchList);this.drawUnderlines(),null===(t=(i=this.options).onMatchListChange)||void 0===t||t.call(i,{matchList:this.enableMatchList}),o&&s?this.highlightMatch({match:s,event:null}):this.clearHighlight()}ignoreAllMatchText(){var e,t;this.addToHistory(),this.mirrorObj.matchList.forEach(e=>{e.ignore=!0}),this.drawUnderlines(),null===(e=(t=this.options).onMatchListChange)||void 0===e||e.call(t,{matchList:this.enableMatchList})}undo(){let e=this.mirrorObj,t=e.undoQueue.pop();return!!t&&(e.redoQueue.push(this.getSnapshot()),this.restoreSnapshot(t),!0)}redo(){let e=this.mirrorObj,t=e.redoQueue.pop();return!!t&&(e.undoQueue.push(this.getSnapshot()),this.restoreSnapshot(t),!0)}closeCheck(){this.disposableCollection.dispose(),this.clearHighlight(),this.clearUnderlines()}triggerRecheck(){var e,t;let i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.mirrorObj.mirror;this.isChecking=!0,null===(e=(t=this.options).onCheckStatusChange)||void 0===e||e.call(t,{checking:!0,text:n.getInnerText()}),n.emitTextChangeEvent(),i&&this.sentenceGrammarsCache.clear()}destroy(){var e;this.disposableCollection.dispose(),this.unregister(),null===(e=this.gmailHelper)||void 0===e||e.openGrammarCheck()}processTextMatchAndSuggestions(e){let{originalText:t,match:i,activeSugIndex:n,segmentLen:o}=e,s=i.suggestions.length,a="",r="",l="",c="";-1!==n&&n<s&&(c=i.suggestions[n]);let d=c.length+i.bad.length-o;if(d>0)l=i.bad.slice(d,i.bad.length),a="...",r="...";else{l=i.bad,d=Math.floor(Math.abs(d)/2);let e=i.offset,n=i.offset+i.length,o=Math.max(e-d,0),s=Math.min(n+d,t.length);a="".concat(t.slice(o,e)),r="".concat(t.slice(n,s)),o>0&&(a="...".concat(a)),s<t.length&&(r="".concat(r,"..."))}return{segStart:a,segEnd:r,segBad:l,segSug:c}}disableAutoClearHighlight(){this.autoClearHighlight=!1}enableAutoClearHighlight(){this.autoClearHighlight=!0}toggleOriginSpellcheck(e){}drawUnderlines(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e||this.highlightDisabled){this.mirrorObj.mirror.drawUnderlines([]);return}this.mirrorObj.mirror.drawUnderlines(this.enableMatchList)}registerCheck(){var e,t;let{inputType:i}=this.options,n=this.target,o={el:n,onMatchTextClick:(e,t)=>{var i,n;this.highlightMatch({match:t,enableScroll:!1,event:e}),null===(i=(n=this.options).onMatchTextClick)||void 0===i||i.call(n)},onInput:()=>{this.isTimeLock()||this.clearUnderlines()},onTextChange:e=>{if(this.isTimeLock()){let e=this.acceptLock;e&&e.resolve();return}(!this.options.checkWhenActive||this.options.checkWhenActive(n))&&this.handleTextChange(e)},onFocus:()=>{var e,t;null===(e=(t=this.options).onFocus)||void 0===e||e.call(t)}},s="textarea"===i?new x.v(o):new A.d(o);null===(e=(t=this.options).onMirrorCreate)||void 0===e||e.call(t),this.mirrorObj={node:n,matchList:[],redoQueue:[],undoQueue:[],checking:!1,type:i,originSpellCheck:n.getAttribute("spellcheck"),mirror:s}}async handleTextChange(e){var t,i,n,o,s,a,r,l;this.isTriggerByFix()||(this.isChecking=!0,null===(t=(i=this.options).onCheckStatusChange)||void 0===t||t.call(i,{checking:!0,text:e}));let c=!1;if(e.trim())try{let t=(await f.U.detectAllLanguage(e))[0];"en"===t.locale&&t.score;let i=e.match(/\b\w+\b/g);c=!i||i.length<=(this.options.minWordsThreshold||1/0)}catch(e){}else c=!0;try{let t;this.clearHighlight();let i=this.mirrorObj;i.checking=!0;let r=this.getDiffSentences(e),l=e=>{var t,n;let{results:o,originText:s}=e,a=this.translateMatches({matches:o,originText:s});i.checking=!1,i.matchList=a,i.matchList.length&&(i.matchList[0].active=!0),this.drawUnderlines(),null===(t=(n=this.options).onMatchListChange)||void 0===t||t.call(n,{matchList:this.enableMatchList})};if(this.options.skipCheckWhenInvalid&&c){t={results:[],originText:e},this.isChecking=!1,null===(s=(a=this.options).onCheckStatusChange)||void 0===s||s.call(a,{checking:!1,text:e,isEnglish:!0,isShort:c}),l(t);return}if(r){if(r.diffTextContent){if(l((0,y.mZ)(r.sentencesResult)),(t=await this.checkTextGrammar(r)).skip)return}else t=(0,y.mZ)(r.sentencesResult)}else t={results:[],originText:""};this.isChecking=!1,null===(n=(o=this.options).onCheckStatusChange)||void 0===n||n.call(o,{checking:!1,text:e,isEnglish:!0,isShort:c}),l(t)}catch(t){this.isChecking=!1,null===(r=(l=this.options).onCheckStatusChange)||void 0===r||r.call(l,{checking:!1,text:e,error:!0})}}getDiffSentences(e){let{checkLenLimit:t}=this.options,i=e.trimEnd();if(t&&(i=i.substring(0,t)),!i)return null;let n=(0,y.TH)(i),o={indexArr:[],sentences:[]},s=n.map((e,t)=>{let i=this.sentenceGrammarsCache.get(e);return i?{text:e,errors:i.errors}:(o.indexArr.push(t),o.sentences.push(e),{text:e,errors:[]})});return{diffTextContent:o.sentences.join(""),diffSentences:o,sentencesResult:s,textContent:i}}async checkTextGrammar(e){var t,i,n,o,s;let{diffTextContent:a,diffSentences:l,sentencesResult:c,textContent:d}=e,h=this.lastCheckFlag+=1,u=this.options.useFreeApi?C.v.checkGrammar:C.v.checkGrammarWithVipCheck,p=await u({text:a,language:"function"==typeof this.options.language?this.options.language():null!==(t=this.options.language)&&void 0!==t?t:"en-US",taskUid:r.m.genId()});if(0===p.code&&(this.isCheckLimit=!1,null===(i=(n=this.options).onApiResponse)||void 0===i||i.call(n,!!(null!==(o=p.data.errors)&&void 0!==o?o:[]).length)),h!==this.lastCheckFlag)return{skip:!0,results:[],originText:d};if(0!==p.code){if(10002===p.code)return this.isCheckLimit=!0,{skip:!1,results:[],originText:d};throw this.isCheckLimit=!1,b.M.error(p.msg,"body"),Error(p.msg||"Request failed")}let m=(0,y.H_)(null!==(s=p.data.errors)&&void 0!==s?s:[],l.sentences);return l.indexArr.forEach((e,t)=>{this.sentenceGrammarsCache.set(m[t].text,m[t]),c[e]=m[t]}),(0,y.mZ)(c)}addToHistory(){let e=this.getSnapshot(),t=this.mirrorObj;t.undoQueue.push(e),t.redoQueue=[]}addIgnoreInThisSession(e){let t=this.ignoreMap;t.some(t=>t.type===e.type&&t.bad===e.bad)||t.push(e)}getSnapshot(){let e=this.mirrorObj;return JSON.parse(JSON.stringify({originalText:e.mirror.getInnerText()||"",matches:e.matchList}))}restoreSnapshot(e){var t,i;let{originalText:n,matches:o}=e,s=this.mirrorObj;s.matchList=o,l.x.triggerInputEvent(s.mirror.type,s.node,n),this.drawUnderlines(),null===(t=(i=this.options).onMatchListChange)||void 0===t||t.call(i,{matchList:this.enableMatchList})}translateMatches(e){let{matches:t,originText:i=""}=e,{matchList:n}=this.mirrorObj;return t.map((e,t)=>{let o=this.getColorFromMatch(e),s={...e,id:"key_".concat(t),activeSugIndex:-1,ignore:!1,active:!1,removeSegment:"",...o};if(e.suggestions.length>0&&(s.activeSugIndex=0),"grammar"!==e.type||1!==e.suggestions.length||""!==e.suggestions[0]||e.removeSegment||(e.removeSegment=!0,s.suggestions=[]),e.removeSegment){let t=e.offset,n=e.offset+e.length;if(i.length<n)return s;s.removeSegment=i.slice(t,n)}return n.find(e=>"spelling"===e.type&&e.type===s.type&&e.bad===s.bad&&e.ignore)&&(s.ignore=!0),s})}getColorFromMatch(e){let t="",i="",n="";return"spelling"===e.type?(t="Spelling",i=v.uZ.SPELLING.UNDERLINE,n=v.uZ.SPELLING.BACKGROUND):"style"===e.type?(t="Style",i=v.uZ.STYLE.UNDERLINE,n=v.uZ.STYLE.BACKGROUND):(t="Grammar",i=v.uZ.GRAMMAR.UNDERLINE,n=v.uZ.GRAMMAR.BACKGROUND),{typeName:t,underlineColor:i,highlightColor:n}}getNextMatch(e,t){let i=t.findIndex(t=>t.id===e.id);if(-1===i)return t[0];let n=t.length-1;return t[i+1>n?0:i+1]}setTimeLock(){this.mirrorObj.isLocked=!0}disableTimeLock(){this.mirrorObj.isLocked=!1,this.mirrorObj.disLockTime=Date.now()}isTimeLock(){return!this.mirrorObj||this.mirrorObj.isLocked}isTriggerByFix(){let e=this.mirrorObj;if(!e)return!1;let t=e.disLockTime&&e.disLockTime-Date.now()<1e3;return e.disLockTime=void 0,t}unregister(){var e,t;this.mirrorObj.mirror.destroy(),null===(e=(t=this.options).onMatchListChange)||void 0===e||e.call(t,{matchList:[]})}constructor(e,t){(0,n._)(this,"target",void 0),(0,n._)(this,"options",void 0),(0,n._)(this,"isChecking",void 0),(0,n._)(this,"mirrorObj",void 0),(0,n._)(this,"highlightPosition",void 0),(0,n._)(this,"ignoreMap",void 0),(0,n._)(this,"isCheckLimit",void 0),(0,n._)(this,"type",void 0),(0,n._)(this,"listenerManager",void 0),(0,n._)(this,"autoClearHighlight",void 0),(0,n._)(this,"disposableCollection",void 0),(0,n._)(this,"sentenceGrammarsCache",void 0),(0,n._)(this,"lastCheckFlag",void 0),(0,n._)(this,"acceptLock",void 0),(0,n._)(this,"highlightDisabled",void 0),(0,n._)(this,"gmailHelper",void 0),this.target=e,this.options=t,this.isChecking=!1,this.highlightPosition=null,this.ignoreMap=[],this.isCheckLimit=!1,this.listenerManager=new p.M,this.autoClearHighlight=!1,this.disposableCollection=new u.K,this.sentenceGrammarsCache=new Map,this.lastCheckFlag=0,this.acceptLock=void 0,this.highlightDisabled=!1,this.gmailHelper=null,(0,h.rC)(this),this.highlightDisabled=t.defaultHighlightDisabled||!1,this.type=t.type||"web",this.isChecking=t.defaultChecking||!1,this.init()}}(0,o.gn)([s.SB],S.prototype,"isChecking",void 0),(0,o.gn)([s.SB],S.prototype,"mirrorObj",void 0),(0,o.gn)([s.SB],S.prototype,"highlightPosition",void 0),(0,o.gn)([s.SB],S.prototype,"ignoreMap",void 0),(0,o.gn)([s.SB],S.prototype,"isCheckLimit",void 0),(0,o.gn)([s.SB],S.prototype,"type",void 0),(0,o.gn)([s.Fl],S.prototype,"currentActiveMatchIndex",null),(0,o.gn)([s.Fl],S.prototype,"currentActiveMatch",null),(0,o.gn)([s.Fl],S.prototype,"enableMatchList",null);var w=i(20053),k=i(41884),_=i(11502),j=i(90180),L=i(33381),D=i(31826);let E={width:500,height:194},N={width:550,height:400},M={width:165,height:146};class T{get S(){return a.S.Global.controllers.grammarController}get grammarCheckEnabled(){var e;return!this.grammarCheckBtnDisabledV2&&L.userController.isVipUser&&this.grammarFeatureEnable&&!!(null===(e=this.writingController)||void 0===e?void 0:e.writingEntryBtnVisible)}get grammarLanguages(){let e=this.S.GrammarLanguages;return[{key:"en",label:e.en,children:[{key:"en-US",label:e.enDialect.enUS},{key:"en-GB",label:e.enDialect.enGB},{key:"en-AU",label:e.enDialect.enAU},{key:"en-NZ",label:e.enDialect.enNZ},{key:"en-ZA",label:e.enDialect.enZA}]},{key:"ar-AR",label:e.ar},{key:"fr-FR",label:e.fr},{key:"de-DE",label:e.de},{key:"pt-PT",label:e.pt},{key:"it-IT",label:e.it},{key:"el-GR",label:e.el},{key:"es-ES",label:e.es},{key:"ru-RU",label:e.ru},{key:"ja-JP",label:e.ja},{key:"zh-CN",label:e.zh}]}get activeMirrorId(){var e;return null===(e=this.activeMirrorObj)||void 0===e?void 0:e.id}get activeMatchList(){return this.activeMirrorId&&this.grammarMatchDict[this.activeMirrorId]||[]}get grammarFeatureEnable(){return L.userController.shouldEnableGrammarly&&this.getIsEnabled()}get isOverSessionLimit(){return j.A.grammarSessionNum>=D.EG&&!L.userController.isVipUser}get activeMirrorObj(){return this.mirrorObjList.find(e=>this.activeTarget===e.node)}get activeChecker(){if(this.activeTarget)return this.checkers.find(e=>e.target===this.activeTarget)}addListener(){if(this.registerObserve)return;let e=new MutationObserver(()=>{this.registerThrottleCall()});e.observe(document.body,{childList:!0,subtree:!0}),this.registerObserve=e}removeListener(){this.registerObserve&&(this.registerObserve.disconnect(),this.registerObserve=null)}init(e){this.writingController=e,C.v.getAllConfig().then(e=>{this.grammarCheckBtnDisabledV2=e.grammarCheckBtnDisabledV2,this.grammarFreeModifyNum=e.grammarFreeModifyNum,this.grammarCheckEnabled&&this.addListener()}),C.v.on("storageChange",e=>{void 0!==e.grammarCheckBtnDisabledV2&&(this.grammarCheckBtnDisabledV2=e.grammarCheckBtnDisabledV2),void 0!==e.grammarFreeModifyNum&&(this.grammarFreeModifyNum=e.grammarFreeModifyNum),this.grammarCheckEnabled?this.addListener():this.removeListener()}),(0,h.U5)(()=>j.A.grammarLanguage,e=>(e&&this.activeChecker&&this.activeChecker.checker.triggerRecheck(!0),()=>{})),(0,h.U5)(()=>this.grammarCheckEnabled,()=>(this.toggleGrammarCheck(),()=>{}))}async toggleGrammarCheckBtnDisabled(){this.grammarCheckBtnDisabledV2=!this.grammarCheckBtnDisabledV2,this.sendEvent(this.grammarCheckBtnDisabledV2?D.PR.grammar_close:D.PR.grammar_open),await C.v.setStorage("grammarCheckBtnDisabledV2",this.grammarCheckBtnDisabledV2)}async disableGrammarCheckBtn(){I.sendEvent(D.PR.grammar_close),await C.v.setStorage("grammarCheckBtnDisabledV2",!0)}toggleGrammarCheck(){if(!this.grammarCheckEnabled){let e=[];this.checkers=this.checkers.filter(t=>{var i;let n=(null===(i=this.activeGrammarBox)||void 0===i?void 0:i.checkerId)===t.id||"web"!==t.checker.type;return n||e.push(t),n}),e.forEach(e=>{e.checker.destroy()}),this.checkers.filter(e=>"web"===e.checker.type).forEach(e=>{e.checker.disableHighlight()});return}this.checkers.forEach(e=>{e.checker.enableHighlight()}),this.registerThrottleCall()}createChecker(e,t){let i=this.checkers.find(t=>t.target===e);if(i)return i;let n={id:r.m.genId(),target:e,checker:new S(e,{...t,onMatchTextClick:()=>{this.eventEmitter.emit("onMatchTextClick")}})};return this.checkers.push(n),n}closeChecker(e){let t=this.checkers.find(t=>t.id===e);t&&(t.checker.destroy(),this.checkers=this.checkers.filter(t=>t.id!==e))}closeGrammarBox(e,t){var i;if(k.E.disposeWindow(e),(L.userController.isFreeUser||!this.grammarCheckEnabled)&&!(null===(i=this.writingController)||void 0===i?void 0:i.isFallbackSite)){let e;this.checkers=this.checkers.filter(i=>i.id!==t||(e=i,!1)),(null==e?void 0:e.checker)&&e.checker.destroy()}}setActiveTarget(e){var t;(null===(t=this.activeChecker)||void 0===t?void 0:t.target)!==e&&this.activeGrammarBox&&this.closeGrammarBox(this.activeGrammarBox.windowId,this.activeGrammarBox.checkerId),this.activeTarget=e,this.setActive(e)}setActive(e){if(this.activeInputsCache.every(t=>t!==e)){var t,i;this.activeInputsCache.push(e),(null===(t=this.activeChecker)||void 0===t?void 0:t.checker.mirrorObj.node)===e&&(null===(i=this.activeChecker)||void 0===i||i.checker.mirrorObj.mirror.emitTextChangeEvent())}this.activeInputsCache=this.activeInputsCache.filter(e=>e.isConnected)}sendEvent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{source:i,...n}=t;_.M.createUserBehaviorEvent({eventName:e,source:i,extData:n})}openCheck(){}closeCheck(){}destroy(){}openGrammarFallbackBox(e){let{clientX:t,clientY:i,currentTarget:n}=e,{clientWidth:o,clientHeight:s}=n,{left:a,top:r}=l.x.calculateIframePosition(e.target),c=t+o+a-this.grammarFallbackBoxSize.width,d=i+s+r-this.grammarFallbackBoxSize.height;d<0&&(d=i+s+r),this.grammarFallbackBoxPosition={top:d,left:c},this.grammarFallbackBoxVisible=!0}closeGrammarFallbackBox(){if(this.grammarFallbackBoxVisible&&(this.grammarFallbackBoxVisible=!1,!this.activeMirrorObj))return}prevMatch(e){let t=this.checkers.find(t=>t.id===e);t&&t.checker.toggleMatch("pre")}nextMatch(e){let t=this.checkers.find(t=>t.id===e);t&&t.checker.toggleMatch("next")}deactivateHighlight(){this.activeChecker&&this.activeChecker.checker.clearHighlight()}resetActiveHighlight(){this.activeHighlight=null}async addWordToDictionary(e,t){var i;let n=null===(i=this.checkers.find(t=>t.id===e))||void 0===i?void 0:i.checker;if(n)try{let e=t.match.bad;n.ignoreMatchText(t),await C.v.addGrammarDicWord([e]),C.v.listGrammarDicWord({useCache:!1})}catch(e){b.M.error(this.S.addFailed)}}updateGrammarFallbackBoxSize(e){this.grammarFallbackBoxSize=e}getIsEnabled(){let{isDisable:e}=this.getBlackSiteStatus();return!e}getBlackSiteStatus(){let e=window.location.hostname,t=window.location.pathname,i=e=>"string"==typeof e?t.includes(e):e.test(t),n=D.Q0.find(t=>{if("string"==typeof t)return e.includes(t);let{host:n,include:o,exclude:s}=t;return!!e.includes(n)&&!(s&&s.some(i))&&(!o||o.some(i))}),o=D.kE.all;if(n&&"object"==typeof n){let{disableType:e=D.kE.all}=n;o=e}return{isDisable:!!n,disableType:o}}constructor(){(0,n._)(this,"eventEmitter",new c.v),(0,n._)(this,"grammarMatchDict",{}),(0,n._)(this,"grammarFallbackBoxPosition",{top:0,left:0}),(0,n._)(this,"grammarBoxSize",E),(0,n._)(this,"grammarFallbackBoxSize",N),(0,n._)(this,"grammarFallbackBoxVisible",!1),(0,n._)(this,"grammarDisableDialogSize",M),(0,n._)(this,"grammarCheckBtnDisabledV2",!0),(0,n._)(this,"activeHighlight",null),(0,n._)(this,"mirrorObjList",[]),(0,n._)(this,"activeInputsCache",[]),(0,n._)(this,"activeGrammarBox",null),(0,n._)(this,"grammarFreeModifyNum",10),(0,n._)(this,"activeTarget",null),(0,n._)(this,"attached",!1),(0,n._)(this,"checkers",[]),(0,n._)(this,"writingController",null),(0,n._)(this,"registerObserve",null),(0,n._)(this,"domManager",new w.m),(0,n._)(this,"registerThrottleCall",(0,d.Z)(()=>{let e=this.domManager.detectInputNodes().filter(e=>{let t=this.checkers.find(t=>t.target===e.node);return t&&t.checker.mirrorObj.mirror.registerNode(),!t});this.grammarCheckEnabled&&e.forEach(e=>{let t=r.m.genId();this.checkers.push({id:t,target:e.node,checker:new S(e.node,{inputType:e.type,type:"web",language:()=>j.A.grammarLanguage,checkWhenActive:e=>this.activeInputsCache.some(t=>t===e),defaultHighlightDisabled:!this.grammarCheckEnabled,onMatchTextClick:()=>{this.eventEmitter.emit("onMatchTextClick")}})})});let t=[];this.checkers=this.checkers.filter(e=>{let i=!e.target.isConnected;return i&&t.push(e),!i}),t.forEach(e=>{e.checker.destroy()})},1e3,{trailing:!0})),(0,h.rC)(this)}}(0,o.gn)([s.SB],T.prototype,"grammarMatchDict",void 0),(0,o.gn)([s.SB],T.prototype,"grammarFallbackBoxPosition",void 0),(0,o.gn)([s.SB],T.prototype,"grammarBoxSize",void 0),(0,o.gn)([s.SB],T.prototype,"grammarFallbackBoxSize",void 0),(0,o.gn)([s.SB],T.prototype,"grammarFallbackBoxVisible",void 0),(0,o.gn)([s.SB],T.prototype,"grammarDisableDialogSize",void 0),(0,o.gn)([s.SB],T.prototype,"grammarCheckBtnDisabledV2",void 0),(0,o.gn)([s.SB],T.prototype,"activeHighlight",void 0),(0,o.gn)([s.SB],T.prototype,"mirrorObjList",void 0),(0,o.gn)([s.SB],T.prototype,"activeInputsCache",void 0),(0,o.gn)([s.SB],T.prototype,"activeGrammarBox",void 0),(0,o.gn)([s.SB],T.prototype,"grammarFreeModifyNum",void 0),(0,o.gn)([h.Fl],T.prototype,"S",null),(0,o.gn)([h.Fl],T.prototype,"grammarCheckEnabled",null),(0,o.gn)([h.Fl],T.prototype,"grammarLanguages",null),(0,o.gn)([h.Fl],T.prototype,"activeMirrorId",null),(0,o.gn)([h.Fl],T.prototype,"activeMatchList",null),(0,o.gn)([h.Fl],T.prototype,"grammarFeatureEnable",null),(0,o.gn)([h.Fl],T.prototype,"isOverSessionLimit",null),(0,o.gn)([h.Fl],T.prototype,"activeMirrorObj",null),(0,o.gn)([h.Fl],T.prototype,"activeChecker",null),(0,o.gn)([s.SB],T.prototype,"activeTarget",void 0),(0,o.gn)([s.SB],T.prototype,"attached",void 0),(0,o.gn)([s.SB],T.prototype,"checkers",void 0),(0,o.gn)([s.SB],T.prototype,"writingController",void 0);let I=new T},87038:function(e,t,i){"use strict";i.d(t,{d:function(){return h}});var n,o,s=i(66084),a=i(28901),r=i(10929);let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,{startNode:i,endNode:n,start:o,end:s}=e,a=t.createRange(),r=t.getSelection();(a=a.cloneRange()).setStart(i,o),a.setEnd(n,s+1),r.removeAllRanges(),r.addRange(a)},c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,{startNode:i,endNode:n,start:o,end:s}=e;l(e);let a=t.getSelection();(a.anchorOffset!==o||a.focusOffset!==s||a.anchorNode!==i||a.focusNode!==n)&&l(e,t)},d=["discord.com"];(n=o||(o={}))[n.null=0]="null",n[n.running=1]="running",n[n.willStop=2]="willStop";class h extends r.W{destroy(){var e;this.stopListeningPageResize(),null===(e=this.inputObserver)||void 0===e||e.disconnect(),setTimeout(()=>{var e,t;null===(e=this.root)||void 0===e||e.unmount(),null===(t=this.mirrorDom)||void 0===t||t.remove()},0)}replaceMatchText(e,t){let i=this.getTextNodesFromMatch(e);if(0===i.length)return;let n=d.some(e=>location.host.includes(e));this.replaceGeneralEditorText(i,t,n?"slate":"normal")}async replaceAllMatchText(e){let t=0;if(!e.length)return;let i=[...e],n=i.shift();for(this.fixTaskStatus=1;n;){var o,s;let{offset:e,length:a,activeSugIndex:r,removeSegment:l}=n,c=!l&&(null===(o=n.suggestions)||void 0===o?void 0:o[r])?null===(s=n.suggestions)||void 0===s?void 0:s[r]:"";if(this.replaceMatchText({...n,offset:e+t},c),t+=c.length-a,await new Promise(e=>{setTimeout(()=>{e(!0)},0)}),2===this.fixTaskStatus)break;n=i.shift()}this.fixTaskStatus=0}stopRunningFixing(){1===this.fixTaskStatus&&(this.fixTaskStatus=2)}scrollToMatch(e){}getMatchNode(e,t){let i,n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=e.offset,a=s+e.length-1,r=o;for(let e=o;e<t.length;e++){let{el:o,position:[l,c]}=t[e];!(s>c)&&(s>=l&&(i={el:o,offset:s-l}),a>=l&&a<=c&&(r=e,n={el:o,offset:a-l}))}return i&&n?{match:e,start:i,end:n,scaleX:1,scaleY:1,index:r}:null}async calculateTextBoxFromMatches(e,t){if(1===this.fixTaskStatus)return[];let{textElements:i}=this.getInnerContent(),n=0,o=[],s=[];return e.forEach(e=>{let t=this.getMatchNode(e,i,n);if(t){let{index:e,...i}=t;n=e,o.push({...i})}}),s=await new Promise(e=>{setTimeout(()=>{if(!t()){e([]);return}let{left:i,top:n,width:s,height:a}=this.node.getBoundingClientRect(),r=s/this.node.offsetWidth,l=a/this.node.offsetHeight;e(o.map(e=>{let{start:t,end:o,...s}=e;try{let e=document.createRange();e.setStart(t.el,t.offset),e.setEnd(o.el,o.offset+1);let a=e.getBoundingClientRect(),c=a.left-i,d=a.top-n;return{...s,start:t,end:o,fontRect:{width:a.width/r,height:a.height/l,left:c/r,right:(c+a.width)/r,top:d/l,bottom:(d+a.height)/l,deviation:0},scaleX:r,scaleY:l}}catch(e){return null}}).filter(e=>!!e))},0)}),this.matchWithElementList=s,s}replaceGeneralEditorText(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal";if(!e.length||!window.getSelection())return;let n=e[0].start.el.ownerDocument,o=n.createElement("input");o.style.position="absolute",o.style.left="-9999px",o.style.top="-9999px",n.body.appendChild(o);let{start:{el:s,offset:a}}=e[0],{end:{el:r,offset:l}}=e[e.length-1];c({startNode:s,endNode:r,start:a,end:l},n),o.remove();let d=new InputEvent("beforeinput",{bubbles:!0,cancelable:!0,inputType:"insertText",data:t});d.isMonicaCustomEvent=!0,this.node.dispatchEvent(d),"normal"===i&&n.execCommand("insertText",!1,t)}getTextNodesFromMatch(e){let{id:t}=e,i=[],{textElements:n}=this.getInnerContent(),o=this.getMatchNode(e,n,0);return(this.matchWithElementList.forEach(e=>{let{match:{id:n},start:o,end:s}=e;n===t&&i.push({start:o,end:s})}),o)?[{start:o.start,end:o.end}]:[]}constructor(e){var t;super(e),t=this,(0,s._)(this,"type","contenteditable"),(0,s._)(this,"inputObserver",void 0),(0,s._)(this,"fixTaskStatus",0),(0,s._)(this,"matchWithElementList",[]),(0,s._)(this,"contentCache",null),(0,s._)(this,"getInnerContent",function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];if(e&&t.contentCache)return t.contentCache;let i=a.x.getTextContent(t.node);return t.contentCache=i,i}),(0,s._)(this,"getInnerText",function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return t.getInnerContent(e).text}),(0,s._)(this,"setInnerText",e=>{}),this.registerNode(),this.inputObserver=new MutationObserver(this.emitInputEvent),this.inputObserver.observe(this.node,{subtree:!0,childList:!0,characterData:!0}),this.node.addEventListener("beforeinput",e=>{e.isMonicaCustomEvent||this.stopRunningFixing()}),this.startListeningPageResize()}}},46816:function(e,t,i){"use strict";i.d(t,{v:function(){return r}});var n=i(66084),o=i(28901),s=i(10929),a=i(82498);class r extends s.W{replaceMatchText(e,t){let{offset:i,length:n}=e,{value:o}=this.textareaNode,s=o.slice(0,i)+t+o.slice(i+n);this.triggerTextChangeEvent(s)}async replaceAllMatchText(e){let t=this.textareaNode.value.split("");e.forEach(e=>{var i;let n=e.offset,o=e.offset+e.length;if(e.removeSegment){t.forEach((e,i)=>{i>=n&&i<o&&(t[i]="")});return}let s=null===(i=e.suggestions)||void 0===i?void 0:i[0];s&&t.forEach((e,i)=>{i>=n&&i<o&&(i===n?t[i]=s:t[i]="")})});let i=t.join("");this.triggerTextChangeEvent(i)}scrollToMatch(e){let{offset:t,length:i}=e,n=this.textareaNode.value,o=this.textMeasurement.loadSimpleElement(this.textareaNode,n).doMeasure(t,t+i).top;this.textareaNode.scrollTo({top:o-10,behavior:"smooth"})}async calculateTextBoxFromMatches(e){let t=[],i=this.textareaNode.value,n=this.textMeasurement.loadSimpleElement(this.textareaNode,i);return e.forEach(e=>{let i=n.doMeasure(e.offset,e.length);t.push({match:e,fontRect:i})}),this.mergeMirrorTextNode(t)}destroy(){this.stopListeningPageResize(),this.node.removeEventListener("focus",this.registerNode),this.node.removeEventListener("input",this.emitInputEvent),setTimeout(()=>{var e,t;null===(e=this.root)||void 0===e||e.unmount(),null===(t=this.mirrorDom)||void 0===t||t.remove()},0)}triggerTextChangeEvent(e){o.x.triggerTextareaInputEvent(this.textareaNode,e)}constructor(e){super(e),(0,n._)(this,"type","textarea"),(0,n._)(this,"textMeasurement",new a.f),(0,n._)(this,"textareaNode",void 0),(0,n._)(this,"getInnerText",()=>this.textareaNode.value),(0,n._)(this,"setInnerText",e=>{this.textareaNode.value=e}),this.textareaNode=e.el,this.registerNode(),this.textareaNode.addEventListener("focus",this.registerNode),this.textareaNode.addEventListener("input",()=>{this.emitInputEvent()}),this.startListeningPageResize()}}},20053:function(e,t,i){"use strict";i.d(t,{m:function(){return s}});var n=i(28901),o=i(1159);class s{genInputNodes(e){return e.map(e=>{let t="contenteditable";return e instanceof HTMLTextAreaElement&&(t="textarea"),{type:t,node:e}})}findAllEle(e){let t=n.x.findAccessibleDocuments(),i=[];return t.forEach(t=>{i.push(...e(t))}),i}detectInputNodes(){let e=[];this.findAllEle(e=>[...e.querySelectorAll("textarea")]).forEach(t=>{o.h.checkEditableElement(t,"editor")&&e.push({type:"textarea",node:t})});let t=this.findAllEle(e=>[...e.querySelectorAll("[contenteditable=true]")]),i=null;return t.forEach(t=>{null!=i&&i.contains(t)||(o.h.checkEditableElement(t,"editor")&&e.push({type:"contenteditable",node:t}),i=t)}),e}}},19541:function(e,t,i){"use strict";i.d(t,{g:function(){return o}});var n=i(66084);class o{closeGrammarCheck(){this.isGmail&&(this.injectResetStyle(),this.observer=new MutationObserver(()=>{let e=document.querySelectorAll('[g_editable="true"]');e.length&&e.forEach(e=>{e.getAttribute("wa-gmail-installed")||(e.setAttribute("wa-gmail-installed","true"),e.setAttribute("spellcheck","false"))})}),this.observer.observe(document.body,{childList:!0,subtree:!0}))}openGrammarCheck(){var e;this.isGmail&&(this.unInjectResetStyle(),null===(e=this.observer)||void 0===e||e.disconnect())}injectResetStyle(){if(document.getElementById(this.injectId))return;let e=document.createElement("style");e.id=this.injectId,e.innerHTML="\n      [wa-gmail-installed] [aria-invalid='spelling'],\n      [wa-gmail-installed] [aria-invalid='grammar'],\n      [wa-gmail-installed] .LI.ng,\n      [wa-gmail-installed] .Lm.ng {\n        background: none !important;\n        transition: none !important;\n        border: 0 !important; \n        pointer-events: none !important;\n      }\n    ",document.head.appendChild(e)}unInjectResetStyle(){let e=document.getElementById(this.injectId);e&&document.head.removeChild(e)}constructor(){(0,n._)(this,"injectId","wa_gmail_reset_style"),(0,n._)(this,"isGmail",!1),(0,n._)(this,"observer",void 0),this.isGmail="mail.google.com"===location.hostname}}},10929:function(e,t,i){"use strict";i.d(t,{W:function(){return b}});var n=i(66084),o=i(71576),s=i(27544),a=i(76469),r=i(20978),l=i(75087),c=i(27243),d=i(39160);function h(e,t){t&&Object.entries(t).forEach(t=>{let[i,n]=t;e.style[i]=n})}class u{replace(e,t){let i=[...e.map(e=>this.addLine(e)),...t.map(e=>this.addBlock(e))];for(let[e]of this.addedElementsMap)i.includes(e)||this.deleteLine(e)}deleteLine(e){let t=this.addedElementsMap.get(e);t&&(this.addedElementsMap.delete(e),this.root.removeChild(t))}addLine(e){let t=this.generateUniqueKey("line",e);if(this.addedElementsMap.has(t))return t;let{fill:i,left:n,top:o,width:s}=e,a=this.ownerDocument.createElement("span");return h(a,{height:"2px",width:"".concat(s,"px"),position:"absolute",userSelect:"none",left:"".concat(n,"px"),top:"".concat(o,"px"),backgroundColor:i}),this.root.appendChild(a),this.addedElementsMap.set(t,a),t}addBlock(e){let t=this.generateUniqueKey("block",e);if(this.addedElementsMap.has(t))return t;let{fill:i,left:n,top:o,width:s,height:a}=e,r=this.ownerDocument.createElement("span");return h(r,{height:"".concat(a,"px"),width:"".concat(s,"px"),position:"absolute",userSelect:"none",left:"".concat(n,"px"),top:"".concat(o,"px"),backgroundColor:i}),this.addedElementsMap.set(t,r),this.root.appendChild(r),t}clear(){this.root.replaceChildren(),this.addedElementsMap.clear()}hide(){h(this.root,{display:"none"})}show(){h(this.root,{display:"block"})}constructor(e){(0,n._)(this,"container",void 0),(0,n._)(this,"root",void 0),(0,n._)(this,"ownerDocument",void 0),(0,n._)(this,"addedElementsMap",new Map),(0,n._)(this,"generateUniqueKey",(e,t)=>Object.entries(t).reduce((e,t)=>{let[i,n]=t;return e+"".concat(i,"_").concat(n)},"type_".concat(e))),this.container=e,this.ownerDocument=this.container.ownerDocument,this.root=this.ownerDocument.createElement("div"),h(this.root,{width:"100%",height:"100%",overflow:"hidden",position:"relative",userSelect:"none"}),this.container.appendChild(this.root)}}class p{addMatchTextBox(e,t){this.matchTextBoxDict[e]||(this.matchTextBoxDict[e]=[]),this.matchTextBoxDict[e].push(t)}getMatchTextBox(e,t){let i=this.parentNode.getBoundingClientRect(),n=this.parentNode.scrollTop,o=this.matchTextBoxDict[e],s=t.clientY-i.top,a=0,r=0,l=0,c=0;return o.forEach(e=>{s>=e.top-n&&s<=e.bottom-n&&(0===a&&0===r&&0===l&&0===c?(a=e.left,r=e.right,l=e.top,c=e.bottom):(a=Math.min(e.left,a),r=Math.max(e.right,r),l=Math.min(e.top,l),c=Math.max(e.bottom,c)))}),a+=i.left,r+=i.left,l+=i.top-n,c+=i.top-n,{left:a,right:r,top:l,bottom:c,width:r-a,height:c-l}}clear(){this.matchTextBoxDict={}}constructor(e){(0,n._)(this,"parentNode",void 0),(0,n._)(this,"matchTextBoxDict",void 0),this.parentNode=e,this.matchTextBoxDict={}}}class m{addEventListeners(e,t){var i;this.eventListeners.has(e)||this.eventListeners.set(e,[]),null===(i=this.eventListeners.get(e))||void 0===i||i.push(t)}removeEventListeners(e,t){if(!this.eventListeners.has(e))return;let i=this.eventListeners.get(e);if(!i)return;let n=i.findIndex(e=>e.name===t.name);n>-1&&i.splice(n,1)}removeAllEventListeners(e){this.eventListeners.has(e)&&this.eventListeners.delete(e)}emitEvent(e){var t;let{clientX:i,clientY:n,type:o}=e;this.eventListeners.has(o)&&(null===(t=this.eventListeners.get(o))||void 0===t||t.forEach(t=>{t({clientX:i,clientY:n,mirrorNode:this,ev:e})}))}constructor(e,t={scaleX:1,scaleY:1}){(0,n._)(this,"boxRect",void 0),(0,n._)(this,"options",void 0),(0,n._)(this,"id",void 0),(0,n._)(this,"eventListeners",void 0),this.boxRect=e,this.options=t,this.eventListeners=new Map,this.id="id_".concat(Math.random().toString(36).split(".")[1])}}class g{addNode(e){this.nodeList.push(e)}removeNode(e){let t=this.nodeList.findIndex(t=>t.id===e.id);t>-1&&this.nodeList.splice(t,1)}removeAllNodes(){this.nodeList=[]}destroy(){this.unProxyEvent()}proxyEvent(){this.proxyEventList.forEach(e=>{this.dom.addEventListener(e,this.proxyEventHandler)})}unProxyEvent(){this.proxyEventList.forEach(e=>{this.dom.removeEventListener(e,this.proxyEventHandler)})}constructor(e){(0,n._)(this,"dom",void 0),(0,n._)(this,"nodeList",void 0),(0,n._)(this,"proxyEventList",void 0),(0,n._)(this,"proxyEventHandler",void 0),this.dom=e,this.nodeList=[],this.proxyEventList=["click"],this.proxyEventHandler=e=>{let{clientX:t,clientY:i}=e,{left:n,top:o}=this.dom.getBoundingClientRect(),s=t-n,a=i-o+this.dom.scrollTop;this.nodeList.forEach(t=>{let{boxRect:i,options:{scaleX:n=1,scaleY:o=1}}=t,{left:r,top:l,right:c,bottom:d}=i;s>=r*n&&s<=c*n&&a>=l*o&&a<=d*o&&t.emitEvent(e)})},this.proxyEvent()}}let v="drawUnderline",f=new s.L;class b extends a.v{drawUnderlines(e){this.matchList=e,this.emit(v)}parseNodeStyles(){let e=f.getStyles(this.node),{scrollWidth:t,scrollHeight:i,offsetHeight:n,offsetWidth:o,clientWidth:s,clientHeight:a}=this.node;return{border:e.border||"none",scrollWidth:t,scrollHeight:i,offsetWidth:o,offsetHeight:n,clientWidth:s,clientHeight:a}}startListeningPageResize(){!this.resizeObserver&&this.node.offsetParent&&(this.resizeObserver=new ResizeObserver(()=>{this.isInWebComponent?(this.mirrorDom.style.left="0",this.mirrorDom.style.top="0"):(this.mirrorDom.style.left="".concat(this.node.offsetLeft,"px"),this.mirrorDom.style.top="".concat(this.node.offsetTop,"px"))}),this.resizeObserver.observe(this.node.offsetParent))}stopListeningPageResize(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}mergeMirrorTextNode(e){let t=[],i=null;return e.forEach(e=>{if(!i||i.match.id!==e.match.id||i.fontRect.top!==e.fontRect.top){let n={...e};i=n,t.push(n)}i.match.id===e.match.id&&i.fontRect.top===e.fontRect.top&&(i.fontRect.right=e.fontRect.right,i.fontRect.width=i.fontRect.right-i.fontRect.left)}),t.filter(e=>e.fontRect.width>0)}get isInWebComponent(){var e;return null===(e=this.node.parentElement)||void 0===e?void 0:e.tagName.includes("-")}constructor(e){super(),(0,n._)(this,"options",void 0),(0,n._)(this,"root",void 0),(0,n._)(this,"mirrorDom",void 0),(0,n._)(this,"resizeObserver",void 0),(0,n._)(this,"node",void 0),(0,n._)(this,"matchList",void 0),(0,n._)(this,"historyText",void 0),(0,n._)(this,"registerNode",void 0),(0,n._)(this,"drawHightLightWrapper",void 0),(0,n._)(this,"emitInputEvent",void 0),(0,n._)(this,"emitTextChangeEvent",void 0),this.options=e,this.resizeObserver=null,this.matchList=[],this.historyText="",this.registerNode=()=>{var e,t;this.mirrorDom&&(null===(e=this.node.parentElement)||void 0===e?void 0:e.contains(this.mirrorDom))||(this.mirrorDom=document.createElement("div"),this.mirrorDom.className="".concat(d.HO,"-mirror"),this.mirrorDom.contentEditable="false",this.mirrorDom.style.position="absolute",this.mirrorDom.style.width="0",this.mirrorDom.style.height="0",this.mirrorDom.style.padding="0",this.mirrorDom.style.margin="0",this.isInWebComponent?(this.mirrorDom.slot=this.node.slot,this.mirrorDom.style.left="0",this.mirrorDom.style.top="0"):(this.mirrorDom.style.left="".concat(this.node.offsetLeft,"px"),this.mirrorDom.style.top="".concat(this.node.offsetTop,"px")),null===(t=this.node.parentElement)||void 0===t||t.appendChild(this.mirrorDom),this.root=(0,c.createRoot)(this.mirrorDom),this.root.render((0,o.jsx)(this.drawHightLightWrapper,{})))},this.drawHightLightWrapper=()=>{let e=(0,l.useRef)(null),[t,i]=(0,l.useState)(this.node.scrollTop),n=this.parseNodeStyles(),[s,a]=(0,l.useState)(n),r=(0,l.useRef)(0);(0,l.useEffect)(()=>{let t=new g(this.node),n=new p(this.node),o=new u(e.current),s=async()=>{let e=r.current+=1;t.removeAllNodes(),n.clear();let i=await this.calculateTextBoxFromMatches(this.matchList,()=>e===r.current);if(e!==r.current)return;let s=[],a=[];null==i||i.forEach(e=>{let{match:i,fontRect:o,scaleX:r=1,scaleY:l=1}=e;n.addMatchTextBox(i.id,o);let c=new m(o,{scaleX:r,scaleY:l});c.addEventListeners("click",e=>{e.ev.stopPropagation(),e.ev.preventDefault();let t=n.getMatchTextBox(i.id,e);this.options.onMatchTextClick({clientX:e.clientX,clientY:e.clientY,...t},i)}),t.addNode(c);let{left:d,top:h,bottom:u,width:p,height:g}=o;s.push({left:d,top:u,width:p,fill:i.underlineColor}),i.active&&a.push({width:p,height:g,fill:i.highlightColor,left:d,top:h})}),o.replace(s,a)};s();let l=e=>{let{scrollTop:t}=e.target;i(t)};this.node.addEventListener("scroll",l);let c=this.on(v,()=>{s()}),d=new ResizeObserver(()=>{a(this.parseNodeStyles()),s()});return d.observe(this.node),()=>{d.disconnect(),t.destroy(),this.off(v,c),this.node.removeEventListener("scroll",l)}},[]);let{clientWidth:c,clientHeight:h,scrollWidth:f,scrollHeight:b,border:C}=s;return(0,o.jsx)("div",{className:"".concat(d.HO,"-mirror__wrapper"),spellCheck:!1,style:{width:c,height:h,overflow:"hidden",position:"relative",pointerEvents:"none",border:C},children:(0,o.jsx)("div",{className:"".concat(d.HO,"-mirror__drawing-board"),ref:e,style:{position:"absolute",left:0,width:f,height:b,top:-t,zIndex:1}})})},this.emitInputEvent=()=>{let e=this.getInnerText(!1);this.historyText=e,this.options.onInput(),this.emitTextChangeEvent()},this.emitTextChangeEvent=(0,r.Z)(()=>{this.options.onTextChange(this.getInnerText())},800,{trailing:!0}),this.node=e.el,setTimeout(()=>{this.emitInputEvent()},0),this.node.addEventListener("focus",()=>{e.onFocus()})}}},64859:function(e,t,i){"use strict";i.d(t,{H_:function(){return o},TH:function(){return n},mZ:function(){return s}});let n=e=>e.split(RegExp("(?<=||||)|(?<=\\.)(?=[^a-zA-Z0-9_])","g")),o=(e,t)=>{let i=[],n=0,o=e.length,s=0;return t.forEach(t=>{let a=[];for(let i=n;i<o;i++){let{offset:o,length:r}=e[i],l=o-s,c=l+r;if(!(l<0)){if(l>t.length||c>t.length)break;n=i,a.push({...e[i],position:{offset:l,length:r}})}}i.push({text:t,errors:a}),s+=t.length}),i},s=e=>{let t=[],i="",n=0;return e.forEach(e=>{let{text:o,errors:s}=e;s.forEach(e=>{let{position:i,...o}=e;t.push({...o,offset:i.offset+n,length:i.length})}),i+=o,n+=o.length}),{results:t,originText:i}}},77651:function(e,t,i){"use strict";i.d(t,{U:function(){return na}});var n=i(66084),o=i(52921),s=i(34491),a=i(22046),r=i(62753),l=i(13942),c=i(90180),d=i(33381),h=i(18918),u=i(1396),p=i(87393),m=i(90230),g=i(67925),v=i(92849),f=i(19613),b=i(1159),C=i(8621),A=i(37949),x=i(92020),y=i(71576),S=i(92235),w=i(88882),k=i(78716),_=i.n(k),j=i(66952),L=i(60445),D=i(95782),E=i(61658),N=i(5857),M=i(36047),T=i(15364),I=i(47720),B={"vip-tag":"vip-tag--h6vyv",vipTag:"vip-tag--h6vyv",starter:"starter--s8Abd",basic:"basic--lbUSt",boost:"boost--ERdgS",elite:"elite--k8dzB","is-free":"is-free--PrGoo",isFree:"is-free--PrGoo"},P=i(73047);class O extends s.PN{get S(){return w.S.Global.components.Vip.VipTag}onViewCreate(){}onViewDestroy(){}constructor(...e){super(...e),(0,n._)(this,"props",void 0)}}(0,o.gn)([P.Fl],O.prototype,"S",null);let U=s._Y.createComponent("VipTag",O,e=>{var t;let{className:i,style:n,children:o,hideTeamPlan:s}=e.props,a=null===(t=d.userController.userVipStatus)||void 0===t?void 0:t.vipVersion;if(s&&"team"===a||!a&&!o)return null;let r=!a||"free"===a,l=r?e.S.free:I.serverConfigController.copywritingManager.getVersionDisplayName(a,!0);return(0,y.jsx)("div",{className:_()(B.vipTag,i,{[B.isFree]:r},a&&B[a]),style:n,children:o||l})});var R=i(58812);class F extends s.PN{constructor(...e){super(...e),(0,n._)(this,"props",void 0)}}var H=JSON.parse('{"fill":"none","content":"\\n<g id=\\"setting\\">\\n<path id=\\"Vector\\" fill-rule=\\"evenodd\\" clip-rule=\\"evenodd\\" d=\\"M11.3807 1.09432C11.789 1.00754 12.211 1.00754 12.6193 1.09432C13.0843 1.19317 13.5062 1.43733 14.0149 1.73167C14.0471 1.75034 14.0798 1.76922 14.1128 1.78827L19.7872 5.06442C19.8202 5.08348 19.8529 5.10229 19.8852 5.1209C20.3944 5.41424 20.8168 5.65756 21.135 6.01087C21.4143 6.32105 21.6252 6.68648 21.7542 7.08345C21.9011 7.5356 21.9007 8.02309 21.9001 8.61075C21.9 8.64804 21.9 8.68573 21.9 8.72385V15.2761C21.9 15.3143 21.9 15.352 21.9001 15.3892C21.9007 15.9769 21.9011 16.4644 21.7542 16.9165C21.6252 17.3135 21.4143 17.6789 21.135 17.9891C20.8169 18.3424 20.3944 18.5858 19.8852 18.8791C19.8529 18.8977 19.8202 18.9165 19.7872 18.9356L14.1128 22.2117C14.0798 22.2308 14.0471 22.2497 14.0149 22.2683C13.5062 22.5627 13.0843 22.8068 12.6193 22.9057C12.211 22.9925 11.789 22.9925 11.3807 22.9057C10.9157 22.8068 10.4938 22.5627 9.98514 22.2683C9.95286 22.2497 9.92024 22.2308 9.88723 22.2117L4.21277 18.9356C4.17976 18.9165 4.1471 18.8977 4.11478 18.8791C3.60556 18.5858 3.18315 18.3424 2.86503 17.9891C2.58574 17.6789 2.37476 17.3135 2.24578 16.9165C2.09886 16.4644 2.09934 15.9769 2.09993 15.3892C2.09996 15.352 2.1 15.3143 2.1 15.2762V8.72385C2.1 8.68574 2.09996 8.64805 2.09993 8.61076C2.09934 8.02309 2.09886 7.5356 2.24578 7.08345C2.37476 6.68648 2.58574 6.32105 2.86503 6.01087C3.18315 5.65756 3.60557 5.41424 4.11479 5.1209C4.1471 5.10229 4.17976 5.08348 4.21277 5.06442L9.88723 1.78827C9.92023 1.76922 9.95286 1.75034 9.98513 1.73167C10.4938 1.43733 10.9157 1.19317 11.3807 1.09432ZM12.245 2.85499C12.0835 2.82065 11.9165 2.82065 11.755 2.85499C11.6055 2.88676 11.4456 2.96703 10.7872 3.34712L5.11277 6.62327C4.45444 7.00336 4.30494 7.10174 4.20269 7.2153C4.09219 7.33803 4.00871 7.48262 3.95768 7.63968C3.91046 7.78501 3.9 7.96367 3.9 8.72385V15.2762C3.9 16.0363 3.91046 16.215 3.95768 16.3603C4.00871 16.5174 4.09219 16.662 4.20269 16.7847C4.30494 16.8983 4.45444 16.9966 5.11277 17.3767L10.7872 20.6529C11.4456 21.033 11.6055 21.1132 11.755 21.145C11.9165 21.1793 12.0835 21.1793 12.245 21.145C12.3945 21.1132 12.5544 21.033 13.2128 20.6529L18.8872 17.3767C19.5456 16.9966 19.6951 16.8983 19.7973 16.7847C19.9078 16.662 19.9913 16.5174 20.0423 16.3603C20.0895 16.215 20.1 16.0363 20.1 15.2761V8.72385C20.1 7.96367 20.0895 7.78501 20.0423 7.63968C19.9913 7.48262 19.9078 7.33803 19.7973 7.2153C19.6951 7.10174 19.5456 7.00336 18.8872 6.62327L13.2128 3.34712C12.5544 2.96703 12.3945 2.88676 12.245 2.85499ZM12 9.78231C10.7752 9.78231 9.78231 10.7752 9.78231 12C9.78231 13.2248 10.7752 14.2177 12 14.2177C13.2248 14.2177 14.2177 13.2248 14.2177 12C14.2177 10.7752 13.2248 9.78231 12 9.78231ZM7.98231 12C7.98231 9.78109 9.78109 7.98231 12 7.98231C14.2189 7.98231 16.0177 9.78109 16.0177 12C16.0177 14.2189 14.2189 16.0177 12 16.0177C9.78109 16.0177 7.98231 14.2189 7.98231 12Z\\" fill=\\"black\\"/>\\n</g>\\n\\n","viewBox":"0 0 24 24"}');let V=s._Y.createComponent("SettingIcon",F,e=>(0,y.jsx)(R.s,{...e.props,name:"SettingIcon",iconData:H}));class W extends s.PN{constructor(...e){super(...e),(0,n._)(this,"props",void 0)}}var Q=JSON.parse('{"fill":"none","content":"\\n<g id=\\"Line/&#230;&#150;&#185;&#229;&#144;&#145;/&#229;&#144;&#145;&#229;&#143;&#179;\\">\\n<g id=\\"Vector\\">\\n<path fill-rule=\\"evenodd\\" clip-rule=\\"evenodd\\" d=\\"M4.5 3.25C4.84518 3.25 5.125 2.97018 5.125 2.625C5.125 2.27982 4.84518 2 4.5 2H3.25C2.21447 2 1.375 2.83947 1.375 3.875V12.125C1.375 13.1605 2.21447 14 3.25 14H4.5C4.84518 14 5.125 13.7202 5.125 13.375C5.125 13.0298 4.84518 12.75 4.5 12.75H3.25C2.90482 12.75 2.625 12.4702 2.625 12.125V3.875C2.625 3.52982 2.90482 3.25 3.25 3.25H4.5Z\\" fill=\\"#55555D\\"/>\\n<path d=\\"M9.99376 11.4367L12.7601 8.625L5.06433 8.625C4.71915 8.625 4.43933 8.34518 4.43933 8C4.43933 7.65482 4.71915 7.375 5.06433 7.375L12.7601 7.375L9.99376 4.56333C9.75168 4.31728 9.7549 3.92157 10.0009 3.67948C10.247 3.43739 10.6427 3.44061 10.8848 3.68667L14.266 7.12333C14.7447 7.60979 14.7447 8.39021 14.266 8.87667L10.8848 12.3133C10.6427 12.5594 10.247 12.5626 10.0009 12.3205C9.7549 12.0784 9.75168 11.6827 9.99376 11.4367Z\\" fill=\\"#55555D\\"/>\\n</g>\\n</g>\\n\\n","viewBox":"0 0 16 16"}');let z=s._Y.createComponent("LogoutIcon",W,e=>(0,y.jsx)(R.s,{...e.props,name:"LogoutIcon",iconData:Q}));var G=i(57774),q=i(54560),J=i(38172),Y=i(75087),K=i(56607),Z=i(38157);class X extends s.PN{constructor(...e){super(...e),(0,n._)(this,"props",void 0)}}var $=JSON.parse('{"fill":"none","content":"\\n<path fill-rule=\\"evenodd\\" clip-rule=\\"evenodd\\" d=\\"M14.0002 3.4501C12.9923 3.4501 12.1752 4.26718 12.1752 5.2751C12.1752 6.28302 12.9923 7.1001 14.0002 7.1001C15.0081 7.1001 15.8252 6.28302 15.8252 5.2751C15.8252 4.26718 15.0081 3.4501 14.0002 3.4501ZM10.8971 4.6001C11.2065 3.17085 12.4783 2.1001 14.0002 2.1001C15.7537 2.1001 17.1752 3.52159 17.1752 5.2751C17.1752 7.0286 15.7537 8.4501 14.0002 8.4501C12.4783 8.4501 11.2065 7.37935 10.8971 5.9501L1.5002 5.9501C1.1274 5.9501 0.825195 5.64789 0.825195 5.2751C0.825195 4.90231 1.1274 4.6001 1.5002 4.6001L10.8971 4.6001ZM4.0002 10.8668C2.99228 10.8668 2.1752 11.6838 2.1752 12.6918C2.1752 13.6997 2.99228 14.5168 4.0002 14.5168C5.00812 14.5168 5.8252 13.6997 5.8252 12.6918C5.8252 11.6838 5.00811 10.8668 4.0002 10.8668ZM0.825195 12.6918C0.825195 10.9383 2.24669 9.51676 4.0002 9.51676C5.52207 9.51676 6.79385 10.5875 7.10329 12.0168H16.5002C16.873 12.0168 17.1752 12.319 17.1752 12.6918C17.1752 13.0646 16.873 13.3668 16.5002 13.3668L7.10329 13.3668C6.79385 14.796 5.52207 15.8668 4.0002 15.8668C2.24669 15.8668 0.825195 14.4453 0.825195 12.6918Z\\" fill=\\"#222226\\"/>\\n\\n","viewBox":"0 0 18 18"}');let ee=s._Y.createComponent("GeneralIcon",X,e=>(0,y.jsx)(R.s,{...e.props,name:"GeneralIcon",iconData:$}));class et extends s.PN{constructor(...e){super(...e),(0,n._)(this,"props",void 0)}}var ei=JSON.parse('{"fill":"none","content":"\\n<path fill-rule=\\"evenodd\\" clip-rule=\\"evenodd\\" d=\\"M9.0002 2.1752C5.6082 2.1752 2.9252 4.763 2.9252 7.87519C2.9252 10.9874 5.6082 13.5752 9.0002 13.5752C12.3922 13.5752 15.0752 10.9874 15.0752 7.87519C15.0752 4.763 12.3922 2.1752 9.0002 2.1752ZM1.5752 7.87519C1.5752 3.94576 4.93635 0.825195 9.0002 0.825195C13.064 0.825195 16.4252 3.94576 16.4252 7.87519C16.4252 11.8046 13.064 14.9252 9.0002 14.9252C4.93635 14.9252 1.5752 11.8046 1.5752 7.87519ZM12.5402 6.34519C12.7639 6.64343 12.7034 7.06652 12.4052 7.29019L11.6252 7.87519L12.4052 8.46019C12.7034 8.68387 12.7639 9.10696 12.5402 9.40519C12.3165 9.70343 11.8934 9.76387 11.5952 9.54019L10.0952 8.41519C9.92523 8.28772 9.8252 8.08766 9.8252 7.87519C9.8252 7.66273 9.92523 7.46267 10.0952 7.3352L11.5952 6.2102C11.8934 5.98652 12.3165 6.04696 12.5402 6.34519ZM6.3752 6.07519C6.74799 6.07519 7.0502 6.3774 7.0502 6.7502V9.00019C7.0502 9.37299 6.74799 9.67519 6.3752 9.67519C6.0024 9.67519 5.7002 9.37299 5.7002 9.00019V6.7502C5.7002 6.3774 6.0024 6.07519 6.3752 6.07519ZM1.5752 16.5002C1.5752 16.1274 1.8774 15.8252 2.2502 15.8252H15.7502C16.123 15.8252 16.4252 16.1274 16.4252 16.5002C16.4252 16.873 16.123 17.1752 15.7502 17.1752H2.2502C1.8774 17.1752 1.5752 16.873 1.5752 16.5002Z\\" fill=\\"#222226\\"/>\\n\\n","viewBox":"0 0 18 18"}');let en=s._Y.createComponent("MonicaFloatingIcon",et,e=>(0,y.jsx)(R.s,{...e.props,name:"MonicaFloatingIcon",iconData:ei}));class eo extends s.PN{constructor(...e){super(...e),(0,n._)(this,"props",void 0)}}var es=JSON.parse('{"fill":"none","content":"\\n<path fill-rule=\\"evenodd\\" clip-rule=\\"evenodd\\" d=\\"M5.82168 1.5752H12.1782C12.7843 1.57519 13.2799 1.57518 13.6827 1.60809C14.0996 1.64216 14.4762 1.71482 14.8279 1.894C15.3783 2.17443 15.8257 2.6219 16.1061 3.17227C16.2853 3.52394 16.358 3.9005 16.3921 4.31743C16.425 4.72024 16.425 5.21588 16.425 5.82192V12.1785C16.425 12.7845 16.425 13.2802 16.3921 13.683C16.358 14.0999 16.2853 14.4765 16.1061 14.8281C15.8257 15.3785 15.3783 15.826 14.8279 16.1064C14.4762 16.2856 14.0996 16.3582 13.6827 16.3923C13.2799 16.4252 12.7843 16.4252 12.1782 16.4252H5.82167C5.21563 16.4252 4.72 16.4252 4.31719 16.3923C3.90025 16.3582 3.5237 16.2856 3.17203 16.1064C2.62166 15.826 2.17419 15.3785 1.89376 14.8281C1.71457 14.4765 1.64191 14.0999 1.60785 13.683C1.57494 13.2802 1.57494 12.7845 1.57495 12.1785V5.82192C1.57494 5.21588 1.57494 4.72024 1.60785 4.31743C1.64191 3.9005 1.71457 3.52394 1.89376 3.17227C2.17419 2.6219 2.62166 2.17443 3.17203 1.894C3.5237 1.71482 3.90025 1.64216 4.31719 1.60809C4.72 1.57518 5.21564 1.57519 5.82168 1.5752ZM11.925 15.0752H12.15C12.7911 15.0752 13.2315 15.0747 13.5728 15.0468C13.9062 15.0195 14.0854 14.9696 14.215 14.9035C14.5113 14.7525 14.7523 14.5116 14.9033 14.2152C14.9693 14.0856 15.0193 13.9065 15.0465 13.573C15.0744 13.2317 15.075 12.7914 15.075 12.1502V5.8502C15.075 5.209 15.0744 4.7687 15.0465 4.42737C15.0193 4.09392 14.9693 3.9148 14.9033 3.78516C14.7523 3.48881 14.5113 3.24786 14.215 3.09686C14.0854 3.03081 13.9062 2.98085 13.5728 2.95361C13.2315 2.92572 12.7911 2.9252 12.15 2.9252H11.925V15.0752ZM10.575 2.9252V15.0752H5.84995C5.20875 15.0752 4.76845 15.0747 4.42712 15.0468C4.09367 15.0195 3.91455 14.9696 3.78492 14.9035C3.48856 14.7525 3.24762 14.5116 3.09662 14.2152C3.03056 14.0856 2.98061 13.9065 2.95336 13.573C2.92548 13.2317 2.92495 12.7914 2.92495 12.1502V5.8502C2.92495 5.209 2.92548 4.7687 2.95336 4.42737C2.98061 4.09392 3.03056 3.9148 3.09662 3.78516C3.24762 3.48881 3.48856 3.24786 3.78492 3.09686C3.91455 3.03081 4.09367 2.98085 4.42712 2.95361C4.76845 2.92572 5.20875 2.9252 5.84995 2.9252H10.575Z\\" fill=\\"#222226\\"/>\\n\\n","viewBox":"0 0 18 18"}');let ea=s._Y.createComponent("SidebarIcon",eo,e=>(0,y.jsx)(R.s,{...e.props,name:"SidebarIcon",iconData:es}));class er extends s.PN{constructor(...e){super(...e),(0,n._)(this,"props",void 0)}}var el=JSON.parse('{"fill":"none","content":"\\n<path fill-rule=\\"evenodd\\" clip-rule=\\"evenodd\\" d=\\"M10.7578 2.03306C11.4689 1.32231 12.6216 1.32231 13.3327 2.03306L16.6415 5.34029C17.3528 6.05121 17.3528 7.20397 16.6415 7.91489L10.5796 13.9739C10.0328 14.5204 9.22493 14.6467 8.55748 14.3528L8.11495 14.7951C7.62168 15.2881 6.91588 15.4391 6.2924 15.2481L5.38769 16.1524C5.26112 16.2789 5.08948 16.35 4.91051 16.35H1.49997C1.23005 16.35 0.986082 16.1892 0.879654 15.9411C0.773226 15.6931 0.824801 15.4055 1.01079 15.2099L3.50112 12.5907C3.19941 11.9208 3.32382 11.1058 3.87435 10.5556L4.31657 10.1136C4.02265 9.44626 4.14909 8.6386 4.69588 8.09206L10.7578 2.03306ZM8.95117 13.0112C8.95005 13.0101 8.94892 13.0089 8.9478 13.0078L5.66156 9.72313C5.6604 9.72197 5.65924 9.72082 5.65808 9.71967L5.65025 9.71185C5.4665 9.52819 5.4665 9.23055 5.65025 9.04689L11.7122 2.98788C11.8961 2.80404 12.1944 2.80404 12.3784 2.98788L15.6872 6.29511C15.8709 6.47877 15.8709 6.77641 15.6872 6.96007L9.62524 13.0191C9.44132 13.2029 9.14298 13.2029 8.95905 13.0191L8.95117 13.0112ZM5.18436 11.1549L4.82871 11.5104C4.64497 11.6941 4.64497 11.9917 4.82871 12.1754L6.4944 13.8402C6.67833 14.0241 6.97666 14.0241 7.16059 13.8402L7.51578 13.4852L5.18436 11.1549ZM4.37511 13.6307L3.07317 15H4.63101L5.18804 14.4432L4.37511 13.6307ZM9.82497 15.675C9.82497 15.3022 10.1272 15 10.5 15H16.5C16.8728 15 17.175 15.3022 17.175 15.675C17.175 16.0478 16.8728 16.35 16.5 16.35H10.5C10.1272 16.35 9.82497 16.0478 9.82497 15.675Z\\" fill=\\"#222226\\"/>\\n\\n","viewBox":"0 0 18 18"}');let ec=s._Y.createComponent("MakerIcon",er,e=>(0,y.jsx)(R.s,{...e.props,name:"MakerIcon",iconData:el}));var ed=i(85727),eh=i(42614);class eu extends s.PN{constructor(...e){super(...e),(0,n._)(this,"props",void 0)}}var ep=JSON.parse('{"fill":"none","content":"\\n<g id=\\"pen\\">\\n<path id=\\"Vector\\" fill-rule=\\"evenodd\\" clip-rule=\\"evenodd\\" d=\\"M9.35413 2.54809C9.06774 2.2617 8.60342 2.2617 8.31704 2.54809L7.1529 3.71223L12.2858 8.84516L13.45 7.68102C13.7364 7.39464 13.7364 6.93032 13.45 6.64393L9.35413 2.54809ZM5.56901 3.59907L7.46851 1.69956C8.22353 0.944547 9.44764 0.944547 10.2027 1.69956L14.2985 5.79541C15.0535 6.55042 15.0535 7.77454 14.2985 8.52955L12.3992 10.4289L11.1109 13.6495C10.8173 14.3835 10.1064 14.8648 9.31587 14.8648H3.06663C1.99888 14.8648 1.1333 13.9993 1.1333 12.9315L1.1333 6.68228C1.1333 5.89173 1.61461 5.18083 2.34861 4.88722L5.56901 3.59907ZM6.30284 4.59797L2.79428 6.0014C2.51586 6.11276 2.3333 6.38242 2.3333 6.68228L2.3333 12.8247L5.77878 9.37924C6.01309 9.14493 6.39299 9.14493 6.62731 9.37924C6.86162 9.61356 6.86162 9.99346 6.62731 10.2278L3.19023 13.6649H9.31587C9.61574 13.6649 9.88539 13.4823 9.99675 13.2039L11.4002 9.69531L6.30284 4.59797Z\\" fill=\\"#222226\\"/>\\n</g>\\n\\n","viewBox":"0 0 16 16"}');let em=s._Y.createComponent("WriteIcon",eu,e=>(0,y.jsx)(R.s,{...e.props,name:"WriteIcon",iconData:ep}));class eg extends s.PN{constructor(...e){super(...e),(0,n._)(this,"props",void 0)}}var ev=JSON.parse('{"fill":"none","content":"\\n<g id=\\"web-star\\">\\n<g id=\\"Vector\\">\\n<path fill-rule=\\"evenodd\\" clip-rule=\\"evenodd\\" d=\\"M6.76231 2.09998H17.2377C18.0458 2.09997 18.7066 2.09996 19.2437 2.14384C19.7996 2.18926 20.3017 2.28614 20.7706 2.52505C21.5044 2.89896 22.101 3.49558 22.4749 4.22941C22.7138 4.6983 22.8107 5.20039 22.8561 5.7563C22.9 6.29338 22.9 6.95423 22.9 7.76227V12C22.9 12.497 22.4971 12.9 22 12.9C21.503 12.9 21.1 12.497 21.1 12V9.89998H2.90001V16.2C2.90001 17.0549 2.90071 17.642 2.93789 18.0971C2.97422 18.5417 3.04082 18.7805 3.12889 18.9534C3.33023 19.3485 3.65149 19.6698 4.04663 19.8711C4.21947 19.9592 4.4583 20.0258 4.9029 20.0621C5.35801 20.0993 5.94508 20.1 6.8 20.1H11C11.4971 20.1 11.9 20.5029 11.9 21C11.9 21.497 11.4971 21.9 11 21.9H6.7623C5.95425 21.9 5.2934 21.9 4.75632 21.8561C4.20041 21.8107 3.69833 21.7138 3.22944 21.4749C2.49561 21.101 1.89899 20.5044 1.52508 19.7705C1.28617 19.3016 1.18929 18.7996 1.14387 18.2437C1.09999 17.7066 1.1 17.0457 1.10001 16.2377V7.76228C1.1 6.95422 1.09999 6.29337 1.14387 5.75629C1.18929 5.20038 1.28617 4.6983 1.52508 4.22941C1.89899 3.49558 2.49561 2.89896 3.22944 2.52505C3.69833 2.28614 4.20041 2.18926 4.75632 2.14384C5.2934 2.09996 5.95425 2.09997 6.76231 2.09998ZM2.90001 8.09998H21.1V7.79998C21.1 6.94506 21.0993 6.35799 21.0621 5.90288C21.0258 5.45827 20.9592 5.21944 20.8711 5.0466C20.6698 4.65146 20.3485 4.3302 19.9534 4.12886C19.7805 4.04079 19.5417 3.97419 19.0971 3.93786C18.642 3.90068 18.0549 3.89998 17.2 3.89998H6.80001C5.94508 3.89998 5.35801 3.90068 4.9029 3.93786C4.4583 3.97418 4.21947 4.04079 4.04663 4.12886C3.65149 4.3302 3.33023 4.65146 3.12889 5.0466C3.04082 5.21944 2.97422 5.45827 2.93789 5.90287C2.90071 6.35798 2.90001 6.94505 2.90001 7.79998V8.09998Z\\" fill=\\"black\\"/>\\n<path fill-rule=\\"evenodd\\" clip-rule=\\"evenodd\\" d=\\"M17.8044 12.7995C18.0828 12.6668 18.4062 12.6668 18.6846 12.7995C18.9392 12.9209 19.0708 13.1274 19.122 13.2109C19.176 13.2992 19.2293 13.4072 19.2721 13.4941C19.2752 13.5003 19.2782 13.5065 19.2812 13.5125L20.1513 15.2753L22.0978 15.5598C22.1045 15.5608 22.1113 15.5618 22.1182 15.5628C22.214 15.5768 22.3331 15.5941 22.4337 15.6183C22.529 15.6412 22.7659 15.7027 22.9598 15.9075C23.1719 16.1313 23.2716 16.4389 23.2313 16.7446C23.1943 17.0243 23.0386 17.2131 22.975 17.2875C22.9077 17.3661 22.8214 17.4501 22.752 17.5176C22.747 17.5225 22.7421 17.5273 22.7373 17.532L21.3297 18.9029L21.6618 20.8394C21.6629 20.846 21.6641 20.8527 21.6653 20.8596C21.6817 20.9551 21.7021 21.0738 21.7103 21.177C21.7181 21.2746 21.733 21.5191 21.5983 21.767C21.4511 22.0381 21.1894 22.2282 20.8861 22.2844C20.6087 22.3358 20.3808 22.2461 20.2904 22.2085C20.1947 22.1689 20.0882 22.1127 20.0024 22.0676C19.9963 22.0644 19.9902 22.0612 19.9843 22.058L18.2445 21.1431L16.5047 22.058C16.4988 22.0612 16.4927 22.0644 16.4865 22.0676C16.4008 22.1127 16.2942 22.1689 16.1986 22.2085C16.1082 22.2461 15.8803 22.3358 15.6029 22.2844C15.2996 22.2282 15.0379 22.0381 14.8907 21.767C14.756 21.5191 14.7709 21.2746 14.7787 21.177C14.7868 21.0738 14.8073 20.9551 14.8237 20.8596C14.8249 20.8528 14.826 20.846 14.8272 20.8394L15.1593 18.9029L13.7517 17.532C13.7469 17.5273 13.742 17.5225 13.737 17.5176C13.6676 17.4501 13.5813 17.3661 13.514 17.2875C13.4503 17.2131 13.2946 17.0243 13.2577 16.7446C13.2173 16.4389 13.3171 16.1313 13.5291 15.9075C13.7231 15.7027 13.96 15.6412 14.0552 15.6183C14.1559 15.5941 14.275 15.5768 14.3708 15.5628C14.3777 15.5618 14.3845 15.5608 14.3911 15.5598L16.3377 15.2753L17.2078 13.5125C17.2108 13.5065 17.2138 13.5003 17.2169 13.4941C17.2597 13.4072 17.313 13.2992 17.367 13.2109C17.4181 13.1274 17.5497 12.9209 17.8044 12.7995ZM18.2445 15.0271L17.6692 16.1926C17.6692 16.1926 17.6675 16.1961 17.6661 16.1991C17.6494 16.2346 17.5815 16.3793 17.4704 16.4989C17.3803 16.5958 17.2724 16.6743 17.1524 16.73C17.0044 16.7989 16.8458 16.8189 16.8069 16.8239C16.8037 16.8243 16.7997 16.8248 16.7997 16.8248L15.512 17.013L16.4429 17.9197C16.4429 17.9197 16.4458 17.9224 16.4482 17.9247C16.4768 17.9515 16.5936 18.0609 16.6732 18.2038C16.7376 18.3195 16.7789 18.4466 16.7949 18.5781C16.8146 18.7404 16.7844 18.8976 16.7771 18.9362C16.7764 18.9394 16.7757 18.9433 16.7757 18.9433L16.5562 20.2232L17.7064 19.6183C17.7064 19.6183 17.7099 19.6164 17.7127 19.6149C17.7471 19.5959 17.8873 19.5187 18.0477 19.4872C18.1777 19.4618 18.3113 19.4618 18.4413 19.4872C18.6017 19.5187 18.7419 19.5959 18.7762 19.6149C18.7791 19.6164 18.7826 19.6183 18.7826 19.6183L19.9328 20.2232L19.7133 18.9433C19.7133 18.9433 19.7125 18.9394 19.7119 18.9362C19.7045 18.8976 19.6744 18.7404 19.6941 18.5781C19.71 18.4466 19.7514 18.3195 19.8158 18.2038C19.8953 18.0609 20.0121 17.9515 20.0408 17.9247C20.0432 17.9224 20.0461 17.9197 20.0461 17.9197L20.9769 17.013L19.6892 16.8248C19.6892 16.8248 19.6853 16.8243 19.6821 16.8239C19.6432 16.8189 19.4846 16.7989 19.3366 16.73C19.2166 16.6743 19.1086 16.5958 19.0186 16.4989C18.9075 16.3793 18.8395 16.2346 18.8229 16.1991C18.8215 16.1961 18.8198 16.1926 18.8198 16.1926L18.2445 15.0271Z\\" fill=\\"black\\"/>\\n</g>\\n</g>\\n\\n","viewBox":"0 0 24 24"}');let ef=s._Y.createComponent("WebStarIcon",eg,e=>(0,y.jsx)(R.s,{...e.props,name:"WebStarIcon",iconData:ev}));var eb=i(89347);class eC extends s.PN{constructor(...e){super(...e),(0,n._)(this,"props",void 0)}}var eA=JSON.parse('{"fill":"none","content":"\\n<path fill-rule=\\"evenodd\\" clip-rule=\\"evenodd\\" d=\\"M1.57495 4.49995C1.57495 2.88452 2.88452 1.57495 4.49995 1.57495C6.11538 1.57495 7.42495 2.88452 7.42495 4.49995V6.07495H10.575V4.49995C10.575 2.88452 11.8845 1.57495 13.5 1.57495C15.1154 1.57495 16.425 2.88452 16.425 4.49995C16.425 6.11538 15.1154 7.42495 13.5 7.42495H11.925V10.575H13.5C15.1154 10.575 16.425 11.8845 16.425 13.5C16.425 15.1154 15.1154 16.425 13.5 16.425C11.8845 16.425 10.575 15.1154 10.575 13.5V11.925H7.42495V13.5C7.42495 15.1154 6.11538 16.425 4.49995 16.425C2.88452 16.425 1.57495 15.1154 1.57495 13.5C1.57495 11.8845 2.88452 10.575 4.49995 10.575H6.07495V7.42495H4.49995C2.88452 7.42495 1.57495 6.11538 1.57495 4.49995ZM6.07495 6.07495V4.49995C6.07495 3.6301 5.3698 2.92495 4.49995 2.92495C3.6301 2.92495 2.92495 3.6301 2.92495 4.49995C2.92495 5.3698 3.6301 6.07495 4.49995 6.07495H6.07495ZM7.42495 7.42495V10.575H10.575V7.42495H7.42495ZM6.07495 11.925H4.49995C3.6301 11.925 2.92495 12.6301 2.92495 13.5C2.92495 14.3698 3.6301 15.075 4.49995 15.075C5.3698 15.075 6.07495 14.3698 6.07495 13.5V11.925ZM11.925 11.925V13.5C11.925 14.3698 12.6301 15.075 13.5 15.075C14.3698 15.075 15.075 14.3698 15.075 13.5C15.075 12.6301 14.3698 11.925 13.5 11.925H11.925ZM11.925 6.07495H13.5C14.3698 6.07495 15.075 5.3698 15.075 4.49995C15.075 3.6301 14.3698 2.92495 13.5 2.92495C12.6301 2.92495 11.925 3.6301 11.925 4.49995V6.07495Z\\" fill=\\"#222226\\"/>\\n\\n","viewBox":"0 0 18 18"}');let ex=s._Y.createComponent("CommandIcon",eC,e=>(0,y.jsx)(R.s,{...e.props,name:"CommandIcon",iconData:eA}));class ey extends s.PN{constructor(...e){super(...e),(0,n._)(this,"props",void 0)}}var eS=JSON.parse('{"fill":"none","content":"\\n<path fill-rule=\\"evenodd\\" clip-rule=\\"evenodd\\" d=\\"M5 2.625L4.95742 2.625C4.28666 2.62497 3.72111 2.62495 3.27082 2.68549C2.79304 2.74973 2.35255 2.89225 1.9974 3.2474C1.64225 3.60255 1.49973 4.04304 1.43549 4.52082C1.37495 4.97111 1.37497 5.53666 1.375 6.20742L1.375 6.25V8V9.75L1.375 9.79259C1.37497 10.4633 1.37495 11.0289 1.43549 11.4792C1.49973 11.957 1.64225 12.3975 1.9974 12.7526C2.35255 13.1078 2.79304 13.2503 3.27082 13.3145C3.7211 13.3751 4.28663 13.375 4.95738 13.375H4.95742L5 13.375H11L11.0426 13.375H11.0426C11.7134 13.375 12.2789 13.3751 12.7292 13.3145C13.207 13.2503 13.6475 13.1078 14.0026 12.7526C14.3578 12.3975 14.5003 11.957 14.5645 11.4792C14.6251 11.0289 14.625 10.4634 14.625 9.79263V9.79259L14.625 9.75V8V6.25L14.625 6.20742V6.20738C14.625 5.53663 14.6251 4.9711 14.5645 4.52082C14.5003 4.04304 14.3578 3.60255 14.0026 3.2474C13.6475 2.89225 13.207 2.74973 12.7292 2.68549C12.2789 2.62495 11.7133 2.62497 11.0426 2.625L11 2.625H8H5ZM2.66143 4.79701C2.62608 5.14192 2.625 5.59686 2.625 6.25V8V9.75C2.625 10.4748 2.62633 10.9555 2.67435 11.3126C2.71995 11.6518 2.79709 11.7845 2.88128 11.8687C2.96547 11.9529 3.09821 12.0301 3.43737 12.0757C3.79452 12.1237 4.27523 12.125 5 12.125H11C11.7248 12.125 12.2055 12.1237 12.5626 12.0757C12.9018 12.0301 13.0345 11.9529 13.1187 11.8687C13.2029 11.7845 13.2801 11.6518 13.3257 11.3126C13.3737 10.9555 13.375 10.4748 13.375 9.75V8V6.25C13.375 5.59686 13.3739 5.14192 13.3386 4.79701L8.80793 8.63472C8.3417 9.02965 7.6583 9.02965 7.19207 8.63472L2.66143 4.79701ZM12.4504 3.91117C12.1058 3.87607 11.6515 3.875 11 3.875H8H5C4.3485 3.875 3.89421 3.87607 3.54961 3.91117L8 7.68092L12.4504 3.91117Z\\" fill=\\"#222226\\"/>\\n\\n","viewBox":"0 0 16 16"}');let ew=s._Y.createComponent("EmailIcon",ey,e=>(0,y.jsx)(R.s,{...e.props,name:"EmailIcon",iconData:eS}));class ek{get S(){return w.S.Global.controllers.monicaOptionsController}get menus(){return[[{key:"account",label:this.S.account,icon:(0,y.jsx)(Z.f,{size:18,color:"currentColor"}),platforms:["extension","web"]},{key:"general",label:this.S.general,icon:(0,y.jsx)(ee,{size:18,color:"currentColor"}),platforms:["extension","web"]},{key:"monicaIcon",label:this.S.monicaIcon,icon:(0,y.jsx)(en,{size:18,color:"currentColor"})},{key:"sidebar",label:this.S.sidebar,icon:(0,y.jsx)(ea,{size:18,color:"currentColor"})},{key:"textSelectionTool",label:this.S.textSelectionTool,icon:(0,y.jsx)(ec,{size:18,color:"currentColor"})},{key:"translation",label:this.S.translation,icon:(0,y.jsx)(ed.N,{size:18,color:"currentColor"})},{key:"searchAssistant",label:this.S.searchAssistant,icon:(0,y.jsx)(eh.W,{size:18,color:"currentColor"})},{key:"writingAssistant",label:this.S.writingAssistant,icon:(0,y.jsx)(em,{size:18,color:"currentColor"})},{key:"webpageAssistant",label:this.S.webpageAssistant,icon:(0,y.jsx)(ef,{size:18,color:"currentColor"})},{key:"memo",label:this.S.memo,icon:(0,y.jsx)(eb.s,{size:18,color:"currentColor"})},{key:"keyboardShortcuts",label:this.S.keyboardShortcuts,icon:(0,y.jsx)(ex,{size:18,color:"currentColor"}),platforms:["extension","web"]}],[{key:"contactUs",label:this.S.contactUs,icon:(0,y.jsx)(ew,{size:18,color:"currentColor"}),menuType:"link",link:S.m.getFeedbackPageUrl({platform:"extension"}),platforms:["extension","web"]}]]}get displayAllMenus(){return this.menus.map(e=>e.filter(e=>{var t;return(null!==(t=e.platforms)&&void 0!==t?t:this.defaultPlatforms).includes(this.platform)}).map(e=>({...e,type:"page",items:[]}))).filter(e=>e.length>0)}get displayMenus(){return this.searchKeyword?[this.searchResult]:this.displayAllMenus}get platform(){return K.o.isExtension?"extension":"web"}search(){let e=this.searchKeyword.trim().toLowerCase();if(""===e){this.searchResult=[];return}let t=[];this.searchDataList.forEach(i=>{var n;let o=[];i.items.forEach(t=>{let i=[];t.items.forEach(t=>{let n=this.getStringDigest(t.title,e);!n&&t.desc&&(n=this.getStringDigest(t.desc,e)),n&&i.push({...t,title:n})});let n=this.getStringDigest(t.title,e);!n&&t.desc&&(n=this.getStringDigest(t.desc,e)),!n&&0===i.length&&t.text&&(n=this.getStringDigest(t.text,e)),(i.length>0||n)&&o.push({...t,title:n||t.title,items:i})});let s=i.label.toLowerCase();(o.length>0||s.includes(e)||(null===(n=i.desc)||void 0===n?void 0:n.includes(e)))&&t.push({...i,items:o})}),this.searchResult=t}refreshSearchDataList(){let e=[];this.displayAllMenus.flat().forEach(t=>{let i=document.querySelector('div[data-page-id="'.concat(t.key,'"]')),n={...t,type:"page",items:[]};if(i){var o;n.desc=(null===(o=i.querySelector("div[data-page-desc]"))||void 0===o?void 0:o.textContent)||"",i.querySelectorAll("div[data-block]").forEach(async e=>{var i,o;let s=(null===(i=e.querySelector("div[data-block-title]"))||void 0===i?void 0:i.textContent)||"",a={key:await this.generateId(t.key),type:"block",title:s,desc:(null===(o=e.querySelector("div[data-block-desc]"))||void 0===o?void 0:o.textContent)||"",text:e.textContent||"",target:e,items:[]};e.querySelectorAll("div[data-sub-block]").forEach(async e=>{var i,n;let o=(null===(i=e.querySelector("div[data-sub-block-title]"))||void 0===i?void 0:i.textContent)||"",s={key:await this.generateId(t.key),type:"subBlock",title:o,desc:(null===(n=e.querySelector("div[data-sub-block-desc]"))||void 0===n?void 0:n.textContent)||"",target:e,items:[]};a.items.push(s)}),n.items.push(a)})}e.push(n)}),this.searchDataList=e}resetSearch(){this.searchKeyword="",this.searchResult=[],this.menuActiveKey="account"}getStringDigest(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:40,n=t.toLowerCase(),o=e.split("\n"),s="";for(let e of o)if(e.toLowerCase().includes(n)){s=e;break}if(!s||!t||i<=0)return"";let a=s.toLowerCase().indexOf(n);if(-1===a)return"";let r=Math.max(0,a-Math.floor(i/2)),l=r+i;l>s.length&&(r=Math.max(0,(l=s.length)-i));let c=s.slice(r,l);return r>0&&(c="...".concat(c)),l<s.length&&(c="".concat(c,"...")),c}async generateId(e){return"".concat(e,"_").concat(S.m.genShortId())}constructor(){(0,n._)(this,"defaultPlatforms",["extension"]),(0,n._)(this,"searchKeyword",""),(0,n._)(this,"searchResult",[]),(0,n._)(this,"menuActiveKey","account"),(0,n._)(this,"searchDataList",[]),(0,P.rC)(this)}}(0,o.gn)([s.SB],ek.prototype,"searchKeyword",void 0),(0,o.gn)([s.SB],ek.prototype,"searchResult",void 0),(0,o.gn)([s.SB],ek.prototype,"menuActiveKey",void 0),(0,o.gn)([P.Fl],ek.prototype,"S",null),(0,o.gn)([P.Fl],ek.prototype,"menus",null),(0,o.gn)([P.Fl],ek.prototype,"displayAllMenus",null),(0,o.gn)([P.Fl],ek.prototype,"displayMenus",null),(0,o.gn)([P.Fl],ek.prototype,"platform",null);let e_=new ek;var ej={optionsBlock:"options-block--WShM1",title:"title--UJROa",desc:"desc--fgVVA",card:"card--OCikv",banner:"banner--l6taL",content:"content--xxob9"};class eL extends s.PN{onViewCreate(){}onViewDestroy(){}constructor(...e){super(...e),(0,n._)(this,"props",void 0),(0,n._)(this,"someState",!0)}}(0,o.gn)([s.SB],eL.prototype,"someState",void 0);let eD=s._Y.createComponent("OptionsBlock",eL,e=>{let{defaultPlatforms:t,platform:i}=e_,{title:n,desc:o,banner:s,children:a,headSlot:r,footSlot:l,platforms:c=t}=e.props;return c.includes(i)?(0,y.jsxs)("div",{className:ej.optionsBlock,"data-block":!0,children:[n&&(0,y.jsx)("div",{className:ej.title,"data-block-title":!0,children:n}),o&&(0,y.jsx)("div",{className:ej.desc,"data-block-desc":!0,children:o}),r,(0,y.jsxs)("div",{className:ej.card,children:[s&&(0,y.jsx)("div",{className:ej.banner,children:s}),(0,y.jsx)("div",{className:ej.content,children:Y.Children.map(a,e=>Y.isValidElement(e)?Y.cloneElement(e,{platforms:c,...e.props}):e)})]}),l]}):null});var eE={optionsPage:"options-page--Bocv8",panel:"panel--abcdJ",title:"title--WdI5x",desc:"desc--WdONT"};class eN extends s.PN{get styles(){return e_.menuActiveKey.includes(this.props.id)?{position:"relative",display:"flex"}:{position:"absolute",display:"none"}}onViewCreate(){}onViewDestroy(){}constructor(...e){super(...e),(0,n._)(this,"props",void 0),(0,n._)(this,"someState",!0)}}(0,o.gn)([s.SB],eN.prototype,"someState",void 0),(0,o.gn)([P.Fl],eN.prototype,"styles",null);let eM=s._Y.createComponent("OptionsPage",eN,e=>{let{id:t,name:i,children:n,desc:o}=e.props,{menus:s,platform:a,defaultPlatforms:r}=e_,l=s.flat().find(e=>e.key===t),c=(null==l?void 0:l.platforms)||r;return c.includes(a)?(0,y.jsx)("div",{className:eE.optionsPage,"data-page-id":t,style:{...e.styles},children:(0,y.jsxs)("div",{className:eE.panel,children:[(0,y.jsx)("div",{className:eE.title,children:i}),o&&(0,y.jsx)("div",{className:eE.desc,"data-page-desc":!0,children:o}),Y.Children.map(n,e=>Y.isValidElement(e)?Y.cloneElement(e,{platforms:c,...e.props}):e)]})}):null});var eT={"account-page":"account-page--dd4F2",accountPage:"account-page--dd4F2",account:"account--uHjO2",header:"header--xS4HU",avatar:"avatar--rHyeQ",starter:"starter--Ny1zs",basic:"basic--u2QH5",boost:"boost--GCsTd",elite:"elite--ngOvq",team:"team--V3Ck1","vip-icon":"vip-icon--Du10q",vipIcon:"vip-icon--Du10q","user-info":"user-info--YYd0g",userInfo:"user-info--YYd0g","user-name":"user-name--jqjvP",userName:"user-name--jqjvP","vip-tag":"vip-tag--njE_E",vipTag:"vip-tag--njE_E",email:"email--tO_Iz",operations:"operations--bC_lI",divider:"divider--zeHF_",btn:"btn--uWFgs",subscription:"subscription--MdSvq",message:"message--KHrrB","subscription-option":"subscription-option--X4i90",subscriptionOption:"subscription-option--X4i90"};class eI extends s.PN{get S(){return w.S.Global.modules.MonicaOptions.AccountPage}get remainingDay(){var e;let t=null===(e=d.userController.userVipStatus)||void 0===e?void 0:e.currentPeriodEnd;return t?Math.ceil((1e3*t-Date.now())/864e5):-1}get vipDisplayName(){var e;let t=null===(e=d.userController.userVipStatus)||void 0===e?void 0:e.vipVersion;return t?I.serverConfigController.copywritingManager.getVersionDisplayName(t,!0):""}onViewCreate(){}onViewDestroy(){}constructor(...e){super(...e),(0,n._)(this,"props",void 0),(0,n._)(this,"someState",!0)}}(0,o.gn)([s.SB],eI.prototype,"someState",void 0),(0,o.gn)([P.Fl],eI.prototype,"S",null),(0,o.gn)([P.Fl],eI.prototype,"remainingDay",null),(0,o.gn)([P.Fl],eI.prototype,"vipDisplayName",null);let eB=s._Y.createComponent("AccountPage",eI,e=>{var t;let{authLoading:i,isLogin:n,isVipUser:o,userInfo:s}=d.userController,a=null===(t=d.userController.userVipStatus)||void 0===t?void 0:t.vipVersion;return i?(0,y.jsx)(E.g,{fullScreen:!0}):n?(0,y.jsxs)(eM,{id:"account",name:e.S.name,children:[(0,y.jsx)(eD,{title:e.S.name,children:(0,y.jsxs)("div",{className:eT.account,children:[(0,y.jsxs)("div",{className:eT.header,children:[(0,y.jsxs)("div",{className:_()(eT.avatar,a&&eT[a],{[eT.isVip]:o}),children:[(0,y.jsx)(M.Y,{size:64,circle:!0}),(0,y.jsx)(T.Z,{className:eT.vipIcon})]}),(0,y.jsxs)("div",{className:eT.userInfo,children:[(0,y.jsxs)("div",{className:eT.userName,children:[(0,y.jsx)("span",{children:null==s?void 0:s.name}),(0,y.jsx)(U,{hideTeamPlan:!0,className:eT.vipTag})]}),(0,y.jsx)("p",{className:eT.email,children:null==s?void 0:s.email})]})]}),(0,y.jsxs)("div",{className:eT.operations,children:[(0,y.jsx)(V,{className:eT.btn,button:!0,size:18,color:"currentColor",title:e.S.manageAccount,onClick:()=>{window.open("".concat(S.m.getWebOrigin()).concat(L.Cl.profile),"_blank","noreferrer")}}),(0,y.jsx)("div",{className:eT.divider}),(0,y.jsx)(z,{className:eT.btn,button:!0,size:18,color:"currentColor",title:e.S.logout,onClick:()=>{J.W.logout()}})]})]})}),(0,y.jsx)(eD,{title:e.S.subscription,children:(0,y.jsxs)("div",{className:eT.subscription,children:[(0,y.jsx)("p",{className:eT.message,children:o?(0,y.jsx)(D.Z,{S:e.remainingDay>0?e.S.subscriptionDesc:e.S.autoRenewsDesc,components:{b:e=>(0,y.jsx)("b",{children:e})},data:{remainingDay:e.remainingDay,version:e.vipDisplayName}}):(0,y.jsx)(D.Z,{S:e.S.freeSubscriptionDesc,components:{b:e=>(0,y.jsx)("b",{children:e})},data:{version:e.vipDisplayName}})}),(0,y.jsxs)("div",{className:eT.operations,children:[!o&&(0,y.jsx)(N.z,{type:"primary",color:"primary",shape:"round",size:"medium",className:eT.subscriptionOption,onClick:()=>{J.W.createUserBehaviorEvent({eventName:"setting_upgrade_click"}),q.u.gotoPricingForSubscribe({source:"setting_upgrade"})},children:e.S.upgrade}),(0,y.jsx)(N.z,{type:"soft",color:"primary",shape:"round",size:"medium",className:eT.subscriptionOption,icon:(0,y.jsx)(G.F,{size:20,color:"var(--theme-icon-brand)"}),onClick:()=>{J.W.createUserBehaviorEvent({eventName:"setting_billing_click"}),window.open("".concat(S.m.getWebOrigin()).concat(L.Cl.billing),"_blank")},children:e.S.viewSubscription})]})]})})]}):(0,y.jsx)(eM,{id:"account",name:e.S.name,children:(0,y.jsx)(N.z,{style:{width:260},type:"primary",onClick:()=>{d.userController.userInfoLoading=!0;let e=window.screen;J.W.openLoginWindow({width:window.screen.width,height:window.screen.height,availLeft:e.availLeft||0,availTop:e.availTop||0})},children:e.S.login})})});var eP=i(31640),eO=i(52825),eU=i(92347),eR=i(62499),eF=i(5336),eH=i(55229),eV=i(27376),eW=i(72515),eQ=i(48549),ez=i(14084),eG=i(48023),eq=i(46731),eJ=i(4293),eY=i(39648),eK=i(76183),eZ=i(75372),eX={speechLangSelect:"speech-lang-select--gWCHM",followGlobalSettingLabel:"follow-global-setting-label--Imrdp",languageListWrapper:"language-list-wrapper--zPVNn",languageList:"language-list--iI4mK",lang:"lang--MyBHv",active:"active--ttRZB"};class e$ extends s.PN{onViewCreate(){}onViewDestroy(){}constructor(...e){super(...e),(0,n._)(this,"props",void 0),(0,n._)(this,"popoverVisible",!1)}}(0,o.gn)([s.SB],e$.prototype,"popoverVisible",void 0);let e1=s._Y.createComponent("SpeechLangSelect",e$,e=>{var t;let{width:i=280,placement:n="bottom",onChange:o}=e.props,s=()=>eY.wL.flatMap(e=>2===e.length?[{name:e[0],key:e[1][0]}]:e.slice(1).map(e=>({name:e[1],key:e[0]}))),a=(null===(t=s().find(e=>{let{key:t}=e;return t===c.A.finalSpeechLang}))||void 0===t?void 0:t.name)||c.A.finalSpeechLang;return(0,y.jsx)("div",{className:eX.speechLangSelect,children:(0,y.jsx)(eZ.x,{trigger:["click"],open:e.popoverVisible,onOpenChange:t=>{e.popoverVisible=t},placement:n,useParentContainer:!0,content:(0,y.jsx)("div",{className:eX.languageListWrapper,children:(0,y.jsx)("div",{className:eX.languageList,children:s().map(t=>{let{name:i,key:n}=t;return(0,y.jsx)("div",{className:_()(eX.lang,{[eX.active]:n===c.A.finalSpeechLang}),onClick:()=>{n!==c.A.finalSpeechLang&&(c.A.setSpeechLang(n),e.popoverVisible=!1,null==o||o())},children:i},n)})})}),children:(0,y.jsx)(eK.H,{label:a,width:i,height:36,className:eX.dropdownLabel,labelClassName:_()({[eX.followGlobalSettingLabel]:!c.A.speechLang})})})})});var e0=i(90683),e2={optionsSubBlock:"options-sub-block--NdE_w",lt:"lt--SIM61",title:"title--oHkKo",desc:"desc--WHHxh",rt:"rt--tinHX"};class e5 extends s.PN{onViewCreate(){}onViewDestroy(){}constructor(...e){super(...e),(0,n._)(this,"props",void 0),(0,n._)(this,"someState",!0)}}(0,o.gn)([s.SB],e5.prototype,"someState",void 0);let e4=s._Y.createComponent("OptionsSubBlock",e5,e=>{let{defaultPlatforms:t,platform:i}=e_,{title:n,desc:o,children:s,platforms:a=t}=e.props;return a.includes(i)?(0,y.jsxs)("div",{className:e2.optionsSubBlock,"data-sub-block":!0,children:[(0,y.jsxs)("div",{className:e2.lt,children:[(0,y.jsx)("div",{className:e2.title,"data-sub-block-title":!0,children:n}),o&&(0,y.jsx)("div",{className:e2.desc,"data-sub-block-desc":!0,children:o})]}),(0,y.jsx)("div",{className:e2.rt,children:s})]}):null});var e9={select:"select--W7yow",selectContent:"select-content--RB6Bl",chatContextOption:"chat-context-option--hQBuU",tipIcon:"tip-icon--ZDZbj",tipList:"tip-list--dCOZg",chatContextInfo:"chat-context-info--EGqw4"},e7=i(35850),e6=i(49421),e3=i(49795);class e8 extends s.PN{get S(){return w.S.Global.modules.MonicaOptions.GeneralPage}get scrollStyles(){return[{key:"toBottom",label:this.S.scrollToLastMessageBottom},{key:"stopOnLastReplyTop",label:this.S.scrollToLastMessageTop},{key:"toLastQuestion",label:this.S.scrollNewPageAfterSend}]}get localeComposeValue(){return eP.q.getComposeLanguageKeyByLocale(w.a.locale)}onViewCreate(){this.checkUiLocaleMatch()}onViewDestroy(){}handleTipClick(){window.open(S.m.getHelpCenterPageUrl({},L.se.creditsRuleWithAnchor),"_blank","noopener")}async setChatContextMode(e){if(this.reportEvent("chat_context",e),e===eU.p5.Custom&&d.userController.isFreeUser){let e=e0.T.userEvent.source.tokenCustom;(0,e7.$)({type:"credits",insertTarget:"dialogRoot",source:e,onClick:()=>{e0.T.userEvent.reportUpgrade(e)}});return}let t=async()=>{await x.ll.set(c.A.chatContextModeSaveKey,e),e===eU.p5.Auto&&await c.A.setChatContextLimit(null),K.o.isChatPDF&&(e===eU.p5.Auto?e3.g$.changeMode(e3.G$.Regular):e3.g$.changeMode(e3.G$.Turbo))};e===eU.p5.Custom?await x.ll.getUiFlag("chatContextEnableWarningDialogShowed")?t():(0,e6.P)({insertTarget:"dialogRoot",onSuccess:()=>{x.ll.setUiFlag("chatContextEnableWarningDialogShowed",!0),t()}}):t()}reportEvent(e,t){J.W.createUserBehaviorEvent({eventName:"chat_setting_panel_click",extData:{button:e,value:t}})}async setGlobalRespondLanguage(e){J.W.createUserBehaviorEvent({eventName:"language_option_click"});let t=this.getLocaleByComposeLanguageKey(e);c.A.globalRespondLanguage=e,await x.ll.set("globalRespondLanguage",e),t&&(await x.ll.set("locale",t),await J.W.setLocale(t),K.o.isWeb?eP.q.afterLocaleSelect():K.o.isExtension&&await x.ll.reloadMonicaHomePage()),this.checkUiLocaleMatch()}getLocaleByComposeLanguageKey(e){if(e){let t=eO.iA[e];if(t){let e=t.locale,i=eP.q.matchSupportedLocale(e);if(i)return i}}return null}checkUiLocaleMatch(){setTimeout(()=>{this.uiLocaleNotMatch=this.localeComposeValue!==c.A.finalGlobalRespondLanguage},200)}constructor(...e){super(...e),(0,n._)(this,"props",void 0),(0,n._)(this,"uiLocaleNotMatch",!1)}}(0,o.gn)([s.SB],e8.prototype,"uiLocaleNotMatch",void 0),(0,o.gn)([s.Fl],e8.prototype,"S",null),(0,o.gn)([s.Fl],e8.prototype,"scrollStyles",null),(0,o.gn)([s.Fl],e8.prototype,"localeComposeValue",null);let te=s._Y.createComponent("GeneralPage",e8,e=>(0,y.jsxs)(eM,{id:"general",name:e.S.name,children:[(0,y.jsxs)(eD,{title:e.S.language,children:[(0,y.jsx)(e4,{title:e.S.interfaceAndResponseLang,desc:e.uiLocaleNotMatch?(0,w.x)(e.S.uiLocaleNotMatch,{lang:eP.q.getLanguageDisplayNameByComposeLanguage(w.a.locale,c.A.finalGlobalRespondLanguage)}):"",children:(0,y.jsx)(eF.S,{width:240,height:36,scene:"functional",value:c.A.finalGlobalRespondLanguage,onChange:t=>{e.setGlobalRespondLanguage(t)}})}),e.uiLocaleNotMatch&&(0,y.jsx)(e4,{title:e.S.interfaceLanguage,children:(0,y.jsx)(eF.S,{width:240,height:36,scene:"ui",value:e.localeComposeValue,onChange:async e=>{if(e&&"auto"!==e){let t=eO.sC[e].locale;await x.ll.set("locale",t),K.o.isWeb?window.location.reload():K.o.isExtension&&await x.ll.reloadMonicaHomePage()}}})}),(0,y.jsx)(e4,{title:e.S.voiceInputLang,children:(0,y.jsx)(e1,{width:240,placement:"bottomRight"})})]}),(0,y.jsxs)(eD,{title:e.S.appearance,children:[(0,y.jsx)(e4,{title:e.S.appearance,children:(0,y.jsx)(eH.x,{className:e9.select,contentClassName:e9.selectContent,placement:"bottomRight",value:c.A.theme,options:[{key:eU.Q2.Auto,label:e.S.followSystem,icon:(0,y.jsx)(eV.f,{size:20,color:"currentColor"})},{key:eU.Q2.Light,label:e.S.light,icon:(0,y.jsx)(eW.N,{size:20,color:"currentColor"})},{key:eU.Q2.Dark,label:e.S.dark,icon:(0,y.jsx)(eQ.k,{size:20,color:"currentColor"})}],onChange:e=>{x.ll.set("theme",e)}})}),(0,y.jsx)(e4,{title:e.S.contentTextSize,desc:e.S.contentTextSizeDescription,children:(0,y.jsx)(eH.x,{className:e9.select,contentClassName:e9.selectContent,placement:"bottomRight",value:c.A.contentFontSize,options:[{key:eU.Cd.Normal,label:e.S.normal},{key:eU.Cd.Large,label:e.S.large}],onChange:e=>{J.W.createUserBehaviorEvent({eventName:"content_font_size_change",extData:{contentFontSize:e}}),x.ll.set("contentFontSize",e)}})})]}),(0,y.jsxs)(eD,{title:e.S.chat,footSlot:(0,y.jsx)(tt,{vm:e}),children:[(0,y.jsx)(e4,{title:e.S.showCompareAnswers,children:(0,y.jsx)(ez.r,{size:"mediumSmall",enabled:c.A.compareModelVisible,onChange:e=>{J.W.createUserBehaviorEvent({eventName:"compare_model_switch",extData:{open:e?1:0}}),x.ll.set("compareModelsVisible",e)}})}),(0,y.jsx)(e4,{title:e.S.autoPromptOpt,children:(0,y.jsx)(ez.r,{size:"mediumSmall",enabled:c.A.autoOptPromptHotKeyEnable,onChange:e=>{J.W.createUserBehaviorEvent({eventName:"auto_opt_prompt_hotkey",extData:{open:e?1:0}}),x.ll.set("autoOptPromptHotKeyEnable",e)}})}),(0,y.jsx)(e4,{title:e.S.chatHomeRecommendation,children:(0,y.jsx)(eH.x,{className:e9.select,contentClassName:e9.selectContent,placement:"bottomRight",options:[{key:"turnOn",label:e.S.turnOn},{key:"turnOff",label:e.S.turnOff}],value:c.A.chatHomeRecommendationVisible?"turnOn":"turnOff",onChange:e=>{x.ll.set("chatHomeRecommendationVisible","turnOn"===e)}})}),(0,y.jsx)(e4,{title:e.S.behaviorAfterSendMessage,children:(0,y.jsx)(eH.x,{className:e9.select,contentClassName:e9.selectContent,placement:"bottomRight",value:c.A.chatScrollStyle,options:e.scrollStyles,onChange:e=>{x.ll.set("chatScrollStyle",e)}})})]})]})),tt=(0,eR.Pi)(function(e){let{vm:t}=e;return(0,y.jsxs)("div",{className:e9.chatContextOption,children:[(0,y.jsx)(e4,{title:(0,y.jsxs)("div",{className:e9.title,children:[t.S.chatContextTitle,(0,y.jsx)(eG.u,{title:t.S.chatContextTip,children:(0,y.jsx)("div",{className:e9.tipIcon,onClick:e=>{e.stopPropagation(),t.handleTipClick()},children:(0,y.jsx)(eq.J,{name:"monicaFeedback",size:16,color:"currentColor"})})})]}),platforms:["extension","web"],children:(0,y.jsx)(ez.r,{size:"mediumSmall",enabled:e0.T.ctxMode===eU.p5.Custom,onChange:e=>{t.setChatContextMode(e?eU.p5.Custom:eU.p5.Auto)}})}),e0.T.ctxMode===eU.p5.Custom&&(0,y.jsx)(eJ.C,{className:e9.chatContextInfo,tipListClassName:e9.tipList})]})});var ti={hotkeyInput:"hotkey-input--TUrqk",recording:"recording--h38Ox",disabled:"disabled--XPcUu",placeholder:"placeholder--mVvKT",current:"current--MWDB7",closeIcon:"close-icon--uDTMJ"},tn=i(11989),to=i(92660),ts=i(71528),ta=i(70151);class tr extends s.PN{get displayHotkey(){let{currentHotkey:e}=this.props;return e?tn.t.prettifyHotkey(e):""}get pressedModifiersStr(){let{alt:e,ctrl:t,meta:i,shift:n}=this.pressedModifiers,o=[];return t&&o.push("ctrl"),e&&o.push("alt"),n&&o.push("shift"),i&&o.push("meta"),tn.t.prettifyHotkey(o.join("+"))}get S(){return w.S.Global.modules.OptionsPage.KeyboardShortcuts.HotkeyInput}onViewCreate(){this.globalListeners.addWindowEventListener("keydown",e=>{this.handleKeyDown(e)}),this.globalListeners.addWindowEventListener("keyup",e=>{this.handleKeyUp(e)}),this.globalListeners.addWindowEventListener("click",e=>{!(this.el&&e.target&&(this.el===e.target||this.el.contains(e.target)))&&this.recording&&this.stopRecording()})}onViewDestroy(){this.globalListeners.removeAll()}async clearHotkey(){var e,t;await this.unlockHotkeys(),null===(e=(t=this.props).onChange)||void 0===e||e.call(t,null),this.stopRecording()}startRecording(){this.recording=!0,this.lockHotkeys()}async stopRecording(){this.pressedModifiers={ctrl:!1,alt:!1,meta:!1,shift:!1},this.recording=!1}async finishRecording(e){var t,i;console.log("newHotkey",e),await this.unlockHotkeys(),null===(t=(i=this.props).onChange)||void 0===t||t.call(i,e),this.stopRecording()}handleKeyDown(e){if(this.recording){if(console.log("keydown",e),e.stopPropagation(),e.preventDefault(),(0,ta.P6)(["esc"],e)){this.stopRecording();return}if((0,ta.P6)(["backspace"],e)){this.clearHotkey();return}if(e.key===to.yX.Control){this.pressedModifiers.ctrl=!0;return}if(e.key===to.yX.Alt){this.pressedModifiers.alt=!0;return}if(e.key===to.yX.Shift){this.pressedModifiers.shift=!0;return}if(e.key===to.yX.Meta){this.pressedModifiers.meta=!0;return}(e.ctrlKey||e.altKey||e.metaKey)&&this.finishRecording(tn.t.toHotkey(e))}}handleKeyUp(e){if(this.recording){if(e.stopPropagation(),e.preventDefault(),e.key===to.yX.Control){this.pressedModifiers.ctrl=!1;return}if(e.key===to.yX.Alt){this.pressedModifiers.alt=!1;return}if(e.key===to.yX.Shift){this.pressedModifiers.shift=!1;return}if(e.key===to.yX.Meta){this.pressedModifiers.meta=!1;return}}}async lockHotkeys(){}async unlockHotkeys(){}constructor(...e){super(...e),(0,n._)(this,"props",void 0),(0,n._)(this,"recording",!1),(0,n._)(this,"pressedModifiers",{ctrl:!1,alt:!1,meta:!1,shift:!1}),(0,n._)(this,"el",null),(0,n._)(this,"globalListeners",new ts.M)}}(0,o.gn)([s.SB],tr.prototype,"recording",void 0),(0,o.gn)([s.SB],tr.prototype,"pressedModifiers",void 0),(0,o.gn)([P.Fl],tr.prototype,"pressedModifiersStr",null),(0,o.gn)([P.Fl],tr.prototype,"S",null);let tl=s._Y.createComponent("HotkeyInput",tr,e=>{let{className:t,currentHotkey:i,disabled:n}=e.props;return(0,y.jsx)("div",{className:_()(ti.hotkeyInput,t,{[ti.recording]:e.recording,[ti.disabled]:n}),ref:t=>{e.el=t},onClick:()=>{n||(e.recording?e.stopRecording():e.startRecording())},children:n?i?(0,y.jsx)("span",{className:ti.current,children:e.displayHotkey}):(0,y.jsx)("span",{className:ti.placeholder,children:e.S.notSet}):e.recording?e.pressedModifiersStr?(0,y.jsx)("span",{className:ti.current,children:e.pressedModifiersStr}):(0,y.jsx)("span",{className:ti.placeholder,children:e.S.typeShortcut}):i&&!n?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("span",{className:ti.current,children:e.displayHotkey}),(0,y.jsx)("span",{className:ti.closeIcon,onClick:()=>{e.clearHotkey()},children:(0,y.jsx)(eq.J,{name:"sidebarClose",size:12})})]}):(0,y.jsx)("span",{className:ti.placeholder,children:e.S.recordShortcut})})});var tc={textLink:"text-link--DNrob",hotKeyInput:"hotKey-input--yWz04",select:"select--Y66Ry",selectContent:"select-content--km0Ga"},td=i(241);class th extends s.PN{get S(){return w.S.Global.modules.MonicaOptions.KeyboardShortcutsPage}get chatSendOptions(){return[td.e.KeyboardChatSendType.Enter,td.e.KeyboardChatSendType.EnterWithCtrl,td.e.KeyboardChatSendType.EnterWithAlt].map(e=>({key:e,label:c.A.getChatSendHotKeysLabel(e,!0)}))}onViewCreate(){}onViewDestroy(){}constructor(...e){super(...e),(0,n._)(this,"props",void 0),(0,n._)(this,"someState",!0)}}(0,o.gn)([s.SB],th.prototype,"someState",void 0),(0,o.gn)([P.Fl],th.prototype,"S",null),(0,o.gn)([P.Fl],th.prototype,"chatSendOptions",null);let tu=s._Y.createComponent("KeyboardShortcutsPage",th,e=>(0,y.jsxs)(eM,{id:"keyboardShortcuts",name:e.S.name,children:[(0,y.jsxs)(eD,{title:e.S.general,platforms:["extension"],children:[(0,y.jsx)(e4,{title:e.S.openSidebar,desc:(0,y.jsx)(D.Z,{S:e.S.openSidebarDesc,components:{span:e=>(0,y.jsx)("div",{className:tc.textLink,onClick:()=>{x.ll.openShortcutsPage()},children:e})}}),children:(0,y.jsx)(tl,{className:tc.hotKeyInput,disabled:!0,currentHotkey:c.A.keyboardShortcut})}),(0,y.jsx)(e4,{title:e.S.openChatTab,desc:(0,y.jsx)(D.Z,{S:e.S.openChatTabDesc,components:{span:e=>(0,y.jsx)("div",{className:tc.textLink,onClick:()=>{x.ll.openShortcutsPage()},children:e})}}),children:(0,y.jsx)(tl,{className:tc.hotKeyInput,disabled:!0,currentHotkey:c.A.openChatTabPageKeyboardShortcut})})]}),(0,y.jsxs)(eD,{title:e.S.chat,children:[(0,y.jsx)(e4,{title:e.S.sendMessage,children:(0,y.jsx)(eH.x,{className:tc.select,contentClassName:tc.selectContent,placement:"bottomRight",options:e.chatSendOptions,value:c.A.getKeyBoardShortcut("chatSend"),onChange:e=>{c.A.setChatSendHotKeys(e)}})}),(0,y.jsx)(tp,{title:e.S.switchBot,shortcut:"switchBot"}),(0,y.jsx)(tp,{title:e.S.newChat,shortcut:"newChat"}),(0,y.jsx)(tp,{title:e.S.temporaryChat,shortcut:"incognitoChat",platforms:["extension"]})]}),(0,y.jsxs)(eD,{title:e.S.others,platforms:["extension"],children:[(0,y.jsx)(tp,{title:e.S.quickAsk,shortcut:"quickAsk"}),(0,y.jsx)(tp,{title:e.S.summaryPage,shortcut:"reading"}),(0,y.jsx)(tp,{title:e.S.webTranslation,shortcut:"webTranslation"}),(0,y.jsx)(tp,{title:e.S.screenshot,shortcut:"takeScreenshot"}),(0,y.jsx)(tp,{title:e.S.screenshotAskAi,shortcut:"screenshotRecognition"})]})]})),tp=(0,eR.Pi)(function(e){let{title:t,shortcut:i,disabled:n,platforms:o}=e;return(0,y.jsx)(e4,{title:t,platforms:o,children:(0,y.jsx)(tl,{className:tc.hotKeyInput,disabled:n,currentHotkey:c.A.getKeyBoardShortcut(i),onChange:e=>{c.A.setKeyboardShortcut(i,e)}})})});var tm={src:"https://assets.monica.im/home-web/_next/static/media/memoPdfSummaryExample.0372ed9b.webp",height:520,width:1480,blurDataURL:"data:image/webp;base64,UklGRoIAAABXRUJQVlA4WAoAAAAQAAAABwAAAgAAQUxQSBkAAAAAFHuTlJWDIx4U0/////9lIhTT////9lglAFZQOCBCAAAA8AEAnQEqCAADAAJAOCWYAnQ4gAEMN4zAAP7yk5ECv9QJxHQs73cmvXIOV3J3LZjbow7hI/ZRnUVRp81M4kHMAAAA",blurWidth:8,blurHeight:3},tg={src:"https://assets.monica.im/home-web/_next/static/media/memoTwitterExample.449bcf4d.webp",height:520,width:1480,blurDataURL:"data:image/webp;base64,UklGRoAAAABXRUJQVlA4WAoAAAAQAAAABwAAAgAAQUxQSBkAAAAAFHuUlJaAHx4U1P///9YjIhTU////1yUlAFZQOCBAAAAA8AEAnQEqCAADAAJAOCWgAnQ4gAEMQcRwAP70F9Ij396TJ7c/qKzx9f7tp1YXIm8NEjQE5c4WglP4+o+6/A0gAA==",blurWidth:8,blurHeight:3},tv={src:"https://assets.monica.im/home-web/_next/static/media/memoVideoSummaryExample.9dcc38a9.webp",height:520,width:1480,blurDataURL:"data:image/webp;base64,UklGRoAAAABXRUJQVlA4WAoAAAAQAAAABwAAAgAAQUxQSBkAAAAAFHuU1///Yh4U1P////9lIhTU////6EElAFZQOCBAAAAA8AEAnQEqCAADAAJAOCWgAnQ4gAEMN2iAAPl294Vx+WaR39vtMF0xlK66MvGTRh3CnQGPK4HLHr5qbr8DSAAAAA==",blurWidth:8,blurHeight:3},tf={src:"https://assets.monica.im/home-web/_next/static/media/memoWebSummaryExample.97a1a8e2.webp",height:520,width:1480,blurDataURL:"data:image/webp;base64,UklGRnwAAABXRUJQVlA4WAoAAAAQAAAABwAAAgAAQUxQSBkAAAAAFHuUlJaDLh4U1P/////qIhTU////9rwlAFZQOCA8AAAAsAEAnQEqCAADAAJAOCUAToAboZlqwAD+8pPFuM9TPjFCuPZSlXNYQY3Ez1XyzvVXFEZOUWPNQ5USeAAA",blurWidth:8,blurHeight:3},tb=i(4461),tC=i(53040);class tA extends s.PN{onViewCreate(){}onViewDestroy(){}constructor(...e){super(...e),(0,n._)(this,"props",void 0),(0,n._)(this,"someState",!0)}}(0,o.gn)([s.SB],tA.prototype,"someState",void 0);let tx=s._Y.createComponent("OptionsBlockWithExample",tA,e=>(0,y.jsx)(eD,{...e.props,banner:(0,y.jsx)("div",{className:"example--TtFDw",children:(0,y.jsx)(tC.E,{className:"image--WyDaU",src:(0,tb.Q)(e.props.example),skeleton:!0})})}));class ty extends s.PN{get S(){return w.S.Global.modules.MonicaOptions.MemoPage}onViewCreate(){}onViewDestroy(){}constructor(...e){super(...e),(0,n._)(this,"props",void 0),(0,n._)(this,"someState",!0)}}(0,o.gn)([s.SB],ty.prototype,"someState",void 0),(0,o.gn)([P.Fl],ty.prototype,"S",null);let tS=s._Y.createComponent("MemoPage",ty,e=>(0,y.jsxs)(eM,{id:"memo",name:e.S.name,children:[(0,y.jsx)(tx,{title:e.S.videoSummary,example:tv,children:(0,y.jsx)(e4,{title:e.S.videoSummaryEnable,children:(0,y.jsx)(ez.r,{size:"mediumSmall",enabled:c.A.memoYoutubeSummaryAutoSave,onChange:e=>{c.A.setMemoAutoSaveConfig("memoYoutubeSummaryAutoSave",e)}})})}),(0,y.jsx)(tx,{title:e.S.webSummary,example:tf,children:(0,y.jsx)(e4,{title:e.S.webSummaryEnable,children:(0,y.jsx)(ez.r,{size:"mediumSmall",enabled:c.A.memoReadingSummaryAutoSave,onChange:e=>{c.A.setMemoAutoSaveConfig("memoReadingSummaryAutoSave",e)}})})}),(0,y.jsx)(tx,{title:e.S.pdfSummary,example:tm,children:(0,y.jsx)(e4,{title:e.S.pdfSummaryEnable,children:(0,y.jsx)(ez.r,{size:"mediumSmall",enabled:c.A.memoDocChatSummaryAutoSave,onChange:e=>{c.A.setMemoAutoSaveConfig("memoDocChatSummaryAutoSave",e)}})})}),(0,y.jsx)(tx,{title:e.S.twitter,example:tg,children:(0,y.jsx)(e4,{title:e.S.twitterEnable,children:(0,y.jsx)(ez.r,{size:"mediumSmall",enabled:c.A.saveToMemoForTwitterVisible,onChange:e=>{x.ll.set("saveToMemoForTwitterVisible",e)}})})})]}));var tw=i(37231),tk=i(46665),t_=i(67072),tj=i(96567),tL=i.n(tj);class tD extends s.PN{onViewCreate(){}onViewDestroy(){}constructor(...e){super(...e),(0,n._)(this,"props",void 0),(0,n._)(this,"someState",!0)}}(0,o.gn)([s.SB],tD.prototype,"someState",void 0);let tE=s._Y.createComponent("OptionsText",tD,e=>{let{text:t}=e.props,{searchKeyword:i}=e_;return(0,y.jsx)("div",{className:"options-text--oQVoJ",children:(0,y.jsx)(tL(),{highlightClassName:"highlight--udVQw",searchWords:[i],autoEscape:!0,caseSensitive:!1,textToHighlight:t})})});var tN={box:"box--IfKI_",search:"search--RuGBl",menus:"menus--tmT1F",group:"group--c8tL6",divider:"divider--c7cIa",line:"line--KIj_C",item:"item--NoNbU",hover:"hover--RAGfs",active:"active--CbJyb",label:"label--jXJAo",lt:"lt--RAdXp",rt:"rt--jnNyy",subMenuItem:"sub-menu-item--qZLKt",empty:"empty--a8N7h",icon:"icon--QEKs2",title:"title--RWusC",desc:"desc--MQQVy"};class tM extends s.PN{get S(){return w.S.Global.modules.MonicaOptions.Menus}get isEmpty(){return 0===e_.displayMenus.flat().length}onViewCreate(){this.globalListeners.addDocumentEventListener("keydown",e=>{this.handleKeydownEvent(e)})}onViewDestroy(){this.globalListeners.removeAll()}handleInputChange(e){this.keyword=e,this.isComposing||this.search()}handleCompositionStart(){this.isComposing=!0}handleCompositionEnd(){this.isComposing=!1,this.search()}handleMouseEnter(e){this.menuHoverKey=e}handleMouseLeave(){this.menuHoverKey=""}handleClear(){var e;null===(e=this.inputEl)||void 0===e||e.focus()}handleMenuClick(e){if(!e)return;let{target:t,isMainMenu:i,link:n}=this.getTargetMenuInfo(e);i&&n||(this.menuHoverKey=e,e_.menuActiveKey=e),setTimeout(()=>{if(i&&n){window.open(n,"_blank");return}if(i&&t){let e=document.querySelector("div[data-page-container]");(null==e?void 0:e.parentElement)&&(e.parentElement.scrollTop=0);return}!i&&t&&t.scrollIntoView({block:"center"})},0)}search(){let e=this.keyword.trim();e_.searchKeyword=e;let{menuActiveKey:t}=e_;if(""===e&&t.includes("_")){let e=t.split("_")[0];this.menuHoverKey=e,e_.menuActiveKey=e}e_.search()}refreshSearchDataList(){e_.refreshSearchDataList()}handleKeydownEvent(e){if((0,ta.ZP)("enter",e)){e.stopImmediatePropagation(),this.handleMenuClick(this.menuHoverKey);return}let{menuActiveKey:t}=e_,i=this.menuHoverKey||t;if((0,ta.ZP)(["up","down"],e)){let t=(0,ta.ZP)("up",e);this.menuHoverKey=this.getPrevOrNextKey(i,t);return}}getTargetMenuInfo(e){let t=e_.displayMenus.flat(),i=t.map(e=>e.key).includes(e),n=null,o="";if(i){n=document.querySelector('div[data-page-id="'.concat(e,'"]'));let i=t.find(t=>t.key===e);o=(null==i?void 0:i.link)||""}else for(let i of t)for(let t of i.items){if(t.key===e){n=t.target;break}for(let i of t.items)if(i.key===e){n=i.target;break}}return{target:n,isMainMenu:i,link:o}}getPrevOrNextKey(e,t){let i=[];for(let e of e_.displayMenus.flat())for(let t of(i.push(e.key),e.items))for(let e of(i.push(t.key),t.items))i.push(e.key);let n=i.indexOf(e);return -1===n?i[0]:t?i[n-1]||i[i.length-1]:i[n+1]||i[0]}constructor(...e){super(...e),(0,n._)(this,"props",void 0),(0,n._)(this,"inputEl",null),(0,n._)(this,"keyword",""),(0,n._)(this,"isComposing",!1),(0,n._)(this,"menuHoverKey",""),(0,n._)(this,"globalListeners",new ts.M)}}(0,o.gn)([s.SB],tM.prototype,"keyword",void 0),(0,o.gn)([s.SB],tM.prototype,"isComposing",void 0),(0,o.gn)([s.SB],tM.prototype,"menuHoverKey",void 0),(0,o.gn)([s.Fl],tM.prototype,"S",null),(0,o.gn)([s.Fl],tM.prototype,"isEmpty",null);let tT=s._Y.createComponent("Menus",tM,e=>{let{className:t}=e.props,{searchKeyword:i,displayMenus:n}=e_;return(0,y.jsxs)("div",{className:_()(tN.box,t),children:[(0,y.jsx)(tw.I,{className:tN.search,getInputRef:t=>{e.inputEl=t},type:"search",size:"middle",value:e.keyword,placeholder:e.S.search,onEscape:e.handleInputChange.bind(e,""),onCompositionStart:e.handleCompositionStart.bind(e),onCompositionEnd:e.handleCompositionEnd.bind(e),onChange:e.handleInputChange.bind(e),onFocus:e.refreshSearchDataList.bind(e),onClear:e.handleClear.bind(e)}),e.isEmpty?(0,y.jsxs)("div",{className:tN.empty,children:[(0,y.jsx)("div",{className:tN.icon,children:(0,y.jsx)(eh.W,{size:32,color:"currentColor"})}),(0,y.jsx)("div",{className:tN.title,children:e.S.emptyTitle}),(0,y.jsx)("div",{className:tN.desc,children:(0,w.x)(e.S.emptyDesc,{keyword:i})})]}):(0,y.jsx)("div",{className:tN.menus,children:n.map((t,i)=>(0,y.jsxs)(Y.Fragment,{children:[(0,y.jsx)("div",{className:tN.group,children:t.map(t=>(0,y.jsxs)(Y.Fragment,{children:[(0,y.jsx)(tI,{vm:e,item:t}),t.items.map(t=>(0,y.jsxs)(Y.Fragment,{children:[(0,y.jsx)(tB,{vm:e,item:t}),t.items.map(t=>(0,y.jsx)(Y.Fragment,{children:(0,y.jsx)(tB,{vm:e,item:t,level:1})},t.key))]},t.key))]},t.key))}),i<n.length-1&&(0,y.jsx)("div",{className:tN.divider,children:(0,y.jsx)("div",{className:tN.line})})]},i))})]})}),tI=(0,eR.Pi)(function(e){let{vm:t,item:i}=e,{menuActiveKey:n}=e_;return(0,y.jsxs)("div",{className:_()(tN.item,tN.menuItem,{[tN.hover]:t.menuHoverKey===i.key,[tN.active]:i.key===n}),onClick:t.handleMenuClick.bind(t,i.key),onMouseEnter:t.handleMouseEnter.bind(t,i.key),onMouseLeave:t.handleMouseLeave.bind(t),children:[(0,y.jsxs)("div",{className:tN.lt,children:[i.icon,(0,y.jsx)("div",{className:tN.label,children:(0,y.jsx)(tE,{text:i.label})})]}),(0,y.jsxs)("div",{className:tN.rt,children:["monicaIcon"===i.key&&!c.A.sidebarEntryBtnVisible&&(0,y.jsx)(eG.u,{title:t.S.globallyDisabled,children:(0,y.jsx)("span",{children:(0,y.jsx)(tk.Q,{size:18,color:"var(--theme-function-warning)"})})}),"link"===i.menuType&&(0,y.jsx)(t_.L,{size:16})]})]},i.key)}),tB=(0,eR.Pi)(function(e){let{vm:t,item:i,level:n=0}=e,{menuActiveKey:o}=e_;return(0,y.jsx)("div",{className:_()(tN.item,tN.subMenuItem,{[tN.hover]:t.menuHoverKey===i.key,[tN.active]:i.key===o}),style:{paddingLeft:40+16*n},onClick:t.handleMenuClick.bind(t,i.key),onMouseEnter:t.handleMouseEnter.bind(t,i.key),onMouseLeave:t.handleMouseLeave.bind(t),children:(0,y.jsx)("div",{className:tN.label,children:(0,y.jsx)(tE,{text:i.title})})})});class tP extends s.PN{get S(){return w.S.Global.modules.MonicaOptions.MonicaIconGuide}onViewCreate(){}onViewDestroy(){}constructor(...e){super(...e),(0,n._)(this,"props",void 0),(0,n._)(this,"someState",!0)}}(0,o.gn)([s.SB],tP.prototype,"someState",void 0),(0,o.gn)([s.Fl],tP.prototype,"S",null);let tO=s._Y.createComponent("MonicaIconGuide",tP,e=>c.A.sidebarEntryBtnVisible?null:(0,y.jsxs)("div",{className:"monica-icon-guide--zearB",children:[(0,y.jsx)("div",{className:"title--isAQt",children:e.S.title}),(0,y.jsx)("div",{className:"desc--CiHuI",children:e.S.desc}),(0,y.jsx)(N.z,{className:"btn--P7az1",type:"default",color:"secondary",onClick:()=>{x.ll.openMonicaOptionsPage({menuKey:"monicaIcon"})},children:e.S.btnText})]}));var tU={src:"https://assets.monica.im/home-web/_next/static/media/monicaIconExample.7df7f6fc.webp",height:520,width:1480,blurDataURL:"data:image/webp;base64,UklGRoAAAABXRUJQVlA4WAoAAAAQAAAABwAAAgAAQUxQSBkAAAAAFHuUlJaAHx4U1P///9YjIhTU////1yUlAFZQOCBAAAAA8AEAnQEqCAADAAJAOCWgAnQ4gAEMQcIAAP71Y+M9qlkAnCg/9qh3fX/FN2zIjdLT/TK9lFQTorz72MVj1UgAAA==",blurWidth:8,blurHeight:3},tR={src:"https://assets.monica.im/home-web/_next/static/media/powerUpExample.243853d7.webp",height:520,width:1480,blurDataURL:"data:image/webp;base64,UklGRn4AAABXRUJQVlA4WAoAAAAQAAAABwAAAgAAQUxQSBkAAAAAFHuUlJaDIx4U1P////9lIhTU/////2clAFZQOCA+AAAAEAIAnQEqCAADAAJAOCWQAnR/BMAAIYbwHgD+9WPaYG+QCcLV17txDglVKiHQ8UxohTwDbNOvdvyIYGQAAAA=",blurWidth:8,blurHeight:3},tF=i(58646),tH=i(68104),tV=i(15851),tW=i(82005),tQ={hostAddDialog:"host-add-dialog--oWp9L",header:"header--jm7xk",content:"content--LjtR9",footer:"footer--rtm4E",btn:"btn--Oy0xh"};class tz extends s.PN{get S(){return w.S.Global.modules.MonicaOptions.OptionsHostManagement.HostAddDialog}onViewCreate(){}onViewDestroy(){}constructor(...e){super(...e),(0,n._)(this,"props",void 0),(0,n._)(this,"value","")}}(0,o.gn)([s.SB],tz.prototype,"value",void 0),(0,o.gn)([P.Fl],tz.prototype,"S",null);let tG=s._Y.createComponent("HostAddDialog",tz,e=>{let{onDisposed:t,onAdd:i}=e.props;return(0,y.jsx)(tH.u,{width:360,fixed:!0,closeOnMaskClick:!0,onDispose:t,children:(0,y.jsxs)("div",{className:tQ.hostAddDialog,children:[(0,y.jsx)("div",{className:tQ.header,children:e.S.title}),(0,y.jsx)("div",{className:tQ.content,children:(0,y.jsx)(tw.I,{className:tQ.input,size:"middle",value:e.value,placeholder:e.S.placeholder,onChange:t=>{e.value=t}})}),(0,y.jsxs)("div",{className:tQ.footer,children:[(0,y.jsx)(N.z,{className:tQ.btn,type:"gray",size:"medium",onClick:t,children:e.S.cancel}),(0,y.jsx)(N.z,{className:tQ.btn,type:"primary",size:"medium",onClick:()=>{if(!S.m.isValidUrl(e.value)){tV.M.error(e.S.placeholder,"dialogRoot");return}let n=new URL(e.value);null==i||i(n.host),t()},children:e.S.confirm})]})]})})}),tq=tW.t.createOpener(tG);var tJ={optionsHostManagement:"options-host-management--GTbEq",header:"header--hzY9Y",title:"title--S6Ih2",actions:"actions--wmQa0",action:"action--fnKB1",hostItem:"host-item--MGst0",left:"left--xPu2G",icon:"icon--Je6dS",text:"text--CYW7F",delete:"delete--GkD1G"};class tY extends s.PN{get S(){return w.S.Global.modules.MonicaOptions.OptionsHostManagement}onViewCreate(){}onViewDestroy(){}constructor(...e){super(...e),(0,n._)(this,"props",void 0),(0,n._)(this,"someState",!0)}}(0,o.gn)([s.SB],tY.prototype,"someState",void 0),(0,o.gn)([P.Fl],tY.prototype,"S",null);let tK=s._Y.createComponent("OptionsHostManagement",tY,e=>{let{title:t,hosts:i,onAdd:n}=e.props;return(0,y.jsxs)("div",{className:tJ.optionsHostManagement,children:[(0,y.jsxs)("div",{className:tJ.header,children:[(0,y.jsx)("div",{className:tJ.title,children:t}),(0,y.jsx)("div",{className:tJ.actions,children:(0,y.jsx)(N.z,{className:tJ.action,type:"outline",size:"medium",icon:(0,y.jsx)(tF.d,{size:16,color:"currentColor"}),onClick:()=>{tq({insertTarget:"dialogRoot",onAdd:n})},children:e.S.addSite})})]}),i.length?(0,y.jsx)("div",{className:tJ.hosts,children:i.map(t=>(0,y.jsx)(tZ,{vm:e,host:t},t))}):null]})}),tZ=(0,eR.Pi)(function(e){let{vm:t,host:i}=e,{onDelete:n}=t.props,o=S.m.getFaviconFromOrigin("https://".concat(i));return(0,y.jsxs)("div",{className:tJ.hostItem,children:[(0,y.jsxs)("div",{className:tJ.left,children:[(0,y.jsx)("img",{className:tJ.icon,src:o}),(0,y.jsx)("span",{className:tJ.text,children:i})]}),(0,y.jsx)("span",{onClick:()=>{null==n||n(i)},children:(0,y.jsx)(eq.J,{className:tJ.delete,name:"delete",size:16,color:"var(--theme-icon-quaternary)"})})]})});var tX={tips:"tips--inVjm",tip:"tip--N4S3x"};class t$ extends s.PN{get S(){return w.S.Global.modules.MonicaOptions.MonicaIconPage}onViewCreate(){}onViewDestroy(){}constructor(...e){super(...e),(0,n._)(this,"props",void 0),(0,n._)(this,"someState",!0)}}(0,o.gn)([s.SB],t$.prototype,"someState",void 0),(0,o.gn)([P.Fl],t$.prototype,"S",null);let t1=s._Y.createComponent("MonicaIconPage",t$,e=>{let t=Object.keys(c.A.sidebarEntryBtnDisabledHosts).filter(e=>!0===c.A.sidebarEntryBtnDisabledHosts[e]);return(0,y.jsxs)(eM,{id:"monicaIcon",name:e.S.name,children:[(0,y.jsx)(tx,{title:e.S.name,desc:(0,y.jsxs)("div",{className:tX.tips,children:[(0,y.jsx)(D.Z,{className:tX.tip,S:e.S.intelligentToolDistribution,components:{b:e=>(0,y.jsx)("b",{children:e})}}),(0,y.jsx)(D.Z,{className:tX.tip,S:e.S.personalizedCustomization,components:{b:e=>(0,y.jsx)("b",{children:e})}}),(0,y.jsx)(D.Z,{className:tX.tip,S:e.S.simplicityOnline,components:{b:e=>(0,y.jsx)("b",{children:e})}})]}),example:tU,footSlot:c.A.sidebarEntryBtnVisible?(0,y.jsx)(tK,{title:e.S.disabledIconTitle,hosts:t,onAdd:e=>{let t={...c.A.sidebarEntryBtnDisabledHosts};t[e]=!0,x.ll.set("sidebarEntryBtnDisabledHosts",t)},onDelete:e=>{let t={...c.A.sidebarEntryBtnDisabledHosts};Reflect.deleteProperty(t,e),x.ll.set("sidebarEntryBtnDisabledHosts",t)}}):null,children:(0,y.jsx)(e4,{title:e.S.floatingOnSidebar,desc:e.S.floatingOnSidebarDesc,children:(0,y.jsx)(ez.r,{size:"mediumSmall",enabled:c.A.sidebarEntryBtnVisible,onChange:e=>{x.ll.set("sidebarEntryBtnVisible",e)}})})}),(0,y.jsx)(tx,{title:e.S.powerUpTitle,desc:e.S.powerUpDesc,example:tR,children:(0,y.jsx)(e4,{title:e.S.powerSwitchLabel,children:(0,y.jsx)(ez.r,{size:"mediumSmall",enabled:c.A.autoFavoriteActionTool,onChange:e=>{x.ll.set("autoFavoriteActionTool",e)}})})})]})});class t0 extends s.PN{get S(){return w.S.Global.modules.MonicaOptions}onViewCreate(){this.initPageProps()}onViewDestroy(){}async initPageProps(){x.ll.on("optionPagePropsChange",e=>{this.updatePageProps(e)});let e=await x.ll.getMonicaOptionsPageProps();e&&this.updatePageProps(e)}updatePageProps(e){let{menuKey:t}=e;t&&(e_.menuActiveKey=t)}constructor(...e){super(...e),(0,n._)(this,"props",void 0),(0,n._)(this,"someState",!0)}}(0,o.gn)([s.SB],t0.prototype,"someState",void 0),(0,o.gn)([P.Fl],t0.prototype,"S",null);var t2={src:"https://assets.monica.im/home-web/_next/static/media/searchAssistantExample.d76c6381.webp",height:520,width:1480,blurDataURL:"data:image/webp;base64,UklGRnwAAABXRUJQVlA4WAoAAAAQAAAABwAAAgAAQUxQSBkAAAAAFHuUlJaDJB4U1P////9lIhTU/////2clAFZQOCA8AAAAEAIAnQEqCAADAAJAOCWQAnR/BMAAIYbwHgD+9WPaXfPl459l/qQT26W3bDJ4GxZEd9WxTeNPNX2wTPAA",blurWidth:8,blurHeight:3},t5={select:"select--HmGJY",selectContent:"select-content--hM3yx"};class t4 extends s.PN{get S(){return w.S.Global.modules.MonicaOptions.SearchAssistantPage}get enabled(){var e;return!(null===(e=c.A.searchEnhanceConfig)||void 0===e?void 0:e.disabled)}get triggerModeList(){let e=[{key:eU.qm.Auto,label:this.S.dependsOnQuota,desc:(0,w.x)(this.S.dependsOnQuotaDesc,{n:eU.$B})},{key:eU.qm.Always,label:this.S.always,desc:this.S.alwaysDesc},{key:eU.qm.QuestionMark,label:this.S.questionMark,desc:this.S.questionMarkDesc},{key:eU.qm.Manually,label:this.S.manually,desc:this.S.manuallyDesc}];return d.userController.isSeBlacklistedUser?e.slice(2):e}get triggerMode(){var e;return(null===(e=c.A.searchEnhanceConfig)||void 0===e?void 0:e.trigger)||eU.MK}get answerTypeList(){return[{key:eU.F$.Ask,label:this.S.askMonica,desc:this.S.askMonicaDesc},{key:eU.F$.Keyword,label:this.S.relatedQuestions,desc:this.S.relatedQuestionsDesc},{key:eU.F$.SummarizeClassic,label:this.S.summarizeResults,desc:this.S.summarizeResultsDesc}]}get answerType(){var e;return(null===(e=c.A.searchEnhanceConfig)||void 0===e?void 0:e.answerType)||eU.F$.Ask}onViewCreate(){}onViewDestroy(){}constructor(...e){super(...e),(0,n._)(this,"props",void 0),(0,n._)(this,"someState",!0)}}(0,o.gn)([s.SB],t4.prototype,"someState",void 0),(0,o.gn)([P.Fl],t4.prototype,"S",null),(0,o.gn)([P.Fl],t4.prototype,"enabled",null),(0,o.gn)([P.Fl],t4.prototype,"triggerModeList",null),(0,o.gn)([P.Fl],t4.prototype,"triggerMode",null),(0,o.gn)([P.Fl],t4.prototype,"answerTypeList",null),(0,o.gn)([P.Fl],t4.prototype,"answerType",null);let t9=s._Y.createComponent("SearchAssistantPage",t4,e=>(0,y.jsxs)(eM,{id:"searchAssistant",name:e.S.name,children:[(0,y.jsx)(tx,{title:e.S.usedForSearch,example:t2,children:(0,y.jsx)(e4,{title:e.S.display,desc:e.S.displayDesc,children:(0,y.jsx)(ez.r,{size:"mediumSmall",enabled:e.enabled,onChange:e=>{x.ll.setSearchEnhanceConfigs("disabled",!e)}})})}),e.enabled&&(0,y.jsxs)(eD,{title:e.S.settings,children:[(0,y.jsx)(e4,{title:e.S.whenToAsk,children:(0,y.jsx)(eH.x,{className:t5.select,contentClassName:t5.selectContent,placement:"bottomRight",options:e.triggerModeList,value:e.triggerMode,onChange:e=>{x.ll.setSearchEnhanceConfigs("trigger",e)}})}),(0,y.jsx)(e4,{title:e.S.answerStyle,children:(0,y.jsx)(eH.x,{className:t5.select,contentClassName:t5.selectContent,placement:"bottomRight",options:e.answerTypeList,value:e.answerType,onChange:e=>{x.ll.setSearchEnhanceConfigs("answerType",e)}})})]})]}));var t7={select:"select--mRroO",selectContent:"select-content--tBfjF",sidebarShortcut:"sidebar-shortcut--_GYTY",shortcutBadge:"shortcut-badge--vGbUh"},t6={src:"https://assets.monica.im/home-web/_next/static/media/sidebarFixedExample.3e3e12e4.webp",height:520,width:1480,blurDataURL:"data:image/webp;base64,UklGRoAAAABXRUJQVlA4WAoAAAAQAAAABwAAAgAAQUxQSBkAAAAAFHuUlJaAHx4U1P///9YjIhTU////1yUlAFZQOCBAAAAA8AEAnQEqCAADAAJAOCWgAnQ4gAEMQcIAAP71Y+M9qlkAnCg/9ql/Pr/im7iDSO6Wn+mV7KKgnRXn3sYrHqpAAA==",blurWidth:8,blurHeight:3},t3={src:"https://assets.monica.im/home-web/_next/static/media/sidebarLeftExample.f8170d9e.webp",height:520,width:1480,blurDataURL:"data:image/webp;base64,UklGRoAAAABXRUJQVlA4WAoAAAAQAAAABwAAAgAAQUxQSBkAAAAAFHuUlJaAHx4U1P///9YjIhTU////1yUlAFZQOCBAAAAA0AEAnQEqCAADAAJAOCWgAnQA3QzLVgAA/vVj42DX9MzJyj/y+2791NhxGRwzasmQ+1Y9mFiSoDu+edASusuAAA==",blurWidth:8,blurHeight:3},t8={src:"https://assets.monica.im/home-web/_next/static/media/sidebarRightExample.97841fbe.webp",height:520,width:1480,blurDataURL:"data:image/webp;base64,UklGRoAAAABXRUJQVlA4WAoAAAAQAAAABwAAAgAAQUxQSBkAAAAAFHuUlJaAHx4U1P///9YjIhTU////1yUlAFZQOCBAAAAA8AEAnQEqCAADAAJAOCWgAnQ4gAEMQcIAAP71Y+M9qlkAnCg/9ql/Pr/im7iDSO6Wn+mV7KKgnRXn3sYrHqpAAA==",blurWidth:8,blurHeight:3};class ie extends s.PN{get S(){return w.S.Global.modules.MonicaOptions.SidebarPage}get position(){return c.A.chromeSidePanelEnabled?"fixed":A.w.sidebarPosition}get exampleImg(){return"right"===this.position?t8:"left"===this.position?t3:t6}get sidebarStartUpOptions(){return[{key:"always_new",label:this.S.alwaysStartNewChat},{key:"always_restore",label:this.S.alwaysResumeLastChat},{key:"auto",label:this.S.autoNewChat,desc:this.S.autoNewChatDesc}]}onViewCreate(){}onViewDestroy(){}handlePositionChange(e){"fixed"===e?(x.ll.set("sidebarPosition","right"),x.ll.set("chromeSidePanelEnabled",!0)):(x.ll.set("sidebarPosition",e),x.ll.set("chromeSidePanelEnabled",!1))}constructor(...e){super(...e),(0,n._)(this,"props",void 0),(0,n._)(this,"someState",!0)}}(0,o.gn)([s.SB],ie.prototype,"someState",void 0),(0,o.gn)([P.Fl],ie.prototype,"S",null),(0,o.gn)([P.Fl],ie.prototype,"position",null),(0,o.gn)([P.Fl],ie.prototype,"exampleImg",null),(0,o.gn)([P.Fl],ie.prototype,"sidebarStartUpOptions",null);let it=s._Y.createComponent("SidebarPage",ie,e=>(0,y.jsxs)(eM,{id:"sidebar",name:e.S.name,children:[(0,y.jsxs)(tx,{title:e.S.sidebarType,desc:e.S.sidebarTips,example:e.exampleImg,children:[(0,y.jsx)(e4,{title:e.S.position,desc:e.S.positionDesc,children:(0,y.jsx)(eH.x,{className:t7.select,contentClassName:t7.selectContent,placement:"bottomRight",options:[{key:"right",label:e.S.rightSidebar},{key:"left",label:e.S.leftSidebar},{key:"fixed",label:e.S.fixedSidebar}],value:e.position,onChange:e.handlePositionChange.bind(e)})}),(0,y.jsx)(e4,{title:e.S.whenSidebarOpening,children:(0,y.jsx)(eH.x,{className:t7.select,contentClassName:t7.selectContent,placement:"bottomRight",options:e.sidebarStartUpOptions,value:c.A.sidebarConversationMode,onChange:e=>{x.ll.update({sidebarConversationMode:e})}})})]}),(0,y.jsx)(eD,{title:e.S.shortcut,children:(0,y.jsx)(e4,{title:(0,y.jsxs)("div",{className:t7.sidebarShortcut,children:[(0,y.jsx)("div",{children:e.S.useKeyboard}),(0,y.jsx)("div",{className:t7.shortcutBadge,children:c.A.keyboardShortcut})]}),children:(0,y.jsx)(N.z,{type:"gray",shape:"round",onClick:()=>{x.ll.openShortcutsPage()},icon:(0,y.jsx)(eq.J,{name:"memoShare",size:16,color:"currentColor"}),children:e.S.changeShortcut})})})]}));var ii={src:"https://assets.monica.im/home-web/_next/static/media/textSelectionReadingExample.f6f6cef1.webp",height:520,width:1480,blurDataURL:"data:image/webp;base64,UklGRn4AAABXRUJQVlA4WAoAAAAQAAAABwAAAgAAQUxQSBkAAAAAFHuUlJaAHx4U1P///9YjIhTU////1yUlAFZQOCA+AAAAsAEAnQEqCAADAAJAOCWgAnQA3QwMiAD+8pPFvCiThLu/uZGxfJ2mma6Xw95UT7Vj2YWJKgO7550BK6y4AAA=",blurWidth:8,blurHeight:3},io={src:"https://assets.monica.im/home-web/_next/static/media/textSelectionWritingExample.fcf033b8.webp",height:520,width:1480,blurDataURL:"data:image/webp;base64,UklGRnwAAABXRUJQVlA4WAoAAAAQAAAABwAAAgAAQUxQSBkAAAAAFHuUlZaAHx4U1P///9YjIhTU////1yUlAFZQOCA8AAAAsAEAnQEqCAADAAJAOCWgAnQA3QwMiAD+9BfS+VW6vk7/6phQP3HW7+D1n8/ZvYnVw0fvLHPUfdfvclAA",blurWidth:8,blurHeight:3},is=i(45748),ia=i(14537),ir=i(77313),il=i(29686),ic=i(70174),id=i(31284);class ih{get enabledOnCurrentHost(){let e=window.location.host;return -1===[...this.config.disabledHosts,"care.submagic.co","www.deepl.com"].indexOf(e)}get writingEntryBtnVisible(){return!!d.userController.hasCachedUserInfo&&!iu.isCloseInThisSession&&!iu.config.entryBtnDisabled&&!!iu.enabledOnCurrentHost}get whenReady(){return this._whenReady.promise}async toggleHostDisabled(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.host,t=this.config.disabledHosts,i=t.indexOf(e);-1===i?t.push(e):t.splice(i,1),await ic.v.setStorage("disabledHosts",t)}async toggleEntryBtnDisabled(){this.config.entryBtnDisabled=!this.config.entryBtnDisabled,await ic.v.setStorage("entryBtnDisabled",this.config.entryBtnDisabled)}async toggleQuickReplyBtnDisabled(){this.config.quickReplyBtnDisabled=!this.config.quickReplyBtnDisabled,await ic.v.setStorage("quickReplyBtnDisabled",this.config.quickReplyBtnDisabled)}async toggleSocialMediaWritingBtnDisabled(){this.config.socialMediaWritingBtnDisabled=!this.config.socialMediaWritingBtnDisabled,await ic.v.setStorage("socialMediaWritingBtnDisabled",this.config.socialMediaWritingBtnDisabled)}closeInThisSession(){this.isCloseInThisSession=!0}async openWritingDisabledConfirmDialog(){(0,il.J)({reEnableTipVisible:!c.A.sidebarEntryBtnVisible,onRestartTipsClick:()=>{x.ll.openMonicaOptionsPage({menuKey:"writingAssistant"})},onOk:e=>{"disableUntilNext"===e?this.closeInThisSession():"disableForThisPage"===e?this.toggleHostDisabled():this.toggleEntryBtnDisabled()},insertTarget:"dialogRoot"})}async init(){let{disabledHosts:e,entryBtnDisabled:t,quickReplyBtnDisabled:i,socialMediaWritingBtnDisabled:n,grammarCheckBtnDisabledV2:o,commands:s}=await ic.v.getAllConfig();this.config={disabledHosts:null!=e?e:this.config.disabledHosts,entryBtnDisabled:null!=t?t:this.config.entryBtnDisabled,quickReplyBtnDisabled:null!=i?i:this.config.quickReplyBtnDisabled,commands:null!=s?s:this.config.commands,socialMediaWritingBtnDisabled:null!=n?n:this.config.socialMediaWritingBtnDisabled,grammarCheckBtnDisabledV2:null!=o?o:this.config.grammarCheckBtnDisabledV2},this._whenReady.resolve()}async initServiceEventListeners(){ic.v.on("storageChange",e=>{Object.keys(e).forEach(t=>{void 0!==e[t]&&(this.config[t]=e[t])})})}getViewSiteIntegrationContext(){return this.siteIntegrationContext}constructor(){(0,n._)(this,"entryButtonEl",null),(0,n._)(this,"translationLoading",!1),(0,n._)(this,"isCloseInThisSession",!1),(0,n._)(this,"isFallbackSite",!1),(0,n._)(this,"config",{disabledHosts:[],entryBtnDisabled:!1,commands:[],quickReplyBtnDisabled:!1,socialMediaWritingBtnDisabled:!1,grammarCheckBtnDisabledV2:!0}),(0,n._)(this,"_whenReady",new id.B),(0,n._)(this,"siteIntegrationContext",void 0),(0,P.rC)(this)}}(0,o.gn)([s.SB],ih.prototype,"translationLoading",void 0),(0,o.gn)([s.SB],ih.prototype,"isCloseInThisSession",void 0),(0,o.gn)([s.SB],ih.prototype,"isFallbackSite",void 0),(0,o.gn)([s.SB],ih.prototype,"config",void 0),(0,o.gn)([P.Fl],ih.prototype,"enabledOnCurrentHost",null),(0,o.gn)([P.Fl],ih.prototype,"writingEntryBtnVisible",null);let iu=new ih,ip=S.m.isMacOS(),im=[{key:"Alt",label:ip?"Option":"Alt"},{key:"Control",label:ip?"Control":"Ctrl"},{key:"Shift",label:"Shift"}];class ig{get S(){return w.S.Global.helpers.triggerModeHelper}get shortcutItems(){return im.map(e=>({...e,label:(0,w.x)(this.S.displayToolbar,{key:e.label})})).concat([{key:"",label:this.S.doNothing}])}getShortcutName(e){var t,i;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n?(null===(i=im.find(t=>t.key===e))||void 0===i?void 0:i.label)||this.S.doNothing:(null===(t=this.shortcutItems.find(t=>t.key===e))||void 0===t?void 0:t.label)||this.S.doNothing}constructor(){(0,P.rC)(this)}}(0,o.gn)([P.Fl],ig.prototype,"S",null),(0,o.gn)([P.Fl],ig.prototype,"shortcutItems",null);let iv=new ig;var ib=i(10043),iC={select:"select--TsTJX",selectContent:"select-content--Cbq_s",tabs:"tabs--R11vA",actionList:"action-list--V7oRH",title:"title--medSx",content:"content--ZXnCy",edit:"edit--CBEiV",disableEdit:"disable-edit--rxGWk",actionItem:"action-item--ObRMX",actionItemHeader:"action-item-header--yTTmh",actionNameWrapper:"action-name-wrapper--Gsll8",actionName:"action-name--pj3zk",actionItemContent:"action-item-content--I0XlL",actionItemDragging:"action-item-dragging--E0MYa",actionItemSelected:"action-item-selected--yZ_JJ",addNewAction:"add-new-action--Tndz2"},iA=i(90122);class ix extends s.PN{get S(){return w.S.Global.modules.MonicaOptions.TextSelectionToolPage}get isReadingTabActive(){return"reading"===this.tabManager.activeTabKey}get readingWebsiteEnabled(){return!c.A.quickActionEnableOption.disabledAll}get editingTextEnabled(){return!iu.config.entryBtnDisabled}get triggerMethodOptions(){return[{key:"auto",label:this.S.autoDisplay,desc:this.S.autoDisplayDesc},{key:"manual",label:this.S.displayOnShortcut,desc:this.S.displayOnShortcutDesc}]}onViewCreate(){}onViewDestroy(){}handleChoose(){this.cacheActionList=(0,P.ZN)("reading"===this.tabManager.activeTabKey?g.customPromptController.actionList:g.customPromptController.composeActionList),this.dragTimer&&clearTimeout(this.dragTimer),this.dragTimer=window.setTimeout(()=>{this.newActionMouseDown||(this.dragging=!0)},100)}handleUnChoose(){this.dragTimer&&clearTimeout(this.dragTimer),this.dragging=!1}handleNewActionMouseDown(){this.newActionMouseDown=!0}handleNewActionMouseUp(){this.newActionMouseDown=!1}constructor(...e){super(...e),(0,n._)(this,"props",void 0),(0,n._)(this,"promptItemWidth",344),(0,n._)(this,"tabManager",new iA.P({tabItems:[{key:"reading",name:()=>this.S.readingWebsite},{key:"writing",name:()=>this.S.editingText}],defaultActiveTabKey:"reading"})),(0,n._)(this,"cacheActionList",[]),(0,n._)(this,"dragging",!1),(0,n._)(this,"dragTimer",null),(0,n._)(this,"newActionMouseDown",!1)}}(0,o.gn)([s.SB],ix.prototype,"dragging",void 0),(0,o.gn)([P.Fl],ix.prototype,"S",null),(0,o.gn)([P.Fl],ix.prototype,"isReadingTabActive",null),(0,o.gn)([P.Fl],ix.prototype,"readingWebsiteEnabled",null),(0,o.gn)([P.Fl],ix.prototype,"editingTextEnabled",null),(0,o.gn)([P.Fl],ix.prototype,"triggerMethodOptions",null);let iy=s._Y.createComponent("TextSelectionToolPage",ix,e=>(0,y.jsxs)(eM,{id:"textSelectionTool",name:e.S.name,desc:(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("p",{children:e.S.desc}),(0,y.jsx)("p",{children:e.S.tips})]}),children:[(0,y.jsxs)(eD,{title:e.S.settings,children:[(0,y.jsx)(e4,{title:e.S.triggerMethod,children:(0,y.jsx)(eH.x,{className:iC.select,contentClassName:iC.selectContent,placement:"bottomRight",options:e.triggerMethodOptions,value:c.A.finalContextualToolbarTriggerMode,onChange:e=>{c.A.setContextualToolbarTriggerMode(e)}})}),"manual"===c.A.finalContextualToolbarTriggerMode?(0,y.jsx)(e4,{title:e.S.whenSelectAnyText,children:(0,y.jsx)(eH.x,{className:iC.select,contentClassName:iC.selectContent,placement:"bottomRight",options:iv.shortcutItems,value:c.A.finalContextualToolbarTriggerShortcut,onChange:e=>{c.A.setContextualToolbarTriggerShortcut(e)}})}):null]}),(0,y.jsx)(tx,{title:e.S.selectedText,example:e.isReadingTabActive?ii:io,headSlot:(0,y.jsx)(ia.m,{className:iC.tabs,tabsManager:e.tabManager}),footSlot:e.isReadingTabActive?(0,y.jsx)(iS,{vm:e}):(0,y.jsx)(iw,{vm:e}),children:(0,y.jsx)(e4,{title:e.S.toolbarEnable,desc:e.S.toolbarEnableDesc,children:e.isReadingTabActive?(0,y.jsx)(ez.r,{size:"mediumSmall",allowWordWrap:!0,enabled:e.readingWebsiteEnabled,onChange:e=>{c.A.setQuickActionDisableValue("global",!e)}}):(0,y.jsx)(ez.r,{size:"mediumSmall",allowWordWrap:!0,enabled:e.editingTextEnabled,onChange:()=>{iu.toggleEntryBtnDisabled()}})})})]})),iS=(0,eR.Pi)(function(e){let{vm:t}=e,i=Object.keys(c.A.quickActionEnableOption.disabledHosts).filter(e=>!0===c.A.quickActionEnableOption.disabledHosts[e]);return t.readingWebsiteEnabled?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(tK,{title:t.S.listOfWebsites,hosts:i,onAdd:e=>{c.A.setQuickActionDisableValue("thisPage",!0,e)},onDelete:e=>{c.A.setQuickActionDisableValue("thisPage",!1,e)}}),(0,y.jsxs)("div",{className:iC.actionList,children:[(0,y.jsx)("div",{className:iC.title,children:t.S.actionList}),(0,y.jsxs)(is.ReactSortable,{className:iC.content,list:g.customPromptController.actionList,setList:e=>{g.customPromptController.actionList=e},onChoose:()=>{t.handleChoose()},onUnchoose:()=>{t.handleUnChoose()},onSort:e=>{if("number"==typeof e.oldIndex&&"number"==typeof e.newIndex){let i=t.cacheActionList;g.customPromptController.sort(eU.kq.SelectionAction,i[e.oldIndex].id,i[e.newIndex].position)}},children:[g.customPromptController.actionRenderList.map(e=>{let i=e.chosen,n=(0,ib._z)(e.systemKey),o=(0,ib.Go)(e.systemKey),s=(0,ib.uh)(e.systemKey),a=0!==e.baseOnSystemId||n||o||s;return(0,y.jsxs)("div",{style:{width:t.promptItemWidth,minWidth:t.promptItemWidth},className:_()(iC.actionItem,{[iC.actionItemDragging]:t.dragging,[iC.actionItemSelected]:i}),children:[(0,y.jsxs)("header",{className:iC.actionItemHeader,children:[(0,y.jsxs)("span",{className:iC.actionNameWrapper,children:[(0,y.jsx)(eq.J,{name:e.iconName||ir.jp,size:18,color:"currentColor"}),(0,y.jsx)("span",{className:iC.actionName,children:e.name})]}),(0,y.jsx)(eG.u,{title:a?t.S.disableEdit:"",placement:"top",useParentContainer:!0,children:(0,y.jsx)("span",{children:(0,y.jsx)(eq.J,{name:"sidebarEdit",size:16,className:_()(iC.edit,{[iC.disableEdit]:a}),onClick:()=>{a||g.customPromptController.edit(eU.kq.SelectionAction,e,"dialogRoot")}})})})]}),(0,y.jsx)("article",{className:iC.actionItemContent,children:n?t.S.translateActionDesc:o?t.S.explainActionDesc:e.content})]},e.id)}),(0,y.jsxs)("div",{className:_()(iC.actionItem,iC.addNewAction),style:{visibility:t.dragging?"hidden":"visible",width:t.promptItemWidth,minWidth:t.promptItemWidth},onClick:()=>{g.customPromptController.add(eU.kq.SelectionAction,null,"dialogRoot")},onMouseDown:()=>{t.handleNewActionMouseDown()},onMouseUp:()=>{t.handleNewActionMouseUp()},children:[(0,y.jsx)(eq.J,{name:"add",size:24,className:iC.add,color:"currentColor"}),(0,y.jsx)("article",{className:iC.actionItemContent,children:t.S.addNewAction})]})]})]})]}):null}),iw=(0,eR.Pi)(function(e){let{vm:t}=e,i=iu.config.disabledHosts;return t.editingTextEnabled?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(tK,{title:t.S.listOfWebsites,hosts:i,onAdd:e=>{iu.toggleHostDisabled(e)},onDelete:e=>{iu.toggleHostDisabled(e)}}),(0,y.jsxs)("div",{className:iC.actionList,children:[(0,y.jsx)("div",{className:iC.title,children:t.S.actionList}),(0,y.jsxs)(is.ReactSortable,{className:iC.content,list:g.customPromptController.composeActionList,setList:e=>{g.customPromptController.composeActionList=e},onChoose:()=>{t.handleChoose()},onUnchoose:()=>{t.handleUnChoose()},onSort:e=>{if("number"==typeof e.oldIndex&&"number"==typeof e.newIndex){let i=t.cacheActionList;g.customPromptController.sort(eU.kq.ComposeAction,i[e.oldIndex].id,i[e.newIndex].position)}},children:[g.customPromptController.composeActionList.map(e=>{let i=e.chosen,n=0!==e.baseOnSystemId;return(0,y.jsxs)("div",{style:{width:t.promptItemWidth,minWidth:t.promptItemWidth},className:_()(iC.actionItem,{[iC.actionItemDragging]:t.dragging,[iC.actionItemSelected]:i}),children:[(0,y.jsxs)("header",{className:iC.actionItemHeader,children:[(0,y.jsxs)("span",{className:iC.actionNameWrapper,children:[(0,y.jsx)(eq.J,{name:e.iconName||ir.jp,size:18,color:"currentColor"}),(0,y.jsx)("span",{className:iC.actionName,children:e.name})]}),(0,y.jsx)(eG.u,{title:n?t.S.disableEdit:"",placement:"top",useParentContainer:!0,children:(0,y.jsx)("span",{children:(0,y.jsx)(eq.J,{name:"sidebarEdit",size:16,className:_()(iC.edit,{[iC.disableEdit]:n}),onClick:()=>{n||g.customPromptController.edit(eU.kq.ComposeAction,e,"dialogRoot")}})})})]}),(0,y.jsx)("article",{className:iC.actionItemContent,children:e.content})]},e.id)}),(0,y.jsxs)("div",{className:_()(iC.actionItem,iC.addNewAction),style:{display:t.dragging?"none":"flex",width:t.promptItemWidth,minWidth:t.promptItemWidth},onClick:()=>{g.customPromptController.add(eU.kq.ComposeAction,null,"dialogRoot")},onMouseDown:()=>{t.handleNewActionMouseDown()},onMouseUp:()=>{t.handleNewActionMouseUp()},children:[(0,y.jsx)(eq.J,{name:"add",size:24,className:iC.add,color:"currentColor"}),(0,y.jsx)("article",{className:iC.actionItemContent,children:t.S.addNewAction})]})]})]})]}):null});var ik={src:"https://assets.monica.im/home-web/_next/static/media/glossaryDisabledExample.b6167ce7.webp",height:780,width:2220,blurDataURL:"data:image/webp;base64,UklGRn4AAABXRUJQVlA4WAoAAAAQAAAABwAAAgAAQUxQSBkAAAAAFHuTlJV/Hh4U1P///9YiIhTU////1iUlAFZQOCA+AAAAsAEAnQEqCAADAAJAOCWgAnQA3QPDxAD+9BfSI99vrnPh/n53D74lGhxWd6q4vvYnVTs3tdYdfxZILLc8iAA=",blurWidth:8,blurHeight:3},i_={src:"https://assets.monica.im/home-web/_next/static/media/glossaryEnabledExample.f6f53956.webp",height:520,width:1480,blurDataURL:"data:image/webp;base64,UklGRn4AAABXRUJQVlA4WAoAAAAQAAAABwAAAgAAQUxQSBkAAAAAFHuUlJaAHx4U1P///9YjIhTU////1yUlAFZQOCA+AAAA0AEAnQEqCAADAAJAOCWgAnR/ABOt/cAA/vQX0iPfb65z4f5+dw++JRxmbuCz1Vwg4TcUU05Y56j7r6gwAAA=",blurWidth:8,blurHeight:3},ij=i(10881),iL=i(86743),iD=i(79494),iE=i(94987),iN=i(30779),iM={glossaryManagement:"glossary-management--UEDLk",header:"header--Vuwit",title:"title--UPXCR",glossaryList:"glossary-list--xXGZy",glossaryListRow:"glossary-list-row--QL7cT",glossaryListCell:"glossary-list-cell--K7ni_",glossaryListRowIcons:"glossary-list-row-icons--rqnBF",glossaryListHeader:"glossary-list-header--buZtT"};class iT extends s.PN{get S(){return w.S.Global.modules.MonicaOptions.TranslationPage}onViewCreate(){d.userController.checkLogin().finally(()=>{d.userController.isLogin&&iD.translationGlossaryController.getGlossaryList()})}onViewDestroy(){}constructor(...e){super(...e),(0,n._)(this,"props",void 0),(0,n._)(this,"someState",!0)}}(0,o.gn)([s.SB],iT.prototype,"someState",void 0),(0,o.gn)([P.Fl],iT.prototype,"S",null);let iI=s._Y.createComponent("TranslationPage",iT,e=>(0,y.jsx)(eM,{id:"translation",name:e.S.name,children:(0,y.jsx)(tx,{title:e.S.glossary,desc:e.S.glossaryDesc,example:c.A.translationGlossaryEnabled?i_:ik,footSlot:c.A.translationGlossaryEnabled?(0,y.jsx)(iB,{vm:e}):null,children:(0,y.jsx)(e4,{title:e.S.glossaryEnable,desc:e.S.glossaryEnableDesc,children:(0,y.jsx)(iN.q,{})})})})),iB=(0,eR.Pi)(function(e){let{vm:t}=e;return(0,y.jsxs)("div",{className:iM.glossaryManagement,children:[(0,y.jsxs)("div",{className:iM.header,children:[(0,y.jsx)("div",{className:iM.title,children:t.S.glossary}),(0,y.jsx)(N.z,{onClick:()=>{(0,iE.t)({insertTarget:"dialogRoot"})},type:"outline",size:"medium",icon:(0,y.jsx)(tF.d,{color:"currentColor"}),children:t.S.addTerm})]}),iD.translationGlossaryController.glossaryList.length?(0,y.jsxs)("div",{className:iM.glossaryList,children:[(0,y.jsxs)("div",{className:_()(iM.glossaryListRow,iM.glossaryListHeader),children:[(0,y.jsx)("div",{className:iM.glossaryListCell,children:t.S.sourceLang}),(0,y.jsx)("div",{className:iM.glossaryListCell,children:t.S.targetLang})]}),iD.translationGlossaryController.glossaryList.map(e=>(0,y.jsxs)("div",{className:iM.glossaryListRow,children:[(0,y.jsx)("div",{className:iM.glossaryListCell,children:e.sourceText}),(0,y.jsx)("div",{className:iM.glossaryListCell,children:e.targetText}),(0,y.jsxs)("div",{className:iM.glossaryListRowIcons,children:[(0,y.jsx)(ij.P,{button:!0,title:t.S.edit,size:20,color:"currentColor",onClick:()=>{(0,iE.t)({insertTarget:"dialogRoot",term:e})}}),(0,y.jsx)(iL.o,{button:!0,title:t.S.delete,size:20,color:"currentColor",onClick:()=>iD.translationGlossaryController.delGlossaryTerm(e)})]})]},e.uid))]}):null]})});var iP={src:"https://assets.monica.im/home-web/_next/static/media/webpageAssistantCodeExample.52fdd332.webp",height:520,width:1480,blurDataURL:"data:image/webp;base64,UklGRnoAAABXRUJQVlA4WAoAAAAQAAAABwAAAgAAQUxQSBkAAAAAFHuUlZaDJR8U0/////9oIxTT/////2wmAFZQOCA6AAAA0AEAnQEqCAADAAJAOCWIAnQBDvpxvAAA/upLNXn8lkiBnw+/Ze5q1ctsT1yXp+yJ/7shWtNqFXPAAA==",blurWidth:8,blurHeight:3},iO={src:"https://assets.monica.im/home-web/_next/static/media/webpageAssistantCompareModelsExample.3b14fc39.webp",height:520,width:1480,blurDataURL:"data:image/webp;base64,UklGRoAAAABXRUJQVlA4WAoAAAAQAAAABwAAAgAAQUxQSBkAAAAAFHuUlJaAHx4U1P///9YjIhTU////1yUlAFZQOCBAAAAAsAEAnQEqCAADAAJAOCWgAnQA3Rhd7AD+9BemE0fYTE4X/Ppn3viUbOGUGijw0buGfq4aP3lkPF6j7r97koAAAA==",blurWidth:8,blurHeight:3},iU={src:"https://assets.monica.im/home-web/_next/static/media/webpageAssistantGithubSummaryExample.1dcb3e5f.webp",height:520,width:1480,blurDataURL:"data:image/webp;base64,UklGRoAAAABXRUJQVlA4WAoAAAAQAAAABwAAAgAAQUxQSBkAAAAAFHuUlJaDJB4U1P////9lIhTU/////2clAFZQOCBAAAAA8AEAnQEqCAADAAJAOCWQAnQ4gAEMN3qAAP7ub2qjBMZ9Sa/VhXEu7fY2UecldMPulnBx2PJ+V1dnbvwSU5gAAA==",blurWidth:8,blurHeight:3},iR={src:"https://assets.monica.im/home-web/_next/static/media/webpageAssistantImageExample.2216ceba.webp",height:520,width:1480,blurDataURL:"data:image/webp;base64,UklGRn4AAABXRUJQVlA4WAoAAAAQAAAABwAAAgAAQUxQSBkAAAAAFNP////UHx4U0////9UjIhR7lZeZgyUlAFZQOCA+AAAAsAEAnQEqCAADAAJAOCWgAnQA3QOvAAD+uEy+3qD2EV8T6FT+zSAFhHtmuz1B8XKpwI2xD3Nuh7FdkGOAAAA=",blurWidth:8,blurHeight:3},iF={src:"https://assets.monica.im/home-web/_next/static/media/webpageAssistantLiteratureAssistantExample.9a1aa464.webp",height:520,width:1480,blurDataURL:"data:image/webp;base64,UklGRnoAAABXRUJQVlA4WAoAAAAQAAAABwAAAgAAQUxQSBkAAAAAFHuUlJaAHx4U1P///9YjIhTU////6kMlAFZQOCA6AAAAsAEAnQEqCAADAAJAOCWYAnQA3QwR4AD+9BfSI9/fuYgjN/uyOx+DvNqulQIysEDzKnLHPUfdfSUAAA==",blurWidth:8,blurHeight:3},iH={src:"https://assets.monica.im/home-web/_next/static/media/webpageAssistantYoutubeSummaryExample.91d35a6f.webp",height:520,width:1480,blurDataURL:"data:image/webp;base64,UklGRnwAAABXRUJQVlA4WAoAAAAQAAAABwAAAgAAQUxQSBkAAAAAFHuUlJaDIx4U1P////9lIhTU/////2clAFZQOCA8AAAA0AEAnQEqCAADAAJAOCWQAnQBDv4DjgAA/QJ8xf62CN7/3Worq9h/e/Hh26XlIS2tCkfvLHO+42LPOYAA",blurWidth:8,blurHeight:3},iV={select:"select--a409i",selectContent:"select-content--OxaJo"};class iW extends s.PN{get S(){return w.S.Global.modules.MonicaOptions.WebpageAssistantPage}get triggerMethodOptions(){return[{key:"auto",label:this.S.autoDisplay,desc:this.S.autoDisplayDesc},{key:"manual",label:this.S.displayOnShortcut,desc:this.S.displayOnShortcutDesc}]}get imageAssistantEnabled(){return!c.A.contextualToolImageEnableOption.disabledAll}onViewCreate(){}onViewDestroy(){}constructor(...e){super(...e),(0,n._)(this,"props",void 0),(0,n._)(this,"someState",!0)}}(0,o.gn)([s.SB],iW.prototype,"someState",void 0),(0,o.gn)([P.Fl],iW.prototype,"S",null),(0,o.gn)([P.Fl],iW.prototype,"triggerMethodOptions",null),(0,o.gn)([P.Fl],iW.prototype,"imageAssistantEnabled",null);let iQ=s._Y.createComponent("WebpageAssistantPage",iW,e=>{var t,i,n;let o=Object.keys(c.A.contextualToolImageEnableOption.disabledHosts).filter(e=>!0===c.A.contextualToolImageEnableOption.disabledHosts[e]);return(0,y.jsxs)(eM,{id:"webpageAssistant",name:e.S.name,children:[(0,y.jsx)(tx,{title:e.S.codeAssistant,example:iP,footSlot:c.A.enableCodeTools?(0,y.jsx)(tK,{title:e.S.codeAssistantListOfWebsites,hosts:c.A.codeToolsDisableHosts,onAdd:e=>{c.A.codeToolsDisableHosts.includes(e)||(c.A.codeToolsDisableHosts.push(e),x.ll.set("codeToolsDisableHosts",c.A.codeToolsDisableHosts))},onDelete:e=>{c.A.codeToolsDisableHosts.splice(c.A.codeToolsDisableHosts.indexOf(e),1),x.ll.set("codeToolsDisableHosts",c.A.codeToolsDisableHosts)}}):null,children:(0,y.jsx)(e4,{title:e.S.codeAssistantEnable,desc:e.S.codeAssistantEnableDesc,children:(0,y.jsx)(ez.r,{size:"mediumSmall",enabled:c.A.enableCodeTools,onChange:e=>{x.ll.set("enableCodeTools",e)}})})}),(0,y.jsx)(tx,{title:e.S.compareModels,example:iO,children:(0,y.jsx)(e4,{title:e.S.compareModelsEnable,desc:e.S.compareModelsEnableDesc,children:(0,y.jsx)(ez.r,{size:"mediumSmall",enabled:!(null===(t=c.A.compareModelEnableOption)||void 0===t?void 0:t.disabledAll),onChange:e=>{c.A.toggleFeatureOpenStatus("compareModelEnableOption","global",!e)}})})}),(0,y.jsxs)(tx,{title:e.S.imageAssistant,example:iR,footSlot:e.imageAssistantEnabled?(0,y.jsx)(tK,{title:e.S.codeAssistantListOfWebsites,hosts:o,onAdd:e=>{c.A.toggleFeatureOpenStatus("contextualToolImageEnableOption","thisPage",!0,e)},onDelete:e=>{c.A.toggleFeatureOpenStatus("contextualToolImageEnableOption","thisPage",!1,e)}}):null,children:[(0,y.jsx)(e4,{title:e.S.imageAssistantEnable,desc:e.S.imageAssistantEnableDesc,children:(0,y.jsx)(ez.r,{size:"mediumSmall",enabled:e.imageAssistantEnabled,onChange:e=>{c.A.toggleFeatureOpenStatus("contextualToolImageEnableOption","global",!e)}})}),e.imageAssistantEnabled&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(e4,{title:e.S.triggerMethod,children:(0,y.jsx)(eH.x,{className:iV.select,contentClassName:iV.selectContent,placement:"bottomRight",options:e.triggerMethodOptions,value:c.A.finalContextualToolbarImageToolTriggerMode,onChange:e=>{c.A.setContextualToolbarImageToolTriggerMode(e)}})}),"manual"===c.A.finalContextualToolbarImageToolTriggerMode?(0,y.jsx)(e4,{title:e.S.whenHoverImage,children:(0,y.jsx)(eH.x,{className:iV.select,contentClassName:iV.selectContent,placement:"bottomRight",options:iv.shortcutItems,value:c.A.finalContextualToolbarImageToolTriggerShortcut,onChange:e=>{x.ll.update({contextualToolbarImageToolTriggerShortcut:e})}})}):null]})]}),(0,y.jsx)(tx,{title:e.S.githubSummary,example:iU,children:(0,y.jsx)(e4,{title:e.S.githubSummaryEnable,desc:e.S.githubSummaryEnableDesc,children:(0,y.jsx)(ez.r,{size:"mediumSmall",enabled:!(null===(i=c.A.githubSummaryEnableOption)||void 0===i?void 0:i.disabledAll),onChange:e=>{c.A.toggleFeatureOpenStatus("githubSummaryEnableOption","global",!e)}})})}),(0,y.jsx)(tx,{title:e.S.youtubeSummary,example:iH,children:(0,y.jsx)(e4,{title:e.S.youtubeSummaryEnable,desc:e.S.youtubeSummaryEnableDesc,children:(0,y.jsx)(ez.r,{size:"mediumSmall",enabled:!(null===(n=c.A.videoSummaryConfig)||void 0===n?void 0:n.disabled),onChange:e=>{x.ll.setVideoSummaryConfigs("disabled",!e)}})})}),(0,y.jsxs)(tx,{title:e.S.literatureAssistant,example:iF,children:[(0,y.jsx)(e4,{title:e.S.literatureAssistantEnable,desc:e.S.literatureAssistantEnableDesc,children:(0,y.jsx)(ez.r,{size:"mediumSmall",enabled:c.A.pdfEnhanceToolbar,onChange:e=>{x.ll.set("pdfEnhanceToolbar",e)}})}),(0,y.jsx)(e4,{title:e.S.literatureAssistantTranslationEnable,children:(0,y.jsx)(ez.r,{size:"mediumSmall",enabled:c.A.showArxivTranslate,onChange:e=>{x.ll.set("showArxivTranslate",e)}})})]})]})});var iz={src:"https://assets.monica.im/home-web/_next/static/media/writingAssistantEmailExample.1650afb1.webp",height:520,width:1480,blurDataURL:"data:image/webp;base64,UklGRnwAAABXRUJQVlA4WAoAAAAQAAAABwAAAgAAQUxQSBkAAAAAFHyVlpeEJR8U1P////9oIxXU/////2wmAFZQOCA8AAAAsAEAnQEqCAADAAJAOCWIAnQAxP0cAAD+9BfSI9/Z8tLCTzbACbq5NrUAg4YRENYeEUtCSTC10RbLcAAA",blurWidth:8,blurHeight:3},iG={src:"https://assets.monica.im/home-web/_next/static/media/writingAssistantInputExample.9e57cc24.webp",height:520,width:1480,blurDataURL:"data:image/webp;base64,UklGRoAAAABXRUJQVlA4WAoAAAAQAAAABwAAAgAAQUxQSBkAAAAAFHuUlZaDJR8U1P////9oIxTU////4jsmAFZQOCBAAAAA0AEAnQEqCAADAAJAOCWYAnQBEDWHBAAA/vQX0iPf3pL4ro/peCfhrFf2BJ0w7pPj1GWH5gzPK8vQ8KBPcAAAAA==",blurWidth:8,blurHeight:3},iq={src:"https://assets.monica.im/home-web/_next/static/media/writingAssistantMediaExample.853f495f.webp",height:520,width:1480,blurDataURL:"data:image/webp;base64,UklGRn4AAABXRUJQVlA4WAoAAAAQAAAABwAAAgAAQUxQSBkAAAAAFHuUlZaDJR8U1P////9oIxTU////5T8mAFZQOCA+AAAA0AEAnQEqCAADAAJAOCWYAnQA9If7zgAA/vQX0iPf3pMntz+k6j500XJAw/Rr5IZX2O3jN54VRbGNxigAAAA=",blurWidth:8,blurHeight:3},iJ={src:"https://assets.monica.im/home-web/_next/static/media/writingAssistantSettingExample.f2d825b9.webp",height:520,width:1480,blurDataURL:"data:image/webp;base64,UklGRoIAAABXRUJQVlA4WAoAAAAQAAAABwAAAgAAQUxQSBkAAAAAFHyVlpeCIB8U1P////9mIxXU////8FEmAFZQOCBCAAAAsAEAnQEqCAADAAJAOCWQAnQAxP12AAD+9BfSJrTUdbkNX8varfKoozUUY4rrFmfn7Mi/gNaJp/Sn32Cx174WgAAA",blurWidth:8,blurHeight:3},iY=i(36386),iK=i(31826),iZ={managementDialogWrapper:"management-dialog-wrapper--NRSso",managementDialogInner:"management-dialog-inner--nEeNu",managementDictionaryDialog:"management-dictionary-dialog--pHt7I",title:"title--ENMOs",tips:"tips--Az5Mp",add:"add--t13bE",input:"input--Gi5WO",error:"error--bkvt7",btn:"btn--TQze_",errorMsg:"error-msg--wbtZr",words:"words--nx0kC",word:"word--D2oQk",wordText:"word-text--W9O27",delete:"delete--iPqd_",footer:"footer--hwkfZ"};class iX extends s.PN{get S(){return w.S.Global.modules.MonicaOptions.ManagementDictionaryDialog.SaveConfirmDialog}onViewCreate(){}onViewDestroy(){}constructor(...e){super(...e),(0,n._)(this,"props",void 0),(0,n._)(this,"saving",!1)}}(0,o.gn)([s.SB],iX.prototype,"saving",void 0),(0,o.gn)([P.Fl],iX.prototype,"S",null);let i$=s._Y.createComponent("SaveConfirmDialog",iX,e=>(0,y.jsx)(tH.u,{width:350,fixed:"dialogRoot"===e.props.insertTarget,onDispose:e.props.onDisposed,children:(0,y.jsxs)("div",{className:"save-confirm-dialog--8nvpQ",children:[(0,y.jsx)("div",{className:"title--CkSwQ",children:e.S.title}),(0,y.jsx)("div",{className:"content--vvH6W",children:e.S.content}),(0,y.jsxs)("div",{className:"footer--kUxH3",children:[(0,y.jsx)(N.z,{type:"gray",onClick:()=>{var t,i,n,o;null===(t=(i=e.props).onDisposed)||void 0===t||t.call(i),null===(n=(o=e.props).onCanceled)||void 0===n||n.call(o)},children:e.S.cancel}),(0,y.jsx)(N.z,{type:"primary",loading:e.saving,onClick:()=>{var t,i,n,o;null===(t=(i=e.props).onDisposed)||void 0===t||t.call(i),null===(n=(o=e.props).onConfirmed)||void 0===n||n.call(o)},children:e.S.confirm})]})]})})),i1=tW.t.createOpener(i$);class i0 extends s.PN{get S(){return w.S.Global.modules.MonicaOptions.ManagementDictionaryDialog}get addDisabled(){return 0===this.word.trim().length||!!this.error}get confirmDisabled(){return 0===this.operations.length}onViewCreate(){this.getDicWordList({useCache:!0})}onViewDestroy(){}handleTextChange(e){this.word=e;let t=e.trim();if(t.length>this.maxWords){this.error=this.S.lessThan100;return}if(this.words.includes(t)){this.error=this.S.duplicate;return}this.error=""}handleAdd(){if(this.addDisabled)return;let e=this.word.trim();this.words.unshift(e),this.operations.push({type:"add",word:e}),this.word=""}handleDelete(e){let t=this.words[e];this.words.splice(e,1),this.operations.push({type:"delete",word:t})}handleConfirm(){i1({insertTarget:"dialogRoot",operations:this.operations,onConfirmed:()=>{this.saveChanges(),iY.BP.sendEvent(iK.PR.writing_assistant_dict_save_confirm_button_click)}}),iY.BP.sendEvent(iK.PR.writing_assistant_dict_save_confirm_show)}async getDicWordList(e){try{let t=await ic.v.listGrammarDicWord(e);this.words=t}catch(e){console.error(e),tV.M.error(this.S.getFailed,"dialogRoot")}}async saveChanges(){for(let e=0;e<this.operations.length;e++){let t=this.operations[e];if(t.ignore)continue;let i=this.operations.find(e=>!e.ignore&&e.word===t.word&&e.type!==t.type);i&&(i.ignore=!0,t.ignore=!0)}let e=this.operations.filter(e=>!e.ignore),t=e.filter(e=>"add"===e.type).map(e=>e.word),i=e.filter(e=>"delete"===e.type).map(e=>e.word);try{var n,o;this.saving=!0;let e=[];t.length&&e.push(ic.v.addGrammarDicWord(t)),i.length&&e.push(ic.v.deleteGrammarDicWord(i)),await Promise.all(e),tV.M.success(this.S.saveSuccess,"dialogRoot"),null===(n=(o=this.props).onDisposed)||void 0===n||n.call(o),this.getDicWordList({useCache:!1})}catch(e){tV.M.error(this.S.saveFailed,"dialogRoot")}finally{this.saving=!1}}constructor(...e){super(...e),(0,n._)(this,"props",void 0),(0,n._)(this,"maxWords",100),(0,n._)(this,"word",""),(0,n._)(this,"words",[]),(0,n._)(this,"error",""),(0,n._)(this,"operations",[]),(0,n._)(this,"saving",!1)}}(0,o.gn)([s.SB],i0.prototype,"word",void 0),(0,o.gn)([s.SB],i0.prototype,"words",void 0),(0,o.gn)([s.SB],i0.prototype,"error",void 0),(0,o.gn)([s.SB],i0.prototype,"operations",void 0),(0,o.gn)([s.SB],i0.prototype,"saving",void 0),(0,o.gn)([P.Fl],i0.prototype,"S",null),(0,o.gn)([P.Fl],i0.prototype,"addDisabled",null),(0,o.gn)([P.Fl],i0.prototype,"confirmDisabled",null);let i2=s._Y.createComponent("ManagementDictionaryDialog",i0,e=>(0,y.jsx)(tH.u,{width:500,fixed:"dialogRoot"===e.props.insertTarget,onDispose:e.props.onDisposed,className:iZ.managementDialogInner,wrapperClassName:iZ.managementDialogWrapper,children:(0,y.jsxs)("div",{className:iZ.managementDictionaryDialog,children:[(0,y.jsx)("div",{className:iZ.title,children:e.S.title}),(0,y.jsx)("div",{className:iZ.tips,children:e.S.tips}),(0,y.jsxs)("div",{className:iZ.add,children:[(0,y.jsx)(tw.I,{className:_()(iZ.input,{[iZ.error]:!!e.error}),placeholder:e.S.placeholder,value:e.word,onChange:e.handleTextChange.bind(e),onEnterWithoutCtrl:e.handleAdd.bind(e)}),(0,y.jsx)(N.z,{className:iZ.btn,type:"primary",size:"medium",shape:"round",disabled:e.addDisabled,onClick:e.handleAdd.bind(e),children:e.S.add}),e.error&&(0,y.jsxs)("div",{className:iZ.errorMsg,children:[(0,y.jsx)(eq.J,{name:"translateInfo",size:14,color:"currentColor"}),(0,y.jsx)("span",{children:e.error})]})]}),(0,y.jsx)("div",{className:iZ.words,children:e.words.map((t,i)=>(0,y.jsxs)("div",{className:iZ.word,children:[(0,y.jsx)("span",{className:iZ.wordText,children:t}),(0,y.jsx)("div",{className:iZ.delete,onClick:e.handleDelete.bind(e,i),children:(0,y.jsx)(eq.J,{name:"close",size:16,color:"currentColor"})})]},t))}),(0,y.jsxs)("div",{className:iZ.footer,children:[(0,y.jsx)(N.z,{type:"gray",onClick:()=>{var t,i;null===(t=(i=e.props).onDisposed)||void 0===t||t.call(i)},children:e.S.cancel}),(0,y.jsx)(N.z,{type:"primary",disabled:e.confirmDisabled,loading:e.saving,onClick:e.handleConfirm.bind(e),children:e.S.confirm})]})]})})),i5=tW.t.createOpener(i2);var i4={customDictionary:"custom-dictionary--INYyy"};class i9 extends s.PN{get S(){return w.S.Global.modules.MonicaOptions.WritingAssistantPage}onViewCreate(){}onViewDestroy(){}constructor(...e){super(...e),(0,n._)(this,"props",void 0),(0,n._)(this,"someState",!0)}}(0,o.gn)([s.SB],i9.prototype,"someState",void 0),(0,o.gn)([P.Fl],i9.prototype,"S",null);let i7=s._Y.createComponent("WritingAssistantPage",i9,e=>(0,y.jsxs)(eM,{id:"writingAssistant",name:e.S.name,desc:e.S.desc,children:[(0,y.jsx)(tx,{title:e.S.generalInput,example:iG,children:(0,y.jsx)(e4,{title:e.S.showDotIcon,children:(0,y.jsx)(ez.r,{size:"mediumSmall",enabled:!iu.config.entryBtnDisabled,onChange:()=>{iu.toggleEntryBtnDisabled()}})})}),!iu.config.entryBtnDisabled&&d.userController.shouldEnableGrammarly&&(0,y.jsxs)(tx,{title:e.S.settings,example:iJ,children:[(0,y.jsx)(e4,{title:e.S.grammarCheckEnable,children:(0,y.jsx)(ez.r,{size:"mediumSmall",enabled:iY.BP.grammarCheckEnabled,onChange:()=>{if(d.userController.isFreeUser){(0,e7.$)({type:"grammarly",source:"writing_grammar_check_modify",insertTarget:"dialogRoot"}),iY.BP.sendEvent(iK.PR.writing_assistant_enable_grammar_trail_show);return}iY.BP.toggleGrammarCheckBtnDisabled()}})}),iY.BP.grammarCheckEnabled?(0,y.jsx)("div",{className:i4.customDictionary,children:(0,y.jsx)(N.z,{size:"medium",type:"outline",icon:(0,y.jsx)(eq.J,{name:"monicaBook",size:16}),onClick:()=>{i5({insertTarget:"dialogRoot"}),iY.BP.sendEvent(iK.PR.writing_assistant_dict_manage_show)},children:e.S.customDictionary})}):null]}),(0,y.jsx)(tx,{title:e.S.email,example:iz,children:(0,y.jsx)(e4,{title:e.S.replyBtnEnable,desc:e.S.replyBtnEnableDesc,children:(0,y.jsx)(ez.r,{size:"mediumSmall",enabled:!iu.config.quickReplyBtnDisabled,onChange:()=>{iu.toggleQuickReplyBtnDisabled()}})})}),(0,y.jsx)(tx,{title:e.S.socialMedia,example:iq,children:(0,y.jsx)(e4,{title:e.S.socialMediaEnable,desc:e.S.socialMediaEnableDesc,children:(0,y.jsx)(ez.r,{size:"mediumSmall",enabled:!iu.config.socialMediaWritingBtnDisabled,onChange:e=>{iu.toggleSocialMediaWritingBtnDisabled(),J.W.createUserBehaviorEvent({eventName:"social_media_writing_assistant_switch",extData:{enable:e?1:0}})}})})})]})),i6=s._Y.createComponent("MonicaOptions",t0,e=>(0,y.jsxs)("div",{className:_()(S.m.getRootClassName(),"monica-options--NJZQx",{...p.C.getThemeClassNames()}),...w.a.htmlRtlAttrs,children:[(0,y.jsxs)("div",{className:"sidebar--VRsfj",children:[(0,y.jsx)(j.T,{size:24,showTitle:!0}),(0,y.jsx)(tT,{}),(0,y.jsx)(tO,{})]}),(0,y.jsxs)("div",{className:"pages--O7Ufu","data-page-container":!0,children:[(0,y.jsx)(eB,{}),(0,y.jsx)(te,{}),(0,y.jsx)(t1,{}),(0,y.jsx)(it,{}),(0,y.jsx)(iy,{}),(0,y.jsx)(iI,{}),(0,y.jsx)(t9,{}),(0,y.jsx)(i7,{}),(0,y.jsx)(iQ,{}),(0,y.jsx)(tS,{}),(0,y.jsx)(tu,{})]})]}));class i3 extends s.PN{onViewCreate(){}onViewDestroy(){}constructor(...e){super(...e),(0,n._)(this,"props",void 0),(0,n._)(this,"someState",!0)}}(0,o.gn)([s.SB],i3.prototype,"someState",void 0);let i8=s._Y.createComponent("MonicaOptionsDialog",i3,e=>(0,y.jsx)(tH.u,{style:{width:"80%",height:"80%",maxWidth:1e3,maxHeight:800},onDispose:()=>{var t,i;e_.resetSearch(),null===(t=(i=e.props).onDisposed)||void 0===t||t.call(i)},fixed:!0,children:(0,y.jsx)(i6,{})})),ne=tW.t.createOpener(i8,{singleton:!0});var nt=i(49387),ni=i(72289),nn=i(18312),no=i(41855);class ns{async initControllers(){r.$.init(l.P),await c.A.init(),await d.userController.init(),await h.teamController.init(),await Promise.all([u.Mp.init(),p.C.init(),m.a.init(),g.customPromptController.init(),v.translateHelper.init(),f.w.init(document.getElementById("root")),b.h.init(document.getElementById("root")),no.c.initServiceEventListeners(),C.imageController.init()]),this.addGlobalListener(),this.inited=!0}addGlobalListener(){d.userController.initServiceEventListeners(),g.customPromptController.initServiceEventListeners(),A.w.initServiceEventListeners(),v.translateHelper.init(),u.Mp.getNotificationController().initServiceEventListeners(),x.ll.on("openOptionsDialog",()=>{l.P.isExtensionInstalled?l.P.sendMessageToExt({event:"openOptions",payload:{}},e=>{if(void 0===e){ne({insertTarget:"dialogRoot"});return}nn.J.webSettingClicked=!0},()=>{ne({insertTarget:"dialogRoot"})}):ne({insertTarget:"dialogRoot"})})}constructor(){(0,n._)(this,"inited",!1),(0,n._)(this,"getInited",()=>!!a.S.isRunInServerSide||this.inited),(0,P.rC)(this),a.S.isRunInServerSide||((0,nt.r)(),new ni.s().init().then(()=>{this.initControllers()}))}}(0,o.gn)([s.SB],ns.prototype,"inited",void 0);let na=new ns},24797:function(e,t){"use strict";t.Z={src:"https://assets.monica.im/home-web/_next/static/media/colorfulRocket.8cb0e5ea.svg",height:16,width:16,blurWidth:0,blurHeight:0}}}]);