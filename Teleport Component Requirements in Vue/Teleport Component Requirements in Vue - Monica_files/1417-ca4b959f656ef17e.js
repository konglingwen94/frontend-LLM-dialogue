"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1417],{56872:function(e,t,o){o.d(t,{u:function(){return x}});var a=o(71576),r=o(34491),i=o(62499),s=o(61658),n=o(75372),l=o(46731),c=o(20995),d=o(69645),p=o(43368),m={generating:"generating--V2dce",avatarEditor:"avatar-editor--IvxNG",editIcon:"edit-icon--SjB5m"},g=o(66084),h=o(52921),u=o(88882),v=o(92235);class A extends r.PN{get S(){return u.S.Global.modules.Bots.AvatarEditor}handleSelectImage(){let e=["image/png","image/jpeg"];v.m.selectFile(async t=>{let o=t[0];if(!e.includes(o.type))return;let a=await v.m.cropImage(o),r=await v.m.compressImageSize(a,144);v.m.fileToDataUrl(r).then(e=>{var t,o;null===(t=(o=this.props).onGenerated)||void 0===t||t.call(o,e),this.file=r})},{accept:e})}onViewCreate(){}onViewDestroy(){}constructor(...e){super(...e),(0,g._)(this,"props",void 0),(0,g._)(this,"file",null)}}(0,h.gn)([r.SB],A.prototype,"file",void 0),(0,h.gn)([r.Fl],A.prototype,"S",null);let x=r._Y.createComponent("AvatarEditor",A,e=>{let{generating:t,showEditIcon:o}=e.props;return t?(0,a.jsx)("div",{className:m.generating,children:(0,a.jsx)(s.g,{type:"search",size:28})}):(0,a.jsx)("div",{className:m.avatarEditor,children:(0,a.jsx)(n.x,{zIndex:5e3,placement:"bottom",trigger:"click",content:(0,a.jsx)(b,{vm:e}),closeAfterContentClick:!0,open:!t&&void 0,children:(0,a.jsxs)("div",{className:m.avatarInner,children:[(0,a.jsx)(p.k,{size:72,src:e.props.avatar}),o&&(0,a.jsx)("span",{className:m.editIcon,children:(0,a.jsx)(l.J,{name:"sPen",color:"var(--theme-text-white-primary)",size:14})})]})})})}),b=(0,i.Pi)(function(e){let{vm:t}=e;return(0,a.jsxs)(c.h,{children:[(0,a.jsx)(d.X,{content:t.S.uploadPhoto,onClick:()=>{t.handleSelectImage()}},"upload"),(0,a.jsx)(d.X,{content:t.S.generate,onClick:()=>{var e,o;null===(e=(o=t.props).onGenerateClick)||void 0===e||e.call(o)}},"useAi")]})})},87520:function(e,t,o){o.d(t,{Q:function(){return eo}});var a=o(71576),r=o(34491),i=o(92660),s=o(92235),n=o(60445),l=o(56607),c=o(92386),d=o(78716),p=o.n(d),m=o(75087),g=o(68104),h=o(48023),u=o(46731),v=o(37231),A=o(81131),x=o(5857),b=o(82005),y=o(73361),f=o(44469),S=o(56872),j=o(43368),C=o(58849),N=o(75372),w={authoritySelector:"authority-selector--hCMaw",left:"left--OVYV7",popoverContent:"popover-content--o13CW",option:"option--aQRyk",item:"item--FZb7x",name:"name--A6lba"},k=o(66084),B=o(52921),U=o(88882);class M extends r.PN{get S(){return U.S.Global.modules.Bots.CreateBotDialog}get options(){return[{icon:i.UZ.lineFeatureEarth,label:this.S.public,value:"every_one"},{icon:i.UZ.lineEditorLink,label:this.S.anyWithLink,value:"access_by_link"},{icon:i.UZ.lineFeatureLock,label:this.S.onlyMe,value:"only_me"}]}onViewCreate(){}onViewDestroy(){}constructor(...e){super(...e),(0,k._)(this,"props",void 0),(0,k._)(this,"popoverOpen",!1)}}(0,B.gn)([r.SB],M.prototype,"popoverOpen",void 0),(0,B.gn)([r.Fl],M.prototype,"S",null),(0,B.gn)([r.Fl],M.prototype,"options",null);let D=r._Y.createComponent("AuthoritySelector",M,e=>{let{onChange:t,value:o}=e.props,r=e=>{let{icon:t,label:o,className:r}=e;return(0,a.jsxs)("div",{className:p()(w.item,r),children:[(0,a.jsx)(u.J,{name:t,size:20,color:"currentColor"}),(0,a.jsx)("span",{className:w.name,children:o})]})},s=(0,a.jsx)("div",{className:w.popoverContent,children:e.options.map(e=>(0,a.jsxs)("div",{className:w.option,onClick:()=>{t(e.value)},children:[(0,a.jsx)(r,{className:w.left,...e}),e.value===o&&(0,a.jsx)(u.J,{name:i.UZ.lineOperationCheck,size:16,color:"var(--theme-icon-brand)"})]},e.value))}),n=e.options.find(e=>e.value===o);return(0,a.jsx)(N.x,{trigger:"click",placement:"bottom",content:s,open:e.popoverOpen,closeAfterContentClick:!0,onOpenChange:t=>{e.popoverOpen=t},triggerNode:(0,a.jsxs)("div",{className:w.authoritySelector,children:[n&&(0,a.jsx)(r,{className:w.left,...n}),(0,a.jsx)(u.J,{name:i.UZ.lineDirectionArrowDown,style:e.popoverOpen?{transform:"rotate(180deg)"}:void 0})]})})});var I={createBotDialog:"create-bot-dialog--LwPG1",dialogTitle:"dialog-title--SdpKL",avatarBox:"avatar-box--DlWUs",formItem:"form-item--TcJvr",formItemLabel:"form-item-label--aamj4",formLabel:"form-label--XO8t9",aiGen:"ai-gen--OGSXb",aiGenDisabled:"ai-gen-disabled--r0JO5",generating:"generating--yApDN",examples:"examples--kWnXl",exampleTitle:"example-title--f3gfN",exampleDivider:"example-divider--be3Lw",exampleItem:"example-item--g45iv",modelLabel:"model-label--XOI93",modelContent:"model-content--hhZ_B",modelName:"model-name--hCfY7",textareaBox:"textarea-box--tJxqO",hidden:"hidden--YAj2C",textareaSkeleton:"textarea-skeleton--hNjOd",footer:"footer--ZH4ll",advancedCreate:"advanced-create--X2hLE",buttonGroup:"button-group--deyVd",footerBtn:"footer-btn--qubEH"},L=o(4461),_={src:"https://assets.monica.im/home-web/_next/static/media/codeAssistantBotLogo.c2189bf4.png",height:144,width:144,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAMFBMVEUfJS0WFxgfJSwcJy0gJy5MaXEfJi6NjY8dIytAQkUfJi0eJCwiKDApLjRYWFoREBFTdqAeAAAADHRSTlP2/jAt6wCw/LT5tLMnqXfyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAOklEQVR4nCXLQQ6AMAhFwUehUM0H739bE93PsP2G45sVkjoWKXv6UoLMTAI0MyNIVVUpWdE/3n6+/gI+3QG/4C8NLgAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},T={src:"https://assets.monica.im/home-web/_next/static/media/masterTranslatorBotLogo.6d6a8036.png",height:144,width:144,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAMFBMVEU8pec9pum2zeA9qOtMaXE+pOg6n99LjLJMjLJAquzW1Nk/sPdDnNPAu73FxctEgZ8A6MfyAAAACXRSTlP4svzrAC0w+fli6BIqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAOklEQVR4nDXLSRLAIAwEsbZZwhgD//9tigN3idoMrFV6mTBLx+TuLoOMiEgg91o7wfSdM2QXSxe//gMw8wF29rXPQQAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},E={src:"https://assets.monica.im/home-web/_next/static/media/writingExpertBotLogo.206fa1a5.png",height:144,width:144,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAM1BMVEUeb/5LYIQfdf8abv8cb/8ecf9wkcobbf9MaXEecf8fdf9UjOtqcHklef8vbtsbVr4fV7kijBnvAAAACnRSTlP3+bD/tLD5LgDrkFw2ngAAAAlwSFlzAAALEwAACxMBAJqcGAAAADlJREFUeJw1y0ESgCAMBMHRJYYsIP7/tR4s7930bNCyk2VpVRJG49AJ0piPAY25LYh13cLxYVfy9xc3AwGMyRbt7QAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},G=o(82270),J=o(33381),F=o(18918),V=o(34889),P=o(1396),O=o(15851),z=o(18245),R=o(46756),W=o(91433),X=o(25032),Y=o(27534),Q=o(18312),Z=o(67061),q={createBotSuccessfullyDialog:"create-bot-successfully-dialog--E_UHm",dialogTitle:"dialog-title--uoSUA",avatar:"avatar--h4jiM",botName:"bot-name--GaxWf",botDesc:"bot-desc--UKuqD",chatUrl:"chat-url--FZayc",url:"url--VTSoV",primaryButton:"primary-button--Mn6ZF",secondaryButton:"secondary-button--CyTAz"};class H extends r.PN{get S(){return U.S.Global.modules.Bots.CreateBotSuccessfullyDialog}onViewCreate(){}onViewDestroy(){}constructor(...e){super(...e),(0,k._)(this,"props",void 0),(0,k._)(this,"someState",!0)}}(0,B.gn)([r.SB],H.prototype,"someState",void 0),(0,B.gn)([r.Fl],H.prototype,"S",null);let K=r._Y.createComponent("CreateBotSuccessfullyDialog",H,e=>{let t=P.Mp.getBotItemById(e.props.botUid);if(!t)return null;let o=s.m.getChatBotPageUrl(t.uid,t.name);return(0,a.jsxs)(g.u,{className:q.createBotSuccessfullyDialog,width:388,fixed:"dialogRoot"===e.props.insertTarget,onDispose:e.props.onDisposed,children:[(0,a.jsxs)("div",{className:q.dialogTitle,children:[(0,a.jsx)(u.J,{name:"memoCheckCircle",size:32}),e.S.dialogTitle]}),(0,a.jsx)(j.k,{className:q.avatar,size:72,src:t.logoUrl}),(0,a.jsx)("div",{className:q.botName,children:t.name}),t.description&&(0,a.jsx)("div",{className:q.botDesc,children:t.description}),(0,a.jsxs)("div",{className:q.chatUrl,children:[(0,a.jsx)("span",{className:q.url,children:o}),(0,a.jsx)(X.X,{text:o,render:(e,t)=>(0,a.jsx)(Y.h,{title:"",iconName:e?"check":"monicaCopy",color:e?"var(--theme-function-success)":"var(--theme-icon-brand)",onClick:t})})]}),(0,a.jsx)(x.z,{type:"primary",size:"large",className:q.primaryButton,onClick:()=>{"other"!==Z.L.mainWindowMode?(Q.J.onTabChange("chat"),P.Mp.openBot(t.uid)):location.href=o,e.props.onDisposed()},children:e.S.startChat}),(0,a.jsx)(x.z,{type:"primaryOutline",size:"large",className:q.secondaryButton,icon:(0,a.jsx)(u.J,{name:i.UZ.lineOperationSetting}),onClick:()=>{let e=s.m.getBotDetailPageUrl(t.uid);l.o.isWeb&&"web-home"!==l.o.entryType?location.href=e:window.open(e,"_blank")},children:e.S.customizeSkills})]})}),$=b.t.createOpener(K);class ee extends r.PN{get S(){return U.S.Global.modules.Bots.CreateBotDialog}get aiGenDisabled(){return!this.botName.trim()}get createDisabled(){return this.aiGenDisabled||this.generating||this.genAvatarLoading||!this.prompt.trim()}get examples(){return[{name:this.S.masterTranslator,prompt:this.S.masterTranslatorPrompt,desc:this.S.masterTranslatorDesc,logoUrl:(0,L.Q)(T)},{name:this.S.writingExpert,prompt:this.S.writingExpertPrompt,desc:this.S.writingExpertDesc,logoUrl:(0,L.Q)(E)},{name:this.S.codeAssistant,prompt:this.S.codeAssistantPrompt,desc:this.S.codeAssistantDesc,logoUrl:(0,L.Q)(_)}]}onViewCreate(){J.userController.isVipUser&&(this.useModel="gpt-4o"),F.teamController.isTeamAccount&&(this.authority="team")}onViewDestroy(){R.y.cancelApi(this.genAvatarTaskId),R.y.cancelApi(this.genPromptTaskId),this.isDestroyed=!0}async handleCreate(){this.createBtnLoading=!0;let e={name:this.botName.trim(),prompt:this.prompt.trim(),description:this.description.trim(),logoUrl:this.logoUrl,accessByLink:"access_by_link"===this.authority,isPublic:"every_one"===this.authority,uid:"",toolData:{useModel:this.useModel}};try{let t;if(this.logoUrl.startsWith("data:"))t=s.m.dataURLtoFile(this.logoUrl,s.m.genShortId());else if(this.logoUrl.startsWith("chrome-extension:")){let e=await fetch(this.logoUrl).then(e=>e.blob());t=new File([e],s.m.genShortId(),{type:e.type})}if(t){let{cdnUrl:o,preSignedUrl:a}=await V.Gi.getS3PreSignedModuleUrl({filename:s.m.genShortId(),module:"apps",location:"chat_bot_avatar"});await V.Gi.uploadFileToS3(a,t,()=>{}),e.logoUrl=o}if(this.isDestroyed)return;let o=await P.Mp.createBot(e);await R.y.savePublishStatus({botData:o,publishState:this.authority}),await P.Mp.toggleFavorite(o.uid,!0),$({botUid:o.uid,insertTarget:"mainWindow"}),this.props.onDisposed()}catch(e){O.M.error(s.m.formatErrorMsg(e))}finally{this.createBtnLoading=!1}}async generate(){let{isEnough:e,handleCreditsNotEnough:t}=z.K.checkCredits({module:"basic_query",source:"create_bot_ai_gen"});if(!e){t();return}this.generating=!0,R.y.cancelApi(this.specialGenAvatarTaskId);try{var o,a,r,n,l;this.genAvatarTaskId=s.m.genShortId(),this.genPromptTaskId=s.m.genShortId();let[e,t]=await Promise.all([R.y.genAvatar(this.genAvatarTaskId,{name:this.botName.trim(),prompt:this.prompt.trim(),description:this.description.trim()}),R.y.genPrompt(this.genPromptTaskId,{name:this.botName})]);if(this.isDestroyed)return;if(null===(o=e.data)||void 0===o?void 0:o.imageUrl){let t=await s.m.fetchAndCompressionImage(null===(r=e.data)||void 0===r?void 0:r.imageUrl,{n:114});this.logoUrl=await s.m.fileToDataUrl(t)}else this.logoUrl=i.py;this.description=null!==(n=null==t?void 0:t.data.description)&&void 0!==n?n:this.description,this.prompt=null!==(l=null===(a=t.data)||void 0===a?void 0:a.prompt)&&void 0!==l?l:this.prompt,y.gM.updateUsageInfos()}catch(e){if(console.error(e),(null==e?void 0:e.cause)==="manualCanceled")return;console.error(e),O.M.error(s.m.formatErrorMsg(e))}finally{this.generating=!1}}async genAvatar(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],{isEnough:t,handleCreditsNotEnough:o}=z.K.checkCredits({module:"basic_query",source:"bot_avatar"});if(e&&!t){o();return}this.genAvatarLoading=!0;try{this.specialGenAvatarTaskId=s.m.genShortId();let{data:e}=await R.y.genAvatar(this.specialGenAvatarTaskId,{name:this.botName,prompt:this.prompt}),t=await s.m.fetchAndCompressionImage(e.imageUrl,{n:114});this.logoUrl=await s.m.fileToDataUrl(t)}catch(t){var a;if(console.error(t),e&&(null==t?void 0:null===(a=t.data)||void 0===a?void 0:a.code)===G.E0.quotaExceeded){o();return}if((null==t?void 0:t.cause)==="manualCanceled")return;O.M.error(s.m.formatErrorMsg(t))}finally{this.genAvatarLoading=!1}}constructor(...e){super(...e),(0,k._)(this,"props",void 0),(0,k._)(this,"logoUrl",i.py),(0,k._)(this,"botName",""),(0,k._)(this,"prompt",""),(0,k._)(this,"description",""),(0,k._)(this,"useModel",W.Q7),(0,k._)(this,"generating",!1),(0,k._)(this,"genAvatarLoading",!1),(0,k._)(this,"authority","every_one"),(0,k._)(this,"createBtnLoading",!1),(0,k._)(this,"genAvatarTaskId",""),(0,k._)(this,"genPromptTaskId",""),(0,k._)(this,"isDestroyed",!1),(0,k._)(this,"specialGenAvatarTaskId","")}}(0,B.gn)([r.SB],ee.prototype,"logoUrl",void 0),(0,B.gn)([r.SB],ee.prototype,"botName",void 0),(0,B.gn)([r.SB],ee.prototype,"prompt",void 0),(0,B.gn)([r.SB],ee.prototype,"description",void 0),(0,B.gn)([r.SB],ee.prototype,"useModel",void 0),(0,B.gn)([r.SB],ee.prototype,"generating",void 0),(0,B.gn)([r.SB],ee.prototype,"genAvatarLoading",void 0),(0,B.gn)([r.SB],ee.prototype,"authority",void 0),(0,B.gn)([r.SB],ee.prototype,"createBtnLoading",void 0),(0,B.gn)([r.Fl],ee.prototype,"S",null),(0,B.gn)([r.Fl],ee.prototype,"aiGenDisabled",null),(0,B.gn)([r.Fl],ee.prototype,"createDisabled",null),(0,B.gn)([r.Fl],ee.prototype,"examples",null);let et=r._Y.createComponent("CreateBotDialog",ee,e=>{let{onDisposed:t,insertTarget:o}=e.props;return(0,a.jsxs)(g.u,{className:I.createBotDialog,width:388,fixed:"dialogRoot"===o,onDispose:t,children:[(0,a.jsx)("div",{className:I.dialogTitle,children:e.S.dialogTitle}),(0,a.jsx)("div",{className:I.avatarBox,children:(0,a.jsx)(S.u,{showEditIcon:!0,avatar:e.logoUrl,generating:e.genAvatarLoading||e.generating,onGenerateClick:()=>{e.genAvatar().then(()=>{y.gM.updateUsageInfos()})},onGenerated:t=>{e.logoUrl=t}})}),(0,a.jsxs)("div",{className:I.formItem,children:[(0,a.jsxs)("div",{className:I.formItemLabel,children:[(0,a.jsx)("div",{className:I.formLabel,children:e.S.name}),(0,a.jsx)(h.u,{title:e.S.oneClickImprovementTips,disabled:!e.aiGenDisabled,children:(0,a.jsxs)("span",{className:p()(I.aiGen,{[I.aiGenDisabled]:e.aiGenDisabled,[I.generating]:e.generating}),onClick:()=>{e.aiGenDisabled||e.generating||e.generate()},children:[(0,a.jsx)(u.J,{name:"aiGenBotInfo",style:e.aiGenDisabled?{filter:"grayscale(1)"}:void 0}),e.generating?e.S.inProgress:e.S.oneClickImprovement]})})]}),(0,a.jsx)(v.I,{autofocus:!0,value:e.botName,placeholder:e.S.namePlaceholder,size:"large",onChange:t=>{e.botName=t}}),(0,a.jsxs)("div",{className:I.examples,children:[(0,a.jsxs)("span",{className:I.exampleTitle,children:[e.S.example,":"]}),e.examples.map((t,o)=>(0,a.jsxs)(m.Fragment,{children:[0!==o&&(0,a.jsx)("span",{className:I.exampleDivider}),(0,a.jsx)("span",{className:p()(I.exampleItem,{[I.exampleDisable]:e.generating}),onClick:()=>{e.generating||(e.logoUrl=t.logoUrl,e.botName=t.name,e.prompt=t.prompt,e.description=t.desc)},children:t.name})]},t.name))]})]}),(0,a.jsxs)("div",{className:I.formItem,children:[(0,a.jsx)("div",{className:I.formItemLabel,children:(0,a.jsx)("div",{className:I.formLabel,children:e.S.prompts})}),(0,a.jsxs)("div",{className:I.textareaBox,children:[(0,a.jsx)(A.W,{rowsData:{min:5,max:5},placeholder:e.S.promptsPlaceholder,className:p()({[I.hidden]:e.generating}),value:e.prompt,onChange:t=>{e.prompt=t.target.value}}),e.generating&&(0,a.jsx)("div",{className:I.textareaSkeleton,children:(0,a.jsx)(c.Z,{active:!0,title:!1,paragraph:{rows:3}})})]})]}),(0,a.jsxs)("div",{className:I.formItem,children:[(0,a.jsx)("div",{className:I.formItemLabel,children:(0,a.jsx)("div",{className:I.formLabel,children:e.S.model})}),(0,a.jsx)(C.T,{popoverContentWidth:346,useModel:e.useModel,scene:"botCreate",onChange:t=>{e.useModel=t},children:(e,t)=>(0,a.jsxs)("div",{className:I.modelLabel,children:[(0,a.jsx)("div",{className:I.modelContent,children:t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(j.k,{src:t.iconUrl,size:20}),(0,a.jsx)("span",{className:I.modelName,children:t.name})]}):null}),(0,a.jsx)(u.J,{name:i.UZ.lineDirectionArrowDown,style:e?{transform:"rotate(180deg)"}:void 0})]})})]}),(0,a.jsxs)("div",{className:I.formItem,children:[(0,a.jsx)("div",{className:I.formItemLabel,children:(0,a.jsx)("div",{className:I.formLabel,children:e.S.authority})}),(0,a.jsx)(D,{value:e.authority,onChange:t=>{e.authority=t}})]}),(0,a.jsxs)("div",{className:I.footer,children:[(0,a.jsxs)("a",{className:I.advancedCreate,href:s.m.genFullUrl(n.Cl.botCreate),target:l.o.isWeb&&"web-home"!==l.o.entryType?"_self":"_blank",rel:"noreferrer",onClick:()=>{if(e.botName.trim()||e.prompt.trim()||e.description.trim()||e.logoUrl){let t={name:e.botName.trim(),prompt:e.prompt.trim(),description:e.description.trim(),logoUrl:e.logoUrl,model:e.useModel};l.o.isExtension?f.T3.setBotCreateData(t):localStorage.setItem(i.storageKeys.botCreateData,JSON.stringify(t))}},children:[(0,a.jsx)(u.J,{name:i.UZ.lineOperationSetting,style:{marginRight:6,verticalAlign:"middle"}}),(0,a.jsx)("span",{style:{verticalAlign:"middle"},children:e.S.advancedCreate})]}),(0,a.jsxs)("div",{className:I.buttonGroup,children:[(0,a.jsx)(x.z,{className:I.footerBtn,onClick:()=>{t()},children:e.S.cancel}),(0,a.jsx)(x.z,{type:"primary",className:I.footerBtn,disabled:e.createDisabled,loading:e.createBtnLoading,onClick:()=>{e.handleCreate()},children:e.S.createNow})]})]})]})}),eo=b.t.createOpener(et)},58849:function(e,t,o){o.d(t,{T:function(){return A}});var a=o(71576),r=o(34491),i=o(75372),s=o(53040),n=o(46731),l=o(62499);o(75087);var c={modelSwitcherLabel:"model-switcher-label--sAxsy",icon:"icon--jm3kB",name:"name--r1H57",popoverContent:"popover-content--gX4hs",title:"title--AekMI",model:"model--ZZfvy"},d=o(66084),p=o(52921),m=o(88882),g=o(73047),h=o(32930),u=o(47720);class v extends r.PN{get S(){return m.S.Global.modules.Bots.ModelSwitcher}get customBotModelList(){let{basic:e=[],advance:t=[],inference:o=[]}=u.serverConfigController.getStaticConfig("customBotModelListV2")||{};return{basic:e.flatMap(e=>h.S.getModelItem(e)||[]),advance:t.flatMap(e=>h.S.getModelItem(e)||[]),inference:o.flatMap(e=>h.S.getModelItem(e)||[])}}get modelList(){return Object.values(this.customBotModelList).flat(1)}onViewCreate(){}onViewDestroy(){}getModelById(e){let t=e;return"gpt-3.5"===e?t="gpt-4o-mini":"gpt-4"===e?t="gpt-4o":"claude-3"===e?t="claude-3.5-sonnet":"gpt_4o"===e?t="gpt-4o":"gpt_4o_mini"===e?t="gpt-4o-mini":"deepseek_reasoner"===e?t="deepseek-reasoner":"deepseek_chat"===e?t="deepseek-chat":"claude_3.5_sonnet"===e&&(t="claude-3.5-sonnet"),this.modelList.find(e=>e.key===t||e.useModel===t)}constructor(...e){super(...e),(0,d._)(this,"props",void 0),(0,d._)(this,"popoverOpen",!1)}}(0,p.gn)([r.SB],v.prototype,"popoverOpen",void 0),(0,p.gn)([g.Fl],v.prototype,"S",null),(0,p.gn)([g.Fl],v.prototype,"customBotModelList",null),(0,p.gn)([g.Fl],v.prototype,"modelList",null);let A=r._Y.createComponent("ModelSwitcher",v,e=>{let{useModel:t,children:o}=e.props,r=e.getModelById(t);return r?(0,a.jsx)(i.x,{trigger:"click",placement:"bottomRight",content:(0,a.jsx)(x,{vm:e},t),closeAfterContentClick:!0,open:e.popoverOpen,onOpenChange:t=>{e.popoverOpen=t},children:o?o(e.popoverOpen,r):r?(0,a.jsxs)("div",{className:c.modelSwitcherLabel,children:[(0,a.jsx)("span",{className:c.icon,children:(0,a.jsx)(s.E,{src:r.iconUrl})}),(0,a.jsx)("span",{className:c.name,children:r.name}),(0,a.jsx)(n.J,{name:"arrowDown",size:12,color:"currentColor"})]}):null}):null}),x=(0,l.Pi)(function(e){let{vm:t}=e,o=t.customBotModelList.basic||[],r=t.customBotModelList.advance||[],i=[...o.length>0?[t.S.standard,...o]:[],...r.length>0?[t.S.advanced,...r]:[]];return(0,a.jsx)("div",{className:c.popoverContent,style:{width:t.props.popoverContentWidth},children:i.map(e=>{if("string"==typeof e)return(0,a.jsx)("div",{className:c.title,children:e},e);let{useModel:o,name:r,iconUrl:i}=e;return(0,a.jsxs)("div",{className:c.model,onClick:()=>{var e,a;null===(e=(a=t.props).onChange)||void 0===e||e.call(a,o)},children:[(0,a.jsx)("div",{className:c.icon,children:(0,a.jsx)(s.E,{src:i})}),r,o===t.props.useModel?(0,a.jsx)(n.J,{name:"check",size:"botCreate"===t.props.scene?16:12,color:"var(--text-brand)",style:{marginLeft:"auto"}}):null]},o)})})})},45063:function(e,t,o){o.d(t,{b:function(){return v}});var a=o(71576),r=o(34491),i=o(48023),s=o(46731),n=o(92020),l=o(78716),c=o.n(l),d=o(18312),p=o(66084),m=o(52921),g=o(88882),h=o(73047);class u extends r.PN{get S(){return g.S.Global.modules.MainWindow.SidebarFoldBtn}onViewCreate(){}onViewDestroy(){}constructor(...e){super(...e),(0,p._)(this,"props",void 0)}}(0,m.gn)([h.Fl],u.prototype,"S",null);let v=r._Y.createComponent("SidebarFoldBtn",u,e=>{let{className:t}=e.props;return(0,a.jsx)(i.u,{placement:"bottom",trigger:"hover",title:d.J.homeSidebarCollapsed?e.S.openSidebar:e.S.foldSidebar,children:(0,a.jsx)("div",{className:c()("sidebar-fold-btn--7rjHi",t),onClick:()=>{n.ll.setUiFlag("homeSidebarManuallyCollapsed",!d.J.homeSidebarCollapsed),d.J.isHomeSidebarAutoCollapsed=!1},children:(0,a.jsx)(s.J,{name:"sidebarIcon",color:"currentColor",size:20,style:{color:"var(--theme-icon-quaternary)"}})})})})},46494:function(e,t,o){o.d(t,{Q:function(){return h}});var a=o(71576),r=o(34491),i=o(78716),s=o.n(i),n=o(26120),l=o(18312),c={viewTitle:"view-title--uQWYf",back:"back--HC9xQ",content:"content--TD38j"},d=o(66084),p=o(52921),m=o(88882);class g extends r.PN{get S(){return m.S.Global.modules.MainWindow.ViewTitle}onViewCreate(){}onViewDestroy(){}constructor(...e){super(...e),(0,d._)(this,"props",void 0),(0,d._)(this,"someState",!0)}}(0,p.gn)([r.SB],g.prototype,"someState",void 0),(0,p.gn)([r.Fl],g.prototype,"S",null);let h=r._Y.createComponent("ViewTitle",g,e=>{let t=l.J.tabs.find(t=>t.key===e.props.tabKey);return(0,a.jsxs)("div",{className:s()(c.viewTitle,e.props.className),children:[!e.props.hiddenBack&&(null==t?void 0:t.from)&&(0,a.jsx)("span",{className:c.back,onClick:()=>{l.J.onBack(t.key)},children:(0,a.jsx)(n.w,{size:18,color:"currentColor"})}),(0,a.jsx)("h2",{className:c.content,children:e.props.title})]})})}}]);